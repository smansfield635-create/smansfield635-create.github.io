<!-- TNT: /laws/index.html (FULL REPLACEMENT — restores 4-diamond symmetry, center Categories, opaque previews) -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Laws · Geodiametrics</title>

  <link rel="icon" href="/assets/favicon.svg" />
  <link rel="stylesheet" href="/assets/ui.css" />
  <link rel="stylesheet" href="/assets/branch.css" />

  <style>
    /* Page-local (minimal) — ensures previews are opaque + never block links when closed */
    .gModalBackdrop{
      position:fixed; inset:0;
      background:rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      z-index:9999;
    }
    .gModalBackdrop.isOpen{ display:flex; }

    .gModalCard{
      width:min(520px, 100%);
      border-radius:26px;
      background:rgba(25,35,45,.96); /* OPAQUE */
      border:1px solid rgba(255,255,255,.18);
      box-shadow:0 18px 60px rgba(0,0,0,.45);
      padding:22px 18px 16px;
      text-align:left;
    }
    .gModalTitle{
      font-size:24px;
      font-weight:800;
      letter-spacing:-0.02em;
      margin-bottom:10px;
      color:rgba(241,246,251,.98);
    }
    .gModalBody{
      font-size:16px;
      line-height:1.45;
      color:rgba(241,246,251,.84);
      margin-bottom:14px;
    }
    .gModalHint{
      font-size:13px;
      color:rgba(241,246,251,.62);
      text-align:center;
      margin:10px 0 0;
    }
    .gModalActions{
      display:flex;
      gap:10px;
      justify-content:center;
      margin-top:10px;
      flex-wrap:wrap;
    }
    .gBtnMini{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:12px 16px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.10);
      color:rgba(241,246,251,.92);
      text-decoration:none;
      font-weight:700;
      min-width:140px;
    }
    .gBtnMini:active{ transform: translateY(1px); }
    .gBtnMiniPrimary{
      background:rgba(64,160,255,.28);
      border-color:rgba(120,190,255,.35);
    }

    /* Important: keep diamonds clean — no subtext */
    .gKeyText small{ display:none !important; }

    /* Keep center label readable */
    .gKey.gCenter .gKeyText strong{
      display:block;
      font-size:20px;
      line-height:1.05;
    }
  </style>
</head>

<body>
  <main class="gPage">
    <header class="gHeader">
      <h1 class="gTitle">Laws</h1>
      <p class="gSub">Tap a diamond to preview. Enter when ready.</p>
    </header>

    <section class="gPanel" aria-label="Laws entry">
      <!-- 4 diamonds + center (no extra layers) -->
      <div class="gCluster" role="navigation" aria-label="Law category preview and entry">
        <!-- TOP -->
        <a class="gKey gTop jsPreview" href="/laws/categories/reality/" data-title="Reality" data-body="Reality defines what is. It separates what exists from what is assumed.">
          <span class="gKeyText"><strong>Reality</strong></span>
        </a>

        <!-- RIGHT -->
        <a class="gKey gRight jsPreview" href="/laws/categories/structure/" data-title="Structure" data-body="Structure defines what holds. Constraints preserve form and prevent collapse.">
          <span class="gKeyText"><strong>Structure</strong></span>
        </a>

        <!-- BOTTOM -->
        <a class="gKey gBottom jsPreview" href="/laws/categories/flow/" data-title="Flow" data-body="Flow defines what moves. Change has direction, cost, and consequence.">
          <span class="gKeyText"><strong>Flow</strong></span>
        </a>

        <!-- LEFT -->
        <a class="gKey gLeft jsPreview" href="/laws/categories/integrity/" data-title="Integrity" data-body="Integrity defines what stays true. Alignment holds across time, pressure, and audience.">
          <span class="gKeyText"><strong>Integrity</strong></span>
        </a>

        <!-- CENTER: direct route -->
        <a class="gKey gCenter" href="/laws/categories/" aria-label="Enter categories">
          <span class="gKeyText"><strong>Categories</strong></span>
        </a>
      </div>

      <div class="gActions" aria-label="Navigation controls">
        <a class="gBtn" href="/home/">Home</a>
        <a class="gBtn" href="/home/">Back</a>
      </div>

      <footer class="gFooter">CANONICAL · STABLE · © GEODIAMETRICS</footer>
    </section>
  </main>

  <!-- OPAQUE PREVIEW MODAL -->
  <div class="gModalBackdrop" id="gModal" aria-hidden="true">
    <div class="gModalCard" role="dialog" aria-modal="true" aria-labelledby="gModalTitle">
      <div class="gModalTitle" id="gModalTitle">Title</div>
      <div class="gModalBody" id="gModalBody">Body</div>

      <div class="gModalActions">
        <a class="gBtnMini gBtnMiniPrimary" id="gModalEnter" href="/laws/categories/">Enter</a>
        <button class="gBtnMini" id="gModalClose" type="button">Close</button>
      </div>

      <div class="gModalHint">Tap anywhere to close</div>
    </div>
  </div>

  <script>
    (function(){
      const modal = document.getElementById('gModal');
      const t = document.getElementById('gModalTitle');
      const b = document.getElementById('gModalBody');
      const enter = document.getElementById('gModalEnter');
      const closeBtn = document.getElementById('gModalClose');

      function openModal(title, body, href){
        t.textContent = title || '';
        b.textContent = body || '';
        enter.setAttribute('href', href || '/laws/categories/');
        modal.classList.add('isOpen');
        modal.setAttribute('aria-hidden','false');
      }
      function closeModal(){
        modal.classList.remove('isOpen');
        modal.setAttribute('aria-hidden','true');
      }

      // Close on backdrop tap (but not when tapping the card)
      modal.addEventListener('click', (e) => {
        if(e.target === modal) closeModal();
      });
      // Close on explicit button
      closeBtn.addEventListener('click', closeModal);
      // Close on ESC
      document.addEventListener('keydown', (e) => {
        if(e.key === 'Escape' && modal.classList.contains('isOpen')) closeModal();
      });

      // Preview links
      document.querySelectorAll('.jsPreview').forEach(a => {
        a.addEventListener('click', (e) => {
          // preview only (do not navigate)
          e.preventDefault();
          openModal(a.dataset.title, a.dataset.body, a.getAttribute('href'));
        });
      });
    })();
  </script>
</body>
</html>
