<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Home ¬∑ Coherent Resolution Platform</title>

<style>
:root{
  --red-deep:#4a0000;
  --red-lacquer:#7a0c0c;
  --gold:#d4af37;
  --gold-glow:rgba(212,175,55,.45);
  --silver:#cfd3da;
  --silver-glow:rgba(207,211,218,.35);
  --ink:#0a0f14;

  --line:rgba(255,255,255,.10);
  --soft:rgba(255,255,255,.06);

  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.70);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  color:var(--text);
  background:
    radial-gradient(1200px 700px at 50% 0%, var(--red-lacquer) 0%, var(--red-deep) 55%, var(--ink) 100%);
  overflow-x:hidden;
}

.page{
  width:min(980px,94vw);
  margin:0 auto;
  padding:26px 14px 70px;
}

.hero{position:relative;z-index:5;text-align:left}
.hero h1{
  margin:0;
  font-size:44px;
  font-weight:900;
  letter-spacing:.12em;
  text-transform:uppercase;
}
.hero p{
  margin:10px 0 0;
  opacity:.78;
  font-size:16px;
  line-height:1.4;
}

.topbar{
  margin-top:14px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
}
.pill{
  border-radius:999px;
  padding:10px 14px;
  background:rgba(255,255,255,.06);
  border:1px solid var(--line);
  box-shadow:inset 0 0 0 1px rgba(0,0,0,.12);
  font-weight:900;
  letter-spacing:.12em;
  text-transform:uppercase;
  font-size:12px;
  color:var(--text);
  text-decoration:none;
  user-select:none;
}
.pill:hover{background:rgba(255,255,255,.08)}
.pill.gold{border-color:rgba(212,175,55,.40); box-shadow:0 0 18px var(--gold-glow) inset}
.pill.silver{border-color:rgba(207,211,218,.34); box-shadow:0 0 18px var(--silver-glow) inset}
.pill.active{
  background:rgba(255,255,255,.10);
  border-color:rgba(212,175,55,.42);
  box-shadow:0 0 16px rgba(212,175,55,.18) inset;
}

.section-title{
  margin-top:18px;
  letter-spacing:.18em;
  text-transform:uppercase;
  opacity:.7;
  font-size:12px;
}

details.quad{
  margin-top:12px;
  border-radius:22px;
  background:linear-gradient(180deg, rgba(0,0,0,.30), rgba(0,0,0,.18));
  border:1px solid var(--line);
  box-shadow:0 22px 70px rgba(0,0,0,.55);
  backdrop-filter:blur(12px);
  overflow:hidden;
}
details.quad summary{
  list-style:none;
  cursor:pointer;
  padding:16px 16px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  -webkit-tap-highlight-color:transparent;
}
details.quad summary::-webkit-details-marker{display:none}

.q-left{display:flex;align-items:center;gap:12px;min-width:0}
.q-badge{
  width:56px;height:40px;border-radius:16px;
  background:rgba(0,0,0,.22);
  border:1px solid rgba(255,255,255,.12);
  display:flex;align-items:center;justify-content:center;
  font-weight:900;letter-spacing:.10em;
  flex:0 0 auto;
}
.q-badge.gold{border-color:rgba(212,175,55,.50); box-shadow:0 0 14px var(--gold-glow) inset}
.q-badge.sun{border-color:rgba(212,175,55,.26); box-shadow:0 0 10px rgba(212,175,55,.18) inset}
.q-badge.city{border-color:rgba(207,211,218,.24); box-shadow:0 0 10px rgba(207,211,218,.16) inset}
.q-badge.set{border-color:rgba(207,211,218,.20); box-shadow:0 0 10px rgba(207,211,218,.14) inset}

.q-text{min-width:0}
.q-text b{display:block;font-size:18px;letter-spacing:.12em;text-transform:uppercase}
.q-text span{display:block;opacity:.72;margin-top:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

.q-arrow{
  width:42px;height:42px;border-radius:999px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.10);
  display:flex;align-items:center;justify-content:center;
  opacity:.9;
  flex:0 0 auto;
}

.inside{padding:0 16px 16px}

.grid2{
  display:grid;
  grid-template-columns:1fr;
  gap:10px;
  margin-top:8px;
}
@media(min-width:760px){.grid2{grid-template-columns:1fr 1fr}}

.bubble{
  border-radius:18px;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.10);
  padding:12px 12px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  cursor:pointer;
  user-select:none;
  -webkit-tap-highlight-color:transparent;
}
.bubble:hover{background:rgba(255,255,255,.07)}
.bubble .t{min-width:0}
.bubble .t b{
  display:block;
  font-size:13px;
  letter-spacing:.14em;
  text-transform:uppercase;
}
.bubble .t i{
  display:block;
  font-style:normal;
  opacity:.72;
  font-size:12px;
  margin-top:2px;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.bubble .go{
  width:40px;height:40px;border-radius:999px;
  background:rgba(0,0,0,.18);
  border:1px solid rgba(255,255,255,.10);
  display:flex;align-items:center;justify-content:center;
  opacity:.9;
  flex:0 0 auto;
}
.bubble.active{
  border-color:rgba(212,175,55,.45);
  box-shadow:0 0 14px rgba(212,175,55,.18) inset;
}

/* LOCAL INLINE DETAIL (no scrolling) */
.detail{
  margin-top:10px;
  border-radius:22px;
  background:linear-gradient(180deg, rgba(0,0,0,.34), rgba(0,0,0,.22));
  border:1px solid rgba(255,255,255,.10);
  box-shadow:0 18px 60px rgba(0,0,0,.55);
  padding:14px 14px;
  display:none;
}
.detail.open{display:block}
.detailhead{
  display:flex;
  justify-content:space-between;
  gap:12px;
  align-items:center;
  opacity:.75;
  letter-spacing:.18em;
  text-transform:uppercase;
  font-size:12px;
}
.detailtitle{
  margin-top:10px;
  font-weight:900;
  letter-spacing:.08em;
  font-size:18px;
}
.detailp{
  margin-top:8px;
  color:rgba(255,255,255,.78);
  line-height:1.55;
}

.lensrow{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:10px;
}
.lenschip{
  border-radius:999px;
  padding:8px 12px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.06);
  letter-spacing:.14em;
  text-transform:uppercase;
  font-size:11px;
  opacity:.9;
}
.lenschip.on{
  border-color:rgba(212,175,55,.45);
  box-shadow:0 0 16px rgba(212,175,55,.18) inset;
}

.jumprow{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:12px;
}
.jump{
  border-radius:18px;
  padding:12px 14px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.06);
  text-decoration:none;
  color:var(--text);
  font-weight:900;
  letter-spacing:.12em;
  text-transform:uppercase;
  font-size:12px;
}
.jump:hover{background:rgba(255,255,255,.08)}
.jump.gold{border-color:rgba(212,175,55,.45); box-shadow:0 0 16px var(--gold-glow) inset}

.brand{
  margin-top:22px;
  opacity:.30;
  letter-spacing:.35em;
  text-transform:uppercase;
  font-size:12px;
  text-align:center;
}
.footer{
  margin-top:8px;
  opacity:.35;
  font-size:12px;
  letter-spacing:.2em;
  text-align:center;
}
</style>
</head>

<body>
<div class="page">

  <div class="hero">
    <h1>HOME</h1>
    <p id="desc">Explore the system. Tap a bubble to expand details in-place. Your lens (Origin / Now / Trajectory) filters everything.</p>

    <div class="topbar">
      <span class="pill silver" id="langPill">LANG: EN</span>
      <span class="pill gold" id="depthPill">DEPTH: EXPLORE</span>

      <!-- GLOBAL TIMELINE LENS (top-of-page, applies everywhere) -->
      <span class="pill" id="lensOrigin" role="button">ORIGIN</span>
      <span class="pill active" id="lensNow" role="button">NOW</span>
      <span class="pill" id="lensTrajectory" role="button">TRAJECTORY</span>

      <a class="pill" href="/door/">CHANGE DEPTH</a>
      <a class="pill" href="/">CHANGE LANGUAGE</a>

      <!-- SINGLE GLOBAL JUMP -->
      <a class="pill gold" href="/door/" id="jumpHome">JUMP HOME</a>
    </div>

    <div class="section-title">Quadrant routes (NW / NE / SW / SE)</div>
  </div>

  <!-- NW -->
  <details class="quad" open>
    <summary>
      <div class="q-left">
        <div class="q-badge gold">‚≠ê NW</div>
        <div class="q-text">
          <b>Northwest</b>
          <span>Definition ¬∑ language ¬∑ structure</span>
        </div>
      </div>
      <div class="q-arrow">‚ñæ</div>
    </summary>

    <div class="inside">
      <div class="grid2">
        <div class="bubble" data-block="ssg">
          <div class="t"><b>SSG</b><i>Resources ¬∑ Stores ¬∑ Constraints ¬∑ Goals ¬∑ Guards</i></div>
          <div class="go">‚ñ∂</div>
        </div>
        <div class="bubble" data-block="grammar">
          <div class="t"><b>Diamond Grammar</b><i>Hub-first traversal ¬∑ receipt gating</i></div>
          <div class="go">‚ñ∂</div>
        </div>
        <div class="bubble" data-block="dotgrid">
          <div class="t"><b>DOT.GRID</b><i>256-state indexing ¬∑ replay + audit</i></div>
          <div class="go">‚ñ∂</div>
        </div>
        <div class="bubble" data-block="acronyms">
          <div class="t"><b>Acronyms</b><i>Pillar map + usage</i></div>
          <div class="go">‚ñ∂</div>
        </div>
      </div>

      <div class="detail" data-detail>
        <div class="detailhead">
          <div>DETAIL</div>
          <div>EXPANDS HERE (NO SCROLL)</div>
        </div>
        <div class="detailtitle" data-title>Tap a bubble</div>
        <div class="detailp" data-p>Details render in-place under the quadrant where you tapped.</div>

        <!-- Shows which global lens is active -->
        <div class="lensrow">
          <span class="lenschip" data-chip="origin">Origin</span>
          <span class="lenschip on" data-chip="now">Now</span>
          <span class="lenschip" data-chip="trajectory">Trajectory</span>
        </div>

        <div class="detailp" data-p2 style="margin-top:12px"></div>

        <!-- SINGLE JUMP ONLY -->
        <div class="jumprow">
          <a class="jump gold" href="/door/">JUMP HOME</a>
        </div>
      </div>
    </div>
  </details>

  <!-- NE -->
  <details class="quad">
    <summary>
      <div class="q-left">
        <div class="q-badge sun">üåû NE</div>
        <div class="q-text">
          <b>Northeast</b>
          <span>Execution ¬∑ surfaces ¬∑ examples</span>
        </div>
      </div>
      <div class="q-arrow">‚ñæ</div>
    </summary>

    <div class="inside">
      <div class="grid2">
        <div class="bubble" data-block="surfaces">
          <div class="t"><b>Execution Surfaces</b><i>Apps ¬∑ portals ¬∑ interfaces</i></div>
          <div class="go">‚ñ∂</div>
        </div>
        <div class="bubble" data-block="receipts">
          <div class="t"><b>Workflows & Receipts</b><i>Audit trails ¬∑ replay safety</i></div>
          <div class="go">‚ñ∂</div>
        </div>
        <div class="bubble" data-block="examples">
          <div class="t"><b>Examples</b><i>How to use the system</i></div>
          <div class="go">‚ñ∂</div>
        </div>
        <div class="bubble" data-block="packs">
          <div class="t"><b>Packs & Outputs</b><i>Downloadables ¬∑ packaged artifacts</i></div>
          <div class="go">‚ñ∂</div>
        </div>
      </div>

      <div class="detail" data-detail>
        <div class="detailhead">
          <div>DETAIL</div>
          <div>EXPANDS HERE (NO SCROLL)</div>
        </div>
        <div class="detailtitle" data-title>Tap a bubble</div>
        <div class="detailp" data-p>Details render in-place under the quadrant where you tapped.</div>

        <div class="lensrow">
          <span class="lenschip" data-chip="origin">Origin</span>
          <span class="lenschip on" data-chip="now">Now</span>
          <span class="lenschip" data-chip="trajectory">Trajectory</span>
        </div>

        <div class="detailp" data-p2 style="margin-top:12px"></div>

        <div class="jumprow">
          <a class="jump gold" href="/door/">JUMP HOME</a>
        </div>
      </div>
    </div>
  </details>

  <!-- SW -->
  <details class="quad">
    <summary>
      <div class="q-left">
        <div class="q-badge city">üèÆ SW</div>
        <div class="q-text">
          <b>Southwest</b>
          <span>Measurement ¬∑ diagnostics ¬∑ rules</span>
        </div>
      </div>
      <div class="q-arrow">‚ñæ</div>
    </summary>

    <div class="inside">
      <div class="grid2">
        <div class="bubble" data-block="gauges">
          <div class="t"><b>Gauges</b><i>Instrument panels ¬∑ thresholds</i></div>
          <div class="go">‚ñ∂</div>
        </div>
        <div class="bubble" data-block="diagnostics">
          <div class="t"><b>Diagnostics</b><i>Classification under constraint</i></div>
          <div class="go">‚ñ∂</div>
        </div>
        <div class="bubble" data-block="rules">
          <div class="t"><b>Rules</b><i>Navigation + integrity</i></div>
          <div class="go">‚ñ∂</div>
        </div>
        <div class="bubble" data-block="protocols">
          <div class="t"><b>Protocols</b><i>Return / replay / audit</i></div>
          <div class="go">‚ñ∂</div>
        </div>
      </div>

      <div class="detail" data-detail>
        <div class="detailhead">
          <div>DETAIL</div>
          <div>EXPANDS HERE (NO SCROLL)</div>
        </div>
        <div class="detailtitle" data-title>Tap a bubble</div>
        <div class="detailp" data-p>Details render in-place under the quadrant where you tapped.</div>

        <div class="lensrow">
          <span class="lenschip" data-chip="origin">Origin</span>
          <span class="lenschip on" data-chip="now">Now</span>
          <span class="lenschip" data-chip="trajectory">Trajectory</span>
        </div>

        <div class="detailp" data-p2 style="margin-top:12px"></div>

        <div class="jumprow">
          <a class="jump gold" href="/door/">JUMP HOME</a>
        </div>
      </div>
    </div>
  </details>

  <!-- SE -->
  <details class="quad">
    <summary>
      <div class="q-left">
        <div class="q-badge set">üåá SE</div>
        <div class="q-text">
          <b>Southeast</b>
          <span>Identity ¬∑ references ¬∑ links</span>
        </div>
      </div>
      <div class="q-arrow">‚ñæ</div>
    </summary>

    <div class="inside">
      <div class="grid2">
        <div class="bubble" data-block="orcid">
          <div class="t"><b>ORCID</b><i>Research identity anchor</i></div>
          <div class="go">‚ñ∂</div>
        </div>
        <div class="bubble" data-block="osf">
          <div class="t"><b>OSF</b><i>Project registry / preprints</i></div>
          <div class="go">‚ñ∂</div>
        </div>
        <div class="bubble" data-block="refs">
          <div class="t"><b>References</b><i>Core citations / anchors</i></div>
          <div class="go">‚ñ∂</div>
        </div>
        <div class="bubble" data-block="contact">
          <div class="t"><b>Contact</b><i>Direct channel</i></div>
          <div class="go">‚ñ∂</div>
        </div>
      </div>

      <div class="detail" data-detail>
        <div class="detailhead">
          <div>DETAIL</div>
          <div>EXPANDS HERE (NO SCROLL)</div>
        </div>
        <div class="detailtitle" data-title>Tap a bubble</div>
        <div class="detailp" data-p>Details render in-place under the quadrant where you tapped.</div>

        <div class="lensrow">
          <span class="lenschip" data-chip="origin">Origin</span>
          <span class="lenschip on" data-chip="now">Now</span>
          <span class="lenschip" data-chip="trajectory">Trajectory</span>
        </div>

        <div class="detailp" data-p2 style="margin-top:12px"></div>

        <div class="jumprow">
          <a class="jump gold" href="/door/">JUMP HOME</a>
        </div>
      </div>
    </div>
  </details>

  <div class="brand">GEODIAMETRICS</div>
  <div class="footer">CANONICAL ¬∑ STABLE ¬∑ ¬© GEODIAMETRICS</div>
</div>

<script>
(function(){
  const lang = (localStorage.getItem('crp_lang') || 'en').toLowerCase();
  const depth = (localStorage.getItem('crp_depth') || 'explore').toLowerCase();
  let lens = (localStorage.getItem('crp_lens') || 'now').toLowerCase(); // origin | now | trajectory

  const langPill = document.getElementById('langPill');
  const depthPill = document.getElementById('depthPill');
  langPill.textContent = 'LANG: ' + (lang === 'zh' ? '‰∏≠Êñá' : 'EN');
  depthPill.textContent = 'DEPTH: ' + (depth === 'learn' ? 'LEARN' : 'EXPLORE');

  const lensBtns = {
    origin: document.getElementById('lensOrigin'),
    now: document.getElementById('lensNow'),
    trajectory: document.getElementById('lensTrajectory')
  };

  function setLens(next){
    lens = next;
    localStorage.setItem('crp_lens', lens);
    Object.keys(lensBtns).forEach(k => lensBtns[k].classList.toggle('active', k === lens));
    // Update any open detail panel copy to match current lens
    document.querySelectorAll('.detail.open').forEach(detail=>{
      const blockKey = detail.getAttribute('data-open-block');
      if(!blockKey) return;
      const b = blocks[blockKey];
      if(!b) return;
      writeDetail(detail, b);
    });
  }

  lensBtns.origin.addEventListener('click',()=>setLens('origin'));
  lensBtns.now.addEventListener('click',()=>setLens('now'));
  lensBtns.trajectory.addEventListener('click',()=>setLens('trajectory'));

  const blocks = {
    // NW
    ssg:{
      t:'SSG ‚Äî Simplified Syntax Geometry',
      origin:'Built to compress app behavior into constraint-native specs (the minimal executable vocabulary).',
      now:'Used to express Resources / Stores / Constraints / Goals / Guards, with receipt-gated flow.',
      trajectory:'Becomes a replay-safe execution contract standard across domains and teams.',
      learn:'Primitives: Resource, Store, Constraint, Goal, Guard. Receipts gate advancement. Navigation-first invariants prevent drift.'
    },
    grammar:{
      t:'Diamond Grammar',
      origin:'Designed to eliminate ambiguity by forcing one coherent choice at a time.',
      now:'Runs hub-first traversal + receipt gating so navigation stays stable as content grows.',
      trajectory:'Scales into multi-portal routing without semantic drift.',
      learn:'Rule: choose one route, complete it, return to hub. Back-nav invalidates downstream receipts.'
    },
    dotgrid:{
      t:'DOT.GRID',
      origin:'Created to index evidence and decisions under consistent constraint rules.',
      now:'Provides 256-state indexing for replay and audit.',
      trajectory:'Enables observer-consistent classification across domains (shared coordinates).',
      learn:'Use it to log evidence streams, score admissibility, compare trajectories under identical constraints.'
    },
    acronyms:{
      t:'Acronyms & Glossary',
      origin:'Introduced to prevent meaning collapse as the system scales.',
      now:'Pillarized map + usage notes.',
      trajectory:'Becomes a shared vocabulary layer for teams and institutions.',
      learn:'Goal: reduce semantic drift across time, domains, and collaborators.'
    },

    // NE
    surfaces:{t:'Execution Surfaces',origin:'Interfaces were built to keep complexity inside the engine, not on the UI.',now:'Apps / portals / interfaces expose the engine as usable workflow.',trajectory:'Surfaces become standardized portals across products.',learn:'Surfaces stay simple; depth lives in blocks and nested bubbles.'},
    receipts:{t:'Workflows & Receipts',origin:'Receipts were created to make progress verifiable.',now:'Audit trails + replay safety. Proof of completion and handoff.',trajectory:'Receipts become portable across systems (interoperable state).',learn:'Advance only after receipt. Back-nav invalidates downstream receipts.'},
    examples:{t:'Examples',origin:'Examples anchor abstract structure into action.',now:'How to use the system with real routes and decisions.',trajectory:'Examples become templates for institutions and teams.',learn:'Start small: one route, one receipt, one return.'},
    packs:{t:'Packs & Outputs',origin:'Packaged outputs were built to ship utility fast.',now:'Downloadables + structured materials.',trajectory:'Outputs become certified tracks and reusable kits.',learn:'Everything is designed to be reusable and composable.'},

    // SW
    gauges:{t:'Gauges',origin:'Gauges were built to measure coherence under load.',now:'Instrument panels, consistency checks, thresholds.',trajectory:'Gauges evolve into real-time stability monitoring.',learn:'Gauges measure signal integrity and rule adherence.'},
    diagnostics:{t:'Diagnostics',origin:'Diagnostics classify systems under constraint.',now:'Coherence / drift / confusion categories; observer-consistent targets.',trajectory:'Diagnostics become universal early-warning systems.',learn:'Replay-driven audits; identical evidence ‚Üí identical classification.'},
    rules:{t:'Rules',origin:'Rules were defined to keep traversal stable.',now:'Navigation + integrity rules to prevent runaway drift.',trajectory:'Rules become governance standards.',learn:'Return protocol prevents compounding incoherence.'},
    protocols:{t:'Protocols',origin:'Protocols convert principles into repeatable actions.',now:'Operational handoffs, verification, replay.',trajectory:'Protocols scale into certified operating procedures.',learn:'Protocol = repeatable action under constraint.'},

    // SE
    orcid:{t:'ORCID',origin:'Identity anchors attribution and continuity.',now:'Researcher identity reference point.',trajectory:'Stable identity improves traceability of artifacts long-term.',learn:'Use for attribution and continuity across publications.'},
    osf:{t:'OSF',origin:'Registry creates a public research spine.',now:'Project registry / preprints / canonical references.',trajectory:'OSF becomes the continuity ledger for the system.',learn:'Keeps provenance stable as branches expand.'},
    refs:{t:'References',origin:'References prevent semantic drift.',now:'Core citations and anchors.',trajectory:'Anchors become shared coordinates across readers.',learn:'Reference stability prevents meaning collapse.'},
    contact:{t:'Contact',origin:'Direct channel exists to restore alignment quickly.',now:'Communication line for access and collaboration.',trajectory:'Contact becomes intake for certification / adoption.',learn:'Use this when you need alignment or access.'}
  };

  function updateLensChips(detailEl){
    const chips = detailEl.querySelectorAll('.lenschip');
    chips.forEach(ch=>{
      const k = ch.getAttribute('data-chip');
      ch.classList.toggle('on', k === lens);
    });
  }

  function writeDetail(detailEl, b){
    detailEl.querySelector('[data-title]').textContent = b.t;

    // Base text = chosen lens (global)
    const base = b[lens] || b.now || '';
    detailEl.querySelector('[data-p]').textContent = base;

    // Learn adds extra depth line
    const p2 = detailEl.querySelector('[data-p2]');
    if(depth === 'learn'){
      p2.style.display = 'block';
      p2.textContent = b.learn || '';
    }else{
      p2.style.display = 'none';
      p2.textContent = '';
    }

    updateLensChips(detailEl);
  }

  // Bubble click: open local detail, store which block is open there (for lens updates)
  document.querySelectorAll('.bubble').forEach(bub=>{
    bub.addEventListener('click', ()=>{
      const k = bub.getAttribute('data-block');
      const b = blocks[k];
      if(!b) return;

      const inside = bub.closest('.inside');
      const detail = inside.querySelector('[data-detail]');
      if(!detail) return;

      inside.querySelectorAll('.bubble').forEach(x=>x.classList.remove('active'));
      bub.classList.add('active');

      detail.setAttribute('data-open-block', k);
      writeDetail(detail, b);
      detail.classList.add('open');
    });
  });

  // Initialize lens buttons
  if(!lensBtns[lens]) lens = 'now';
  setLens(lens);
})();
</script>

</body>
</html>
