<!-- TNT FILE: /index.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Welcome · Geodiametrics</title>

  <link rel="stylesheet" href="/assets/ui.css?v=2001"/>
  <link rel="stylesheet" href="/assets/branch.css?v=2001"/>

  <style>
    /* INDEX (China-red + cosmic) — self-contained (no other file edits required) */
    body{
      background:
        radial-gradient(1200px 900px at 50% 10%, rgba(150,0,0,.55) 0%, rgba(20,0,0,.35) 35%, rgba(5,7,12,1) 100%),
        radial-gradient(1400px 900px at 50% 18%, #152532 0%, #0b1620 50%, #05070c 100%);
    }
    .index-wrap{width:min(920px,94vw);margin:0 auto;display:flex;flex-direction:column;gap:18px}
    .hero{padding-top:18px}
    .hero h1{font-size:clamp(44px,7vw,72px);margin:0;font-weight:900;letter-spacing:.01em}
    .hero p{margin:10px 0 0;opacity:.78;font-size:18px}
    .card{
      border-radius:22px;
      background:rgba(255,255,255,.05);
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.10),0 30px 80px rgba(0,0,0,.55);
      padding:18px;
      backdrop-filter:blur(12px);
    }
    .grid2{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:640px){.grid2{grid-template-columns:1fr 1fr}}
    .pick{
      border-radius:20px;
      padding:18px 16px;
      background:rgba(255,255,255,.06);
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.10);
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      cursor:pointer;
      user-select:none;
    }
    .pick strong{font-size:18px}
    .pick span{opacity:.75}
    .pick:hover{background:rgba(255,255,255,.08)}
    .hint{opacity:.7;font-size:14px;line-height:1.5;margin:0}
    .tiny{opacity:.55;font-size:12px;letter-spacing:.18em;margin-top:10px}
  </style>
</head>

<body>
<div class="shooting-stars"></div>

<div class="page">
  <div class="index-wrap">

    <div class="hero">
      <h1 id="t_title">Welcome</h1>
      <p id="t_sub">Choose your language once. Everything after this stays in that language.</p>
    </div>

    <div class="card">
      <div class="grid2">
        <div class="pick" role="button" tabindex="0" onclick="setLang('en')" onkeypress="if(event.key==='Enter'){setLang('en')}">
          <div>
            <strong>English</strong><br/>
            <span>Proceed in English.</span>
          </div>
          <div>EN</div>
        </div>

        <div class="pick" role="button" tabindex="0" onclick="setLang('zh')" onkeypress="if(event.key==='Enter'){setLang('zh')}">
          <div>
            <strong>中文</strong><br/>
            <span>使用简体中文继续。</span>
          </div>
          <div>中文</div>
        </div>
      </div>

      <p class="hint" id="t_hint" style="margin-top:14px;">
        After you choose, you’ll set your depth (Shop vs Learn) one time, then enter the hub.
      </p>

      <div class="tiny">CANONICAL · STABLE · © GEODIAMETRICS</div>
    </div>

  </div>
</div>

<script>
  (function boot(){
    // If already chosen, skip index.
    const lang = localStorage.getItem('gd_lang');
    if(lang === 'en' || lang === 'zh'){
      location.href = '/door/';
      return;
    }
  })();

  function setLang(lang){
    localStorage.setItem('gd_lang', lang);
    // default depth if unset
    if(!localStorage.getItem('gd_depth')) localStorage.setItem('gd_depth','shop');
    location.href = '/door/';
  }
</script>
</body>
</html>
