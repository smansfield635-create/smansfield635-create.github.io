<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Door</title>

<link rel="stylesheet" href="/assets/ui.css?v=9001"/>

<style>
body{
  background:
    radial-gradient(1200px 800px at 50% 0%, rgba(160,20,20,.55) 0%, rgba(40,0,0,.65) 40%, #05070c 100%);
}
.panel{
  width:min(860px,94vw);
  border-radius:28px;
  background:rgba(0,0,0,.18);
  border:1px solid rgba(255,255,255,.10);
  box-shadow:0 26px 70px rgba(0,0,0,.60);
  padding:24px;
}
.modeRow{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  margin-top:14px;
  margin-bottom:18px;
}
.pill{
  padding:14px 18px;
  border-radius:999px;
  font-weight:900;
  letter-spacing:.06em;
  cursor:pointer;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.14);
}
.pill.active{
  background:rgba(255,255,255,.18);
  border-color:rgba(255,255,255,.25);
}
.actions{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  margin-top:18px;
}
.btn{
  padding:14px 20px;
  border-radius:18px;
  font-weight:900;
  cursor:pointer;
  background:rgba(255,255,255,.10);
  border:1px solid rgba(255,255,255,.14);
}
.btn.primary{
  background:rgba(255,255,255,.18);
  border-color:rgba(255,255,255,.25);
}
.small{
  opacity:.78;
  line-height:1.6;
}
</style>
</head>

<body>
<div class="shooting-stars"></div>

<div class="page">
  <div class="h" id="hdr">
    <h1 id="tDoor">Door</h1>
    <p id="tSub">Choose how deep you want to go.</p>
  </div>

  <div class="panel">
    <div class="small" id="tExpl">
      Depth controls whether you see quick summaries (Shop) or expanded detail (Learn).
    </div>

    <div class="modeRow">
      <div class="pill" id="shopBtn">Shop</div>
      <div class="pill" id="learnBtn">Learn</div>
    </div>

    <div class="small" id="tDesc"></div>

    <div class="actions">
      <div class="btn primary" id="enterBtn">Enter</div>
      <div class="btn" id="backBtn">Back</div>
    </div>
  </div>

  <footer>CANONICAL · STABLE · © GEODIAMETRICS</footer>
</div>

<script>
(function(){
  const lang = localStorage.getItem("GD_LANG") || "en";   // set on /index.html
  const T = {
    en:{
      door:"Door",
      sub:"Choose how deep you want to go.",
      expl:"Depth controls whether you see quick summaries (Shop) or expanded detail (Learn).",
      shop:"Shop",
      learn:"Learn",
      shopDesc:"Shop: surface view · quick browse · entry points.",
      learnDesc:"Learn: deep view · full breakdown · nested detail.",
      enter:"Enter",
      back:"Back"
    },
    zh:{
      door:"入口",
      sub:"选择你想要的深度。",
      expl:"深度决定你看到的是快速概览（浏览）还是深入细节（学习）。",
      shop:"浏览",
      learn:"学习",
      shopDesc:"浏览：表层视图 · 快速查看 · 入口点。",
      learnDesc:"学习：深度视图 · 完整拆解 · 多层细节。",
      enter:"进入",
      back:"返回"
    }
  }[lang];

  // Apply language once, everywhere
  document.documentElement.lang = (lang === "zh") ? "zh-CN" : "en";
  document.title = T.door;

  document.getElementById("tDoor").textContent = T.door;
  document.getElementById("tSub").textContent = T.sub;
  document.getElementById("tExpl").textContent = T.expl;

  const shopBtn = document.getElementById("shopBtn");
  const learnBtn = document.getElementById("learnBtn");
  const desc = document.getElementById("tDesc");
  const enterBtn = document.getElementById("enterBtn");
  const backBtn = document.getElementById("backBtn");

  shopBtn.textContent = T.shop;
  learnBtn.textContent = T.learn;
  enterBtn.textContent = T.enter;
  backBtn.textContent = T.back;

  let depth = localStorage.getItem("GD_DEPTH") || "shop";
  function render(){
    shopBtn.classList.toggle("active", depth === "shop");
    learnBtn.classList.toggle("active", depth === "learn");
    desc.textContent = (depth === "shop") ? T.shopDesc : T.learnDesc;
    localStorage.setItem("GD_DEPTH", depth);
  }
  shopBtn.onclick = () => { depth = "shop"; render(); };
  learnBtn.onclick = () => { depth = "learn"; render(); };

  enterBtn.onclick = () => { window.location.href = "/home/"; };
  backBtn.onclick = () => { window.location.href = "/"; };

  render();
})();
</script>

</body>
</html>
