<!-- TNT: /door/index.html
     COMPLETE REWRITE (HANDOFF)
     - Reads language + depth from localStorage.
     - No jargon.
     - One button: Enter.
     - One button: Change language/depth (go back to /).
     - Shows a small preview line of what “Shop” vs “Learn” means.
-->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Door · Geodiametrics</title>

<link rel="stylesheet" href="/assets/ui.css?v=6000"/>
<link rel="stylesheet" href="/assets/branch.css?v=6000"/>

<style>
html,body{height:100%}
body{
  background:
    radial-gradient(1200px 800px at 50% 10%, rgba(160,20,20,.55) 0%, rgba(30,0,0,.55) 35%, rgba(5,7,12,1) 100%);
}
.wrap{width:min(980px,94vw);display:flex;flex-direction:column;gap:16px}
.panel{
  width:min(860px,94vw);
  border-radius:26px;
  background:rgba(0,0,0,.18);
  border:1px solid rgba(255,255,255,.10);
  box-shadow:0 26px 70px rgba(0,0,0,.60);
  padding:18px;
}
.row{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-start;margin-top:10px}
.btn{
  display:inline-flex;align-items:center;justify-content:center;
  padding:12px 16px;border-radius:999px;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.12);
  font-weight:900;letter-spacing:.08em;
  text-decoration:none;color:inherit;
  cursor:pointer;user-select:none;
}
.btn.primary{
  background:rgba(255,255,255,.12);
  box-shadow:0 0 0 1px rgba(255,120,130,.16) inset, 0 18px 50px rgba(0,0,0,.55);
}
.badge{
  display:inline-flex;align-items:center;justify-content:center;
  padding:6px 10px;border-radius:999px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.10);
  font-weight:900;letter-spacing:.12em;font-size:12px;opacity:.92;
}
</style>
</head>

<body class="theme-red">
<div class="shooting-stars"></div>

<div class="page">
  <div class="wrap">

    <div class="h">
      <h1 id="ttl">Door</h1>
      <p id="sub">One step before the hub.</p>
    </div>

    <div class="panel">
      <div id="statusLine" style="opacity:.88;line-height:1.6"></div>

      <div class="row">
        <a class="btn primary" href="/home/" id="enterBtn">Enter</a>
        <a class="btn" href="/" id="changeBtn">Change</a>
      </div>

      <div style="margin-top:12px;opacity:.75;line-height:1.6" id="hintLine"></div>
    </div>

    <footer>CANONICAL · STABLE · © GEODIAMETRICS</footer>
  </div>
</div>

<script>
(() => {
  const lang = (localStorage.getItem("GD_LANG") || "en").toLowerCase();
  const depth = (localStorage.getItem("GD_DEPTH") || "shop").toLowerCase();

  const zh = (lang === "zh");
  document.documentElement.lang = zh ? "zh-Hans" : "en";

  const ttl = document.getElementById("ttl");
  const sub = document.getElementById("sub");
  const statusLine = document.getElementById("statusLine");
  const hintLine = document.getElementById("hintLine");
  const enterBtn = document.getElementById("enterBtn");
  const changeBtn = document.getElementById("changeBtn");

  if (zh){
    ttl.textContent = "入口";
    sub.textContent = "进入主枢纽前的一步。";
    statusLine.innerHTML = `语言：<span class="badge">中文</span>　深度：<span class="badge">${depth === "learn" ? "学习" : "浏览"}</span>`;
    hintLine.textContent = (depth === "learn")
      ? "学习：显示更多层级与解释。"
      : "浏览：只显示表层概要与入口。";
    enterBtn.textContent = "进入";
    changeBtn.textContent = "更改";
  } else {
    ttl.textContent = "Door";
    sub.textContent = "One step before the hub.";
    statusLine.innerHTML = `Language: <span class="badge">EN</span>　Depth: <span class="badge">${depth.toUpperCase()}</span>`;
    hintLine.textContent = (depth === "learn")
      ? "Learn: shows deeper nested bubbles and explanations."
      : "Shop: shows surface-level summaries and entry points.";
    enterBtn.textContent = "Enter";
    changeBtn.textContent = "Change";
  }

  // Ensure Home reads the same state
  try{
    localStorage.setItem("GD_LANG", lang);
    localStorage.setItem("GD_DEPTH", depth);
  }catch(e){}
})();
</script>
</body>
</html>
