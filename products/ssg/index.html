<!-- TNT — /products/ssg/index.html
     PRODUCTS · SSG (ROOT GEOMETRY) · VARIANTS APPEND (MSSG/BSSG)
     UPGRADE (NO DRIFT / NO PRIMITIVE CHANGES):
       - Adds diamond-color markers next to section headers (visual parity with other hubs)
       - Converts long sections into accordion panels (no wall-of-text)
       - Keeps the MSSG/BSSG canonical text EXACT (unchanged)
       - Tap-safe (no inline onclick)
       - EN/中文/ES + canonical state carry (lang/style/time/depth) URL + LS
     LOCKS:
       - Uses /assets/ui.css + /assets/branch.css + /assets/instruments.js
       - ui.css owns html/body background (no overrides)
       - No new primitives introduced
       - SSG remains single root geometry
-->

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>SSG · Simplified Syntax Geometry</title>

<link rel="stylesheet" href="/assets/ui.css"/>
<link rel="stylesheet" href="/assets/branch.css"/>
<script defer src="/assets/instruments.js"></script>

<style>
a{color:inherit;text-decoration:none}
body::before,body::after{pointer-events:none!important}

/* Top controls */
.top-left{
  position:fixed;left:16px;top:16px;z-index:140;
  display:flex;gap:10px;flex-wrap:nowrap;align-items:center;white-space:nowrap;
}
.top-right{
  position:fixed;right:16px;top:16px;z-index:140;
  display:flex;gap:10px;flex-wrap:nowrap;align-items:center;white-space:nowrap;
}
.top-left .btn,.top-right .btn{white-space:nowrap}

/* Header pill */
.brand{
  position:fixed;left:50%;top:16px;transform:translateX(-50%);
  z-index:120;text-align:center;
  padding:10px 18px;border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(0,0,0,.18);
  backdrop-filter:blur(8px);
  pointer-events:none;
}
.brand .t{margin:0;font-weight:950;font-size:20px;letter-spacing:.2px;line-height:1.1}
.brand .s{margin:6px 0 0;opacity:.82;font-size:12.75px;line-height:1.25}

/* Page layout */
:root{--dockH:88px}
.page{
  width:min(1100px,94vw);
  margin:0 auto;
  padding:92px 0 calc(var(--dockH) + 28px);
  position:relative;
  z-index:10;
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* Panel shell (opal/pearl) */
.panel{
  position:relative;
  border-radius:22px;
  border:1px solid rgba(255,255,255,.12);
  background:
    radial-gradient(circle at 28% 22%, rgba(255,255,255,.10), transparent 56%),
    radial-gradient(circle at 78% 30%, rgba(160,120,255,.12), transparent 62%),
    radial-gradient(circle at 62% 86%, rgba(110,230,255,.10), transparent 72%),
    rgba(0,0,0,.16);
  backdrop-filter:blur(10px);
  box-shadow:0 26px 90px rgba(0,0,0,.55);
  overflow:hidden;
}
.panel::before{
  content:"";
  position:absolute;inset:0;border-radius:inherit;padding:1px;
  background:linear-gradient(120deg, transparent 0%, rgba(212,175,55,.22) 50%, transparent 100%);
  opacity:.42;
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor;
  mask-composite:exclude;
  pointer-events:none;
}

/* Accordion head */
.acHead{
  display:flex;align-items:flex-start;justify-content:space-between;
  gap:12px;
  padding:16px 16px 14px;
  cursor:pointer;
  -webkit-tap-highlight-color:transparent;
  touch-action:manipulation;
}
.acLeft{min-width:0}
.acTitleRow{display:flex;align-items:center;gap:10px;min-width:0}
.dmark{
  width:10px;height:10px;border-radius:3px;
  transform:rotate(45deg);
  background:var(--c, rgba(212,175,55,.45));
  box-shadow:0 0 0 1px rgba(255,255,255,.12), 0 0 14px rgba(0,0,0,.30);
  flex:0 0 auto;
}
.k{
  margin:0;
  font-size:11px;
  letter-spacing:4px;
  text-transform:uppercase;
  opacity:.78;
}
.h1{
  margin:8px 0 0;
  font-weight:950;
  font-size:22px;
  letter-spacing:.2px;
  line-height:1.15;
}
.sub{
  margin-top:8px;
  color:rgba(255,255,255,.82);
  line-height:1.55;
  font-size:13.5px;
  max-width:96ch;
}
.chev{
  font-size:16px;
  opacity:.78;
  flex:0 0 auto;
  margin-top:2px;
}

/* Accordion body */
.acBody{
  display:none;
  padding:14px 16px 16px;
  border-top:1px solid rgba(255,255,255,.08);
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,.06), transparent 55%),
    linear-gradient(145deg, rgba(12,22,38,.82), rgba(7,11,18,.90));
}
.panel.open .acBody{display:block}

/* Inner blocks */
.rulebox{
  margin-top:12px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.14);
  padding:14px 14px 12px;
}
.rulebox .title{
  margin:0 0 8px;
  font-weight:950;
  letter-spacing:.2px;
}
.ul{
  margin:0 0 0 18px;
  padding:0;
  color:rgba(255,255,255,.80);
}
.ul li{margin:6px 0; line-height:1.45}

/* Markdown-like content formatting (no new framework) */
.md h2{margin:0 0 10px;font-weight:950;font-size:18px;letter-spacing:.2px}
.md h3{margin:18px 0 8px;font-weight:950;font-size:15px;letter-spacing:.2px;opacity:.96}
.md h4{margin:16px 0 8px;font-weight:950;font-size:13.5px;letter-spacing:.2px;opacity:.96}
.md p{margin:8px 0 0;color:rgba(255,255,255,.86);line-height:1.55;font-size:13.5px}
.hr{margin:14px 0;height:1px;background:rgba(255,255,255,.10)}
.codeblock{
  margin-top:10px;border-radius:18px;border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.18);padding:12px 14px;
  font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;
  font-size:12.5px;line-height:1.5;color:rgba(255,255,255,.86);white-space:pre-wrap;
}

/* Dock */
.dock{
  position:fixed;left:50%;
  bottom:max(12px, env(safe-area-inset-bottom));
  transform:translateX(-50%);
  z-index:120;width:min(980px,94vw);
  display:flex;justify-content:center;gap:10px;flex-wrap:wrap;
  padding:10px 12px;border-radius:999px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.18);
  backdrop-filter:blur(8px);
  pointer-events:none;
}
.dock .btn{pointer-events:auto}

/* Mobile */
@media (max-width:520px){
  :root{--dockH:98px}
  .h1{font-size:20px}
}
</style>
</head>

<body>

<div class="top-left">
  <a class="btn" id="btnBack" href="/products/">BACK</a>
  <a class="btn" id="btnExit" href="/index.html">EXIT</a>
</div>

<div class="top-right" aria-label="Language">
  <button class="btn" id="btnEN" type="button">EN</button>
  <button class="btn" id="btnZH" type="button">中文</button>
  <button class="btn" id="btnES" type="button">ES</button>
</div>

<div class="brand" aria-hidden="true">
  <p class="t" id="hdrT">SSG</p>
  <p class="s" id="hdrS">Simplified Syntax Geometry · Root</p>
</div>

<div class="page">

  <!-- PANEL 1: CORE -->
  <section class="panel open" id="pCore" style="--c:#A3A3A3">
    <div class="acHead" role="button" tabindex="0" aria-label="Toggle: SSG core">
      <div class="acLeft">
        <div class="acTitleRow">
          <span class="dmark"></span>
          <p class="k" id="kCore">ROOT GEOMETRY</p>
        </div>
        <h1 class="h1" id="tCore">Simplified Syntax Geometry (SSG)</h1>
        <div class="sub" id="pCoreLead">
          SSG is a constraint-based structural encoding system that expresses system behavior using five primitives:
          <strong>Resources · Stores · Constraints · Goals · Guards</strong>
        </div>
      </div>
      <div class="chev" id="chevCore">▾</div>
    </div>

    <div class="acBody">
      <div class="rulebox" aria-label="SSG preserves">
        <p class="title" id="corePresTitle">SSG preserves:</p>
        <ul class="ul" id="corePres">
          <li>Non-circularity</li>
          <li>Deterministic admissibility under declared rules</li>
          <li>Receipt-gated progression</li>
          <li>No timers as gates</li>
          <li>Atomic state transitions</li>
        </ul>
      </div>

      <div class="rulebox" aria-label="SSG notes">
        <p class="title" id="coreNotesTitle">Notes:</p>
        <ul class="ul" id="coreNotes">
          <li>SSG is language-agnostic and substrate-independent.</li>
          <li>SSG defines geometry. It does not define linguistic encoding or compression style.</li>
          <li>Status: ROOT · CANONICAL · INDEPENDENT</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- PANEL 2: VARIANTS (TEXT LOCKED) -->
  <section class="panel" id="pVar" style="--c:#D4AF37">
    <div class="acHead" role="button" tabindex="0" aria-label="Toggle: SSG variants">
      <div class="acLeft">
        <div class="acTitleRow">
          <span class="dmark"></span>
          <p class="k">CANONICAL LAYERS</p>
        </div>
        <h1 class="h1">SSG Variants (Canonical Layers)</h1>
        <div class="sub" id="varSub">MSSG and BSSG are dependent layers that route through SSG.</div>
      </div>
      <div class="chev" id="chevVar">▸</div>
    </div>

    <div class="acBody md" id="ssgVariants">

      <!-- EXACT TEXT — NO MODIFICATION (as provided) -->
      <h2>SSG Variants (Canonical Layers)</h2>

      <p>SSG is the single root geometry. MSSG and BSSG are dependent execution layers that preserve SSG invariants and introduce zero new primitives.</p>

      <div class="hr"></div>

      <h4>SSG — Simplified Syntax Geometry (Root)</h4>

      <p>SSG is a constraint-based structural encoding system that expresses system behavior using five primitives:</p>

      <p><strong>Resources · Stores · Constraints · Goals · Guards</strong></p>

      <p>SSG preserves:</p>
      <p>• Non-circularity<br/>
      • Deterministic admissibility under declared rules<br/>
      • Receipt-gated progression<br/>
      • No timers as gates<br/>
      • Atomic state transitions</p>

      <p>SSG is language-agnostic and substrate-independent.<br/>
      SSG defines geometry. It does not define linguistic encoding or compression style.</p>

      <p><strong>Status:</strong> ROOT · CANONICAL · INDEPENDENT</p>

      <div class="hr"></div>

      <h4>MSSG — Mandarin Simplified Syntax Geometry (Encoding Layer)</h4>

      <p>MSSG is SSG expressed through a Mandarin linguistic compression surface. It is an encoding layer only.</p>

      <p>MSSG:<br/>
      • Preserves all SSG invariants<br/>
      • Introduces zero new primitives<br/>
      • Does not alter constraint logic<br/>
      • Does not alter admissibility rules<br/>
      • Exists to improve compression and transfer density</p>

      <p><strong>Dependency:</strong> MSSG requires SSG.</p>

      <p><strong>Status:</strong> DEPENDENT · EXECUTION ENCODING LAYER</p>

      <div class="hr"></div>

      <h4>BSSG — Binary Simplified Syntax Geometry (Admissibility Layer)</h4>

      <p>BSSG is a binary admissibility projection of SSG states into:</p>

      <p><strong>Admissible / Inadmissible</strong></p>

      <p>under declared measurement rules.</p>

      <p>BSSG:<br/>
      • Preserves all SSG invariants<br/>
      • Introduces zero new primitives<br/>
      • Does not alter constraint logic<br/>
      • Collapses multi-state structures into binary gate classifications for validation and stress testing</p>

      <p><strong>Dependency:</strong> BSSG requires SSG.</p>

      <p><strong>Status:</strong> DEPENDENT · BINARY ADMISSIBILITY LAYER</p>

      <div class="hr"></div>

      <h4>Dependency Graph</h4>

      <div class="codeblock">SSG (Root Geometry)
├─ MSSG (Encoding Layer)
└─ BSSG (Admissibility Layer)</div>

      <p>MSSG and BSSG are not separate geometries.<br/>
      They are dependent layers that route through SSG.</p>
    </div>
  </section>

</div>

<nav class="dock" aria-label="Bottom navigation">
  <a class="btn" id="dockPrelude" href="/prelude/">PRELUDE</a>
  <a class="btn" id="dockExplore" href="/explore/">EXPLORE</a>
  <a class="btn active" id="dockProducts" href="/products/">PRODUCTS</a>
  <a class="btn" id="dockLaws" href="/laws/">LAWS</a>
  <a class="btn" id="dockGauges" href="/gauges/">GAUGES</a>
</nav>

<script>
(function(){
  // ===== canonical state carry =====
  var qs=new URLSearchParams(location.search);
  var lang  = qs.get("lang")  || localStorage.getItem("gd_lang")  || "en";
  var style = qs.get("style") || localStorage.getItem("gd_style") || "formal";
  var time  = qs.get("time")  || localStorage.getItem("gd_time")  || "now";
  var depth = qs.get("depth") || localStorage.getItem("gd_depth") || "explore";

  if(lang!=="en" && lang!=="zh" && lang!=="es") lang="en";
  if(style!=="formal" && style!=="informal") style="formal";
  if(time==="trajectory") time="post";
  if(time!=="origin" && time!=="now" && time!=="post") time="now";
  if(depth!=="explore" && depth!=="learn") depth="explore";

  try{
    localStorage.setItem("gd_lang",lang);
    localStorage.setItem("gd_style",style);
    localStorage.setItem("gd_time",time);
    localStorage.setItem("gd_depth",depth);
  }catch(e){}

  document.documentElement.lang=(lang==="zh")?"zh":(lang==="es")?"es":"en";

  function q(over){
    var L=(over&&over.lang)?over.lang:lang;
    var S=(over&&over.style)?over.style:style;
    var T=(over&&over.time)?over.time:time;
    var D=(over&&over.depth)?over.depth:depth;
    return "?lang="+encodeURIComponent(L)+
           "&style="+encodeURIComponent(S)+
           "&time="+encodeURIComponent(T)+
           "&depth="+encodeURIComponent(D);
  }

  // wire nav
  function wire(id,path){
    var el=document.getElementById(id);
    if(el) el.href = path + q();
  }
  wire("btnBack","/products/");
  wire("btnExit","/index.html");
  wire("dockPrelude","/prelude/");
  wire("dockExplore","/explore/");
  wire("dockProducts","/products/");
  wire("dockLaws","/laws/");
  wire("dockGauges","/gauges/");

  // language buttons
  var btnEN=document.getElementById("btnEN");
  var btnZH=document.getElementById("btnZH");
  var btnES=document.getElementById("btnES");

  function paintLang(){
    btnEN.classList.toggle("active", lang==="en");
    btnZH.classList.toggle("active", lang==="zh");
    btnES.classList.toggle("active", lang==="es");
  }
  paintLang();

  function setLang(next){
    if(next!=="en" && next!=="zh" && next!=="es") next="en";
    lang=next;
    try{ localStorage.setItem("gd_lang",lang); }catch(e){}
    window.location.href = window.location.pathname + q({lang:lang});
  }
  btnEN.addEventListener("click", function(){ setLang("en"); });
  btnZH.addEventListener("click", function(){ setLang("zh"); });
  btnES.addEventListener("click", function(){ setLang("es"); });

  // i18n (only for the CORE panel + small subtitle; canonical variants text stays as-is)
  var I18N = {
    en:{
      hdrT:"SSG",
      hdrS:"Simplified Syntax Geometry · Root",
      kCore:"ROOT GEOMETRY",
      tCore:"Simplified Syntax Geometry (SSG)",
      pCoreLead:"SSG is a constraint-based structural encoding system that expresses system behavior using five primitives: Resources · Stores · Constraints · Goals · Guards",
      corePresTitle:"SSG preserves:",
      coreNotesTitle:"Notes:",
      varSub:"MSSG and BSSG are dependent layers that route through SSG."
    },
    zh:{
      hdrT:"SSG",
      hdrS:"简化语法几何 · 根层",
      kCore:"根几何",
      tCore:"简化语法几何（SSG）",
      pCoreLead:"SSG 是基于约束的结构编码系统，用五个原语表达系统行为：Resources · Stores · Constraints · Goals · Guards",
      corePresTitle:"SSG 保持：",
      coreNotesTitle:"备注：",
      varSub:"MSSG 与 BSSG 为依赖层，均通过 SSG 路由。"
    },
    es:{
      hdrT:"SSG",
      hdrS:"Geometría de Sintaxis Simplificada · Raíz",
      kCore:"GEOMETRÍA RAÍZ",
      tCore:"Geometría de Sintaxis Simplificada (SSG)",
      pCoreLead:"SSG es un sistema estructural basado en restricciones que expresa comportamiento con cinco primitivas: Resources · Stores · Constraints · Goals · Guards",
      corePresTitle:"SSG preserva:",
      coreNotesTitle:"Notas:",
      varSub:"MSSG y BSSG son capas dependientes que se enrutan a través de SSG."
    }
  };
  var T = (lang==="zh") ? I18N.zh : (lang==="es") ? I18N.es : I18N.en;

  document.getElementById("hdrT").textContent=T.hdrT;
  document.getElementById("hdrS").textContent=T.hdrS;
  document.getElementById("kCore").textContent=T.kCore;
  document.getElementById("tCore").textContent=T.tCore;

  // keep primitives EXACT, only wrap bold
  var lead = T.pCoreLead;
  lead = lead.replace("Resources · Stores · Constraints · Goals · Guards","<strong>Resources · Stores · Constraints · Goals · Guards</strong>");
  document.getElementById("pCoreLead").innerHTML = lead;

  document.getElementById("corePresTitle").textContent=T.corePresTitle;
  document.getElementById("coreNotesTitle").textContent=T.coreNotesTitle;
  document.getElementById("varSub").textContent=T.varSub;

  // accordion behavior (multi-open allowed; chevrons update)
  function bindPanel(panelId, chevId){
    var panel=document.getElementById(panelId);
    var head=panel.querySelector(".acHead");
    var chev=document.getElementById(chevId);
    function act(){
      var open=!panel.classList.contains("open");
      panel.classList.toggle("open", open);
      if(chev) chev.textContent = open ? "▾" : "▸";
    }
    head.addEventListener("click", act);
    head.addEventListener("keydown", function(e){
      if(e.key==="Enter"||e.key===" "){ e.preventDefault(); act(); }
    });
  }
  bindPanel("pCore","chevCore");
  bindPanel("pVar","chevVar");
})();
</script>

</body>
</html>
