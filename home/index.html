<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Home</title>

<link rel="stylesheet" href="/assets/ui.css?v=9001"/>
<link rel="stylesheet" href="/assets/branch.css?v=9001"/>

<style>
body{
  background:
    radial-gradient(1200px 800px at 50% 0%, rgba(160,20,20,.40) 0%, rgba(40,0,0,.55) 38%, #05070c 100%);
}
.h{ position:relative; z-index:10; }
.stage{ position:relative; z-index:2; }
.topPanel{
  width:min(900px,94vw);
  border-radius:24px;
  background:rgba(0,0,0,.18);
  border:1px solid rgba(255,255,255,.10);
  box-shadow:0 26px 70px rgba(0,0,0,.60);
  padding:14px 14px;
  margin-bottom:14px;
}
.bar{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
  justify-content:space-between;
}
.badge{
  padding:10px 14px;
  border-radius:999px;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.12);
  font-weight:900;
  letter-spacing:.08em;
}
.actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.action{
  padding:10px 14px;
  border-radius:999px;
  background:rgba(255,255,255,.10);
  border:1px solid rgba(255,255,255,.12);
  font-weight:900;
  cursor:pointer;
}

details.route{
  margin-top:10px;
  border-radius:18px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.10);
  overflow:hidden;
}
details.route > summary{
  list-style:none;
  cursor:pointer;
  padding:14px 14px;
  font-weight:900;
  letter-spacing:.06em;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
details.route > summary::-webkit-details-marker{display:none;}
.routeBody{
  padding:12px 14px 16px;
  opacity:.86;
  line-height:1.55;
}
.routeBody ul{ margin:10px 0 0 18px; }
.routeBody li{ margin:6px 0; }
</style>
</head>

<body>
<div class="shooting-stars"></div>

<div class="page">

  <div class="h">
    <h1 id="hTitle">Home</h1>
    <p id="hSub">Compass hub.</p>
  </div>

  <!-- Quadrant routes (NW/NE/SW/SE) -->
  <div class="topPanel" id="routesPanel">
    <div class="bar">
      <div class="badge" id="modeBadge">MODE</div>
      <div class="actions">
        <div class="action" id="toDoor">Door</div>
        <div class="action" id="toRoot">Root</div>
      </div>
    </div>

    <details class="route" id="rNW">
      <summary><span id="rNWt">NORTHWEST</span><span>▾</span></summary>
      <div class="routeBody" id="rNWb"></div>
    </details>

    <details class="route" id="rNE">
      <summary><span id="rNEt">NORTHEAST</span><span>▾</span></summary>
      <div class="routeBody" id="rNEb"></div>
    </details>

    <details class="route" id="rSW">
      <summary><span id="rSWt">SOUTHWEST</span><span>▾</span></summary>
      <div class="routeBody" id="rSWb"></div>
    </details>

    <details class="route" id="rSE">
      <summary><span id="rSEt">SOUTHEAST</span><span>▾</span></summary>
      <div class="routeBody" id="rSEb"></div>
    </details>
  </div>

  <!-- Cardinal plate (N/E/S/W) -->
  <div class="stage">
    <div class="platform">

      <a class="diamond top" href="/laws/"><span id="pN">N<small id="pN2">Laws</small></span></a>
      <a class="diamond right" href="/products/"><span id="pE">E<small id="pE2">Products</small></span></a>
      <a class="diamond bottom" href="/gauges/"><span id="pS">S<small id="pS2">Gauges</small></span></a>
      <a class="diamond left" href="/links/"><span id="pW">W<small id="pW2">Links</small></span></a>

      <a class="diamond mini mini-left" href="/"><span><small id="miniL">ROOT</small></span></a>
      <a class="diamond mini mini-right" href="/rgsc/"><span><small id="miniR">RGSC</small></span></a>

    </div>
  </div>

  <footer>CANONICAL · STABLE · © GEODIAMETRICS</footer>
</div>

<script>
(function(){
  const lang = localStorage.getItem("GD_LANG") || "en";
  const depth = localStorage.getItem("GD_DEPTH") || "shop";

  const copy = {
    en:{
      home:"Home",
      sub:"Compass hub · choose a route.",
      mode:"MODE: " + (depth === "shop" ? "SHOP (surface)" : "LEARN (deep)"),
      door:"Door",
      root:"Root",
      nw:"NORTHWEST",
      ne:"NORTHEAST",
      sw:"SOUTHWEST",
      se:"SOUTHEAST",
      plate:{ n:"N", n2:"Laws", e:"E", e2:"Products", s:"S", s2:"Gauges", w:"W", w2:"Links" },
      miniL:"ROOT",
      miniR:"RGSC",
      routes:{
        nw_shop:["SSG + Grammar","DOT.GRID index","Acronyms overview","Definitions index"],
        nw_learn:["SSG (full spec)","Diamond grammar (rules)","DOT.GRID (256-state)","Acronyms & glossary (pillars)","Certification tracks"],
        ne_shop:["Execution surfaces list","Example gallery","Downloadables index","Portals list"],
        ne_learn:["Execution surfaces (apps/portals)","Workflows + receipts","Examples (how to use)","Packaged outputs (PDFs)","Replay & verification"],
        sw_shop:["Gauges list","Diagnostics list","Rules summary","Return protocol"],
        sw_learn:["Gauges (measurement)","Diagnostics (classification)","Rules (navigation + integrity)","Return protocol (hub-first)","Audit + falsification"],
        se_shop:["OSF","ORCID","Contact","External references"],
        se_learn:["OSF (projects + preprints)","ORCID (identity)","Contact (direct)","Reference map","Attribution + licenses"]
      }
    },
    zh:{
      home:"主页",
      sub:"罗盘枢纽 · 选择一条路径。",
      mode:"模式：" + (depth === "shop" ? "浏览（表层）" : "学习（深入）"),
      door:"入口",
      root:"根页",
      nw:"西北",
      ne:"东北",
      sw:"西南",
      se:"东南",
      plate:{ n:"N", n2:"法则", e:"E", e2:"产品", s:"S", s2:"量表", w:"W", w2:"链接" },
      miniL:"根页",
      miniR:"RGSC",
      routes:{
        nw_shop:["SSG + 语法","DOT.GRID 索引","缩略词概览","定义索引"],
        nw_learn:["SSG（完整规范）","菱形语法（规则）","DOT.GRID（256态）","缩略词与术语（分柱）","认证路径"],
        ne_shop:["执行界面列表","示例库","可下载目录","入口列表"],
        ne_learn:["执行界面（应用/门户）","流程 + 回执","示例（怎么用）","打包输出（PDF）","回放与验证"],
        sw_shop:["量表列表","诊断列表","规则摘要","返回协议"],
        sw_learn:["量表（测量）","诊断（分类）","规则（导航+完整性）","返回协议（枢纽优先）","审计与证伪"],
        se_shop:["OSF","ORCID","联系","外部参考"],
        se_learn:["OSF（项目+预印本）","ORCID（身份）","联系（直达）","参考地图","署名与许可"]
      }
    }
  }[lang];

  document.documentElement.lang = (lang === "zh") ? "zh-CN" : "en";
  document.title = copy.home;

  document.getElementById("hTitle").textContent = copy.home;
  document.getElementById("hSub").textContent = copy.sub;
  document.getElementById("modeBadge").textContent = copy.mode;

  document.getElementById("toDoor").textContent = copy.door;
  document.getElementById("toRoot").textContent = copy.root;
  document.getElementById("toDoor").onclick = () => window.location.href="/door/";
  document.getElementById("toRoot").onclick = () => window.location.href="/";

  document.getElementById("rNWt").textContent = copy.nw;
  document.getElementById("rNEt").textContent = copy.ne;
  document.getElementById("rSWt").textContent = copy.sw;
  document.getElementById("rSEt").textContent = copy.se;

  const listHtml = (items)=> "<ul>" + items.map(x=>"<li>"+x+"</li>").join("") + "</ul>";
  const depthKey = (depth === "shop") ? "shop" : "learn";

  document.getElementById("rNWb").innerHTML = listHtml(copy.routes["nw_"+depthKey]);
  document.getElementById("rNEb").innerHTML = listHtml(copy.routes["ne_"+depthKey]);
  document.getElementById("rSWb").innerHTML = listHtml(copy.routes["sw_"+depthKey]);
  document.getElementById("rSEb").innerHTML = listHtml(copy.routes["se_"+depthKey]);

  // Plate
  document.getElementById("pN").childNodes[0].textContent = copy.plate.n;
  document.getElementById("pN2").textContent = copy.plate.n2;
  document.getElementById("pE").childNodes[0].textContent = copy.plate.e;
  document.getElementById("pE2").textContent = copy.plate.e2;
  document.getElementById("pS").childNodes[0].textContent = copy.plate.s;
  document.getElementById("pS2").textContent = copy.plate.s2;
  document.getElementById("pW").childNodes[0].textContent = copy.plate.w;
  document.getElementById("pW2").textContent = copy.plate.w2;

  document.getElementById("miniL").textContent = copy.miniL;
  document.getElementById("miniR").textContent = copy.miniR;
})();
</script>

</body>
</html>
