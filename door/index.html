<!-- TNT — /door/index.html  (DOOR · 2 GATES · OPAL SPINE · NO COMPETING UI)
     PURPOSE:
       - First contact portal. Two gates only.
       - Vertical spine. Two massive pearlescent diamonds.
       - No lenses. No modals. No stacks. No competing UI.
       - Bilingual render (single-language):
           lang=en => EN only
           lang=zh => 中文 only
       - State propagation only (gd_lang/gd_style/gd_time) through links.
       - ui.css owns the field background. This file adds ONLY overlays/diamonds.
-->

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>DOOR</title>

<link rel="stylesheet" href="/assets/ui.css"/>
<link rel="stylesheet" href="/assets/branch.css"/>

<style>
/* DO NOT TOUCH FIELD — ui.css owns html/body background */
body{margin:0;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
a{color:inherit;text-decoration:none}

/* ===== MATERIAL (OPAL / PEARLESCENT) ===== */
:root{
  --R:148px;
  --D:230px;

  --goldSoft:rgba(212,175,55,.45);

  /* lacquer base (tint-resistant) */
  --obsA:rgba(12,22,38,.95);
  --obsB:rgba(6,10,16,.98);

  /* opal film lanes */
  --opalW:rgba(245,248,255,.18);
  --opalB:rgba(180,220,255,.12);
  --opalA:rgba(255,235,200,.10);
  --opalG:rgba(170,255,235,.10);

  --mut:rgba(255,255,255,.90);
  --mut2:rgba(255,255,255,.74);
}

/* ===== TOP-LEFT (minimal, not competing) ===== */
.top-left{
  position:fixed;left:16px;top:16px;z-index:140;
  display:flex;gap:10px;flex-wrap:wrap;align-items:center;
}
.btn{
  display:inline-flex;align-items:center;justify-content:center;
  padding:10px 16px;border-radius:14px;
  background:linear-gradient(145deg, rgba(12,22,38,.92), rgba(7,11,18,.95));
  color:#fff;border:1px solid rgba(255,255,255,.08);
  box-shadow:0 14px 36px rgba(0,0,0,.7);
  cursor:pointer;font-weight:900;letter-spacing:.2px;
  -webkit-tap-highlight-color:transparent;
}
.btn:hover{box-shadow:0 18px 50px rgba(0,0,0,.9),0 0 14px rgba(212,175,55,.22)}

/* ===== HOOK (non-interactive) ===== */
.hook{
  position:fixed;left:50%;top:18px;transform:translateX(-50%);
  z-index:120;
  width:min(760px,94vw);
  text-align:center;
  pointer-events:none;
}
.k{
  margin:0 0 8px 0;
  font-size:12px;
  letter-spacing:3px;
  text-transform:uppercase;
  opacity:.78;
  text-shadow:0 18px 60px rgba(0,0,0,.65);
}
.h{
  margin:0;
  font-size:44px;
  font-weight:950;
  letter-spacing:.2px;
  line-height:1.05;
  text-shadow:0 18px 60px rgba(0,0,0,.65);
}
.s{
  margin:10px auto 0;
  max-width:64ch;
  opacity:.84;
  font-size:15px;
  line-height:1.35;
  text-shadow:0 18px 60px rgba(0,0,0,.55);
}

/* ===== GOLD LATTICE OVERLAY (subtle, no hit-test) ===== */
.lattice{
  position:fixed;inset:0;
  z-index:10;
  pointer-events:none;
  opacity:.10;
  mix-blend-mode:screen;
  background:
    repeating-linear-gradient(45deg,
      rgba(212,175,55,.32) 0px,
      rgba(212,175,55,.32) 1px,
      rgba(212,175,55,0) 1px,
      rgba(212,175,55,0) 28px
    ),
    repeating-linear-gradient(135deg,
      rgba(212,175,55,.22) 0px,
      rgba(212,175,55,.22) 1px,
      rgba(212,175,55,0) 1px,
      rgba(212,175,55,0) 28px
    );
}

/* ===== STAGE (two gates, vertical spine) ===== */
.stage{
  position:fixed;left:50%;top:56%;
  transform:translate(-50%,-50%);
  width:min(640px,92vw);
  height:min(640px,92vw);
  z-index:60;
  pointer-events:none;
}

/* soft halo behind spine (no hit-test) */
.halo{
  position:absolute;left:50%;top:50%;
  transform:translate(-50%,-50%);
  width:min(520px,84vw);
  height:min(520px,84vw);
  border-radius:999px;
  background:
    radial-gradient(circle at 50% 45%, rgba(255,255,255,.10), rgba(255,255,255,0) 60%),
    radial-gradient(circle at 50% 55%, rgba(212,175,55,.10), rgba(212,175,55,0) 62%),
    radial-gradient(circle at 50% 50%, rgba(0,120,255,.10), rgba(0,120,255,0) 66%);
  filter:blur(2px);
  opacity:.85;
  pointer-events:none;
}

/* ===== DIAMOND (OPAL LACQUER) ===== */
.d{
  width:var(--D);height:var(--D);
  position:absolute;left:50%;top:50%;
  transform-origin:center;
  border-radius:30px;
  cursor:pointer;
  pointer-events:auto;
  touch-action:manipulation;
  -webkit-tap-highlight-color:transparent;

  background:
    /* opal film */
    radial-gradient(circle at 34% 22%, var(--opalW) 0%, rgba(245,248,255,0) 56%),
    radial-gradient(circle at 78% 32%, var(--opalB) 0%, rgba(180,220,255,0) 60%),
    radial-gradient(circle at 82% 78%, var(--opalA) 0%, rgba(255,235,200,0) 66%),
    radial-gradient(circle at 30% 82%, var(--opalG) 0%, rgba(170,255,235,0) 68%),

    /* specular lanes */
    radial-gradient(circle at 30% 22%, rgba(255,255,255,.46), transparent 48%),
    radial-gradient(circle at 70% 78%, rgba(0,120,255,.25), transparent 60%),

    /* lacquer base */
    linear-gradient(160deg, var(--obsA), var(--obsB));

  border:1px solid rgba(255,255,255,.16);
  box-shadow:
    0 38px 130px rgba(0,0,0,.86),
    0 0 34px rgba(212,175,55,.18),
    inset 0 2px 0 rgba(255,255,255,.20),
    inset 0 -44px 80px rgba(0,0,0,.78);

  transition:transform .20s ease, box-shadow .20s ease, border-color .20s ease;
  overflow:hidden;
}
.d::before{
  content:"";
  position:absolute;inset:0;border-radius:30px;padding:1px;
  background:linear-gradient(120deg, transparent 0%, var(--goldSoft) 50%, transparent 100%);
  opacity:.68;
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor;
  mask-composite:exclude;
  pointer-events:none;
}
.d::after{
  content:"";
  position:absolute;inset:0;border-radius:30px;
  background:
    radial-gradient(120% 58% at 50% 16%, rgba(255,255,255,.28) 0%, rgba(255,255,255,0) 64%),
    radial-gradient(120% 60% at 50% 58%, rgba(255,255,255,.06) 0%, rgba(255,255,255,0) 62%),
    radial-gradient(140% 70% at 50% 92%, rgba(0,0,0,.36) 0%, rgba(0,0,0,0) 56%);
  opacity:.92;
  pointer-events:none;
}

.d:hover{
  border-color:rgba(212,175,55,.32);
  box-shadow:
    0 48px 165px rgba(0,0,0,.92),
    0 0 44px rgba(212,175,55,.22),
    inset 0 2px 0 rgba(255,255,255,.22),
    inset 0 -52px 92px rgba(0,0,0,.84);
}
.d:active{
  transform:translate(-50%,-50%) rotate(45deg) scale(.99);
}

.d-top{transform:translate(-50%,-50%) translate(0, calc(var(--R) * -0.92)) rotate(45deg)}
.d-bot{transform:translate(-50%,-50%) translate(0, calc(var(--R) *  0.92)) rotate(45deg)}

.inner{
  width:100%;height:100%;
  transform:rotate(-45deg);
  display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  text-align:center;
  padding:18px;
  gap:10px;
  pointer-events:none;
  user-select:none;
}
.lab{
  font-weight:950;
  letter-spacing:.9px;
  font-size:20px;
  text-shadow:0 0 18px rgba(255,255,255,.12);
}
.sub{
  font-size:13px;
  opacity:.86;
  line-height:1.35;
  max-width:22em;
}

/* spine mark */
.core{
  position:absolute;left:50%;top:50%;
  transform:translate(-50%,-50%);
  width:74px;height:74px;border-radius:22px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.18);
  box-shadow:0 18px 44px rgba(0,0,0,.55), inset 0 2px 0 rgba(255,255,255,.10);
  display:grid;place-items:center;
  font-weight:950;letter-spacing:.5px;opacity:.92;
  pointer-events:none;
}

/* footer whisper */
.foot{
  position:fixed;left:50%;
  bottom:calc(14px + env(safe-area-inset-bottom));
  transform:translateX(-50%);
  z-index:80;
  width:min(760px,94vw);
  text-align:center;
  opacity:.70;
  font-size:12.5px;
  letter-spacing:.2px;
  pointer-events:none;
  text-shadow:0 18px 60px rgba(0,0,0,.55);
}

@media (max-width:560px){
  :root{ --D:206px; --R:132px; }
  .h{font-size:38px}
  .stage{top:58%}
}
</style>
</head>

<body>

<div class="lattice" aria-hidden="true"></div>

<div class="top-left">
  <a class="btn" id="btnExit" href="/index.html">EXIT</a>
</div>

<div class="hook" aria-hidden="true">
  <p class="k" id="k">CARDINAL AXIS</p>
  <h1 class="h" id="h">A diagnostic compass.</h1>
  <p class="s" id="s">You came here for direction. Choose your gate.</p>
</div>

<div class="stage" aria-label="Door gates">
  <div class="halo" aria-hidden="true"></div>

  <div class="d d-top" id="goFoundation" role="button" tabindex="0" aria-label="Foundation">
    <div class="inner">
      <div class="lab" id="labTop">FOUNDATION</div>
      <div class="sub" id="subTop">Start with structure. Get oriented fast.</div>
    </div>
  </div>

  <div class="d d-bot" id="goFrontier" role="button" tabindex="0" aria-label="Frontier">
    <div class="inner">
      <div class="lab" id="labBot">FRONTIER</div>
      <div class="sub" id="subBot">Dream forward—without losing your footing.</div>
    </div>
  </div>

  <div class="core">◆</div>
</div>

<div class="foot" id="foot">No belief required · No selling · Just traversal</div>

<script>
(function(){
  // ---- state hydration (gd_* only) ----
  var qs=new URLSearchParams(location.search);
  var lang  = qs.get("lang")  || localStorage.getItem("gd_lang")  || "en";
  var style = qs.get("style") || localStorage.getItem("gd_style") || "formal";
  var time  = qs.get("time")  || localStorage.getItem("gd_time")  || "now";
  if(time==="trajectory") time="post";
  if(lang!=="en" && lang!=="zh") lang="en";
  if(style!=="formal" && style!=="informal") style="formal";
  if(time!=="origin" && time!=="now" && time!=="post") time="now";
  try{
    localStorage.setItem("gd_lang",lang);
    localStorage.setItem("gd_style",style);
    localStorage.setItem("gd_time",time);
  }catch(e){}
  document.documentElement.lang = (lang==="zh") ? "zh" : "en";

  function q(){
    var p=new URLSearchParams();
    p.set("lang",lang); p.set("style",style); p.set("time",time);
    return "?"+p.toString();
  }

  // Exit keeps state
  document.getElementById("btnExit").href = "/index.html" + q();

  // single-language copy
  var T = {
    en:{
      k:"CARDINAL AXIS",
      h:"A diagnostic compass.",
      s:"You came here for direction. Choose your gate.",
      top:{lab:"FOUNDATION", sub:"Start with structure. Get oriented fast."},
      bot:{lab:"FRONTIER", sub:"Dream forward—without losing your footing."},
      foot:"No belief required · No selling · Just traversal"
    },
    zh:{
      k:"基轴体系",
      h:"一个诊断罗盘。",
      s:"你为方向而来。请选择入口。",
      top:{lab:"基底", sub:"从结构开始，快速定位。"},
      bot:{lab:"前沿", sub:"向前想象，但不失脚下的地。"},
      foot:"无需信仰 · 不做推销 · 只做遍历"
    }
  };
  var L = (lang==="zh") ? T.zh : T.en;

  document.getElementById("k").textContent = L.k;
  document.getElementById("h").textContent = L.h;
  document.getElementById("s").textContent = L.s;
  document.getElementById("labTop").textContent = L.top.lab;
  document.getElementById("subTop").textContent = L.top.sub;
  document.getElementById("labBot").textContent = L.bot.lab;
  document.getElementById("subBot").textContent = L.bot.sub;
  document.getElementById("foot").textContent = L.foot;

  // bind gates (tap-safe, no modal, no layers)
  function go(path){ window.location.href = path + q(); }

  var a=document.getElementById("goFoundation");
  var b=document.getElementById("goFrontier");

  a.addEventListener("click", function(){ go("/home/"); });
  b.addEventListener("click", function(){ go("/explore/"); });

  [a,b].forEach(function(el){
    el.addEventListener("keydown", function(e){
      if(e.key==="Enter"||e.key===" "){ e.preventDefault(); el.click(); }
    });
  });
})();
</script>

</body>
</html>
