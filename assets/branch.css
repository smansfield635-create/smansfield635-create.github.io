/* =====================================================
   TNT FILE: /assets/branch.css
   CRP BRANCH v3 — FULL TNT
   Purpose:
     - Restore diamond UI (Door / Links / any diamond plate)
     - Restore overlay modal behavior (no page-flow bleed)
     - Provide shared components for Home vine/fruit UX
   NOTE:
     - No body background here (ui.css is source of truth)
===================================================== */

/* ---------- Diamond Stage ---------- */
.stage{
  display:flex;
  align-items:center;
  justify-content:center;
}

.diamond-stage{
  position:relative;
  width:min(640px,94vw);
  aspect-ratio:1/1;
  margin:18px auto 0;
}

/* faint outer diamond plate */
.diamond-plate{
  position:absolute;
  inset:8%;
  transform:rotate(45deg);
  border-radius:46px;
  background:rgba(255,255,255,.04);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.10),
    0 30px 90px rgba(0,0,0,.55);
  backdrop-filter:blur(10px);
  z-index:0;
}

/* inner glow (rich lacquer red) */
.diamond-plate::after{
  content:"";
  position:absolute;
  inset:-10%;
  border-radius:60px;
  background:
    radial-gradient(700px 700px at 50% 30%, rgba(122,11,20,.32) 0%, transparent 70%);
  filter:blur(10px);
  opacity:.85;
  pointer-events:none;
}

/* ---------- Diamond Buttons ---------- */
.diamond-btn{
  position:absolute;
  width:40%;
  height:40%;
  transform:rotate(45deg);
  border-radius:26px;
  background:rgba(0,0,0,.28);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.12),
    0 18px 60px rgba(0,0,0,.55);
  backdrop-filter:blur(10px);
  display:flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
  color:inherit;
  -webkit-tap-highlight-color:transparent;
  cursor:pointer;
  z-index:2;
}

.diamond-btn:hover{
  background:rgba(0,0,0,.32);
}

.diamond-btn.gold{
  box-shadow:
    inset 0 0 0 1px rgba(202,160,74,.55),
    0 18px 60px rgba(0,0,0,.55);
}

.diamond-btn span{
  transform:rotate(-45deg);
  display:block;
  text-align:center;
  padding:10px 12px;
  line-height:1.15;
  font-weight:950;
  letter-spacing:.14em;
  text-transform:uppercase;
}

.diamond-btn span b{
  display:block;
  font-size:16px;
}

.diamond-btn span small{
  display:block;
  margin-top:8px;
  font-size:12px;
  opacity:.72;
  letter-spacing:.14em;
  font-weight:900;
}

/* positions (clock) */
.diamond-top{ top:6%; left:30%; }
.diamond-right{ top:30%; right:6%; }
.diamond-bottom{ bottom:6%; left:30%; }
.diamond-left{ top:30%; left:6%; }

/* ---------- Door helper pills row ---------- */
.door-pills{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:center;
  margin:14px 0 0;
}

/* ---------- Links diamond (smaller) ---------- */
.links-stage .diamond-stage{
  width:min(560px,94vw);
}
.links-stage .diamond-btn span b{
  font-size:14px;
}

/* ---------- Overlay / Modal (hard guarantee: never in flow) ---------- */
.overlay{
  position:fixed;
  inset:0;
  z-index:9999;
  display:none;
  align-items:center;
  justify-content:center;
  padding:18px;
  background:rgba(0,0,0,.70);
  backdrop-filter:blur(10px);
}

.overlay.on{ display:flex; }

.modal{
  width:min(980px,94vw);
  max-height:min(86vh,760px);
  overflow:auto;
  border-radius:26px;
  background:
    radial-gradient(900px 600px at 50% 0%, rgba(122,11,20,.26) 0%, transparent 70%),
    rgba(0,0,0,.34);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.12),
    0 40px 120px rgba(0,0,0,.80);
}

.modal-head{
  position:sticky;
  top:0;
  z-index:2;
  padding:16px;
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  background:rgba(0,0,0,.35);
  backdrop-filter:blur(10px);
  border-bottom:1px solid rgba(255,255,255,.08);
}

.modal-title b{
  display:block;
  font-size:16px;
  letter-spacing:.18em;
  text-transform:uppercase;
}

.modal-title span{
  display:block;
  margin-top:6px;
  opacity:.75;
  font-size:14px;
  line-height:1.25;
}

.close{
  border:0;
  cursor:pointer;
  border-radius:14px;
  padding:10px 12px;
  background:rgba(255,255,255,.08);
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.12);
  color:inherit;
  font-weight:900;
  letter-spacing:.12em;
  text-transform:uppercase;
  font-size:12px;
}

.close:hover{ background:rgba(255,255,255,.10); }

.modal-body{ padding:14px 16px 18px; }

/* ---------- “Fruit” cards inside modal ---------- */
.block{
  border-radius:22px;
  background:rgba(0,0,0,.26);
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.10);
  padding:14px;
}

.block h3{
  margin:0 0 10px;
  font-weight:950;
  letter-spacing:.08em;
  text-transform:uppercase;
}

.block p{
  margin:0;
  line-height:1.65;
  opacity:.86;
}

.fruit-grid{
  margin-top:14px;
}

.fruit-note{
  margin-top:10px;
  opacity:.72;
  line-height:1.55;
}

/* Resolution chamber */
.resolution{
  margin-top:14px;
  padding:16px;
  border-radius:22px;
  background:rgba(255,255,255,.05);
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.10);
}

.resolution h4{
  margin:0 0 10px;
  font-size:16px;
  letter-spacing:.14em;
  text-transform:uppercase;
  font-weight:950;
}

.resolution .para{
  margin:0 0 12px;
  line-height:1.75;
  opacity:.90;
}

.resolution ul{
  margin:0 0 12px 18px;
  padding:0;
  line-height:1.65;
  opacity:.84;
}

.resolution .imp{
  margin-top:10px;
  font-weight:950;
  letter-spacing:.06em;
  opacity:.92;
}

/* Make sure buttons never appear as default links */
a, a:visited{ color:inherit; text-decoration:none; }
