<!-- TNT — /products/software/index.html
     SOFTWARE · MACHINE SPINE
     STRUCTURE:
       - 7 Canonical Software Domains
       - Trilingual: EN / 中文 / ES
       - Four Lenses:
            INFORMAL
            FORMAL
            ENGINEERING
            PLATFORM
       - Single-open accordion
       - No overlays
       - Canon state compatible
-->

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>SOFTWARE · Machine Spine</title>

<link rel="stylesheet" href="/assets/ui.css"/>
<link rel="stylesheet" href="/assets/branch.css"/>
<script defer src="/assets/instruments.js"></script>

<style>
a{color:inherit;text-decoration:none}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;color:#fff}
body::before,body::after{pointer-events:none!important}

:root{
  --dockH:92px;
  --stroke:rgba(255,255,255,.10);
  --inkA:rgba(12,22,38,.92);
  --inkB:rgba(6,10,16,.96);
  --opalA:rgba(210,190,255,.16);
  --opalB:rgba(120,70,255,.10);
  --redGlow:rgba(255,70,70,.18);
  --mut:rgba(255,255,255,.88);
}

.page{
  width:min(1100px,94vw);
  margin:0 auto;
  padding:90px 0 calc(var(--dockH) + 18px);
  display:flex;
  flex-direction:column;
  gap:18px;
}

/* HEADER */
.header{
  border:1px solid var(--stroke);
  border-radius:22px;
  background:
    radial-gradient(circle at 20% 20%, var(--opalA), transparent 60%),
    radial-gradient(circle at 80% 30%, var(--opalB), transparent 65%),
    rgba(0,0,0,.16);
  padding:26px;
  box-shadow:0 30px 100px rgba(0,0,0,.6);
}

.t{
  font-weight:950;
  font-size:34px;
  letter-spacing:.8px;
  margin:0 0 12px;
}

.s{
  font-size:17px;
  line-height:1.75;
  opacity:.95;
  margin:0;
}

/* LENS SELECTORS */
.selector{
  margin-top:18px;
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:space-between;
}

.pill{
  padding:10px 18px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.25);
  cursor:pointer;
  font-weight:900;
}

.pill.active{
  border-color:rgba(255,80,80,.55);
  box-shadow:0 0 18px var(--redGlow);
}

/* ACCORDION */
.list{display:flex;flex-direction:column;gap:16px}

.row{
  border:1px solid var(--stroke);
  border-radius:22px;
  background:linear-gradient(145deg,var(--inkA),var(--inkB));
  overflow:hidden;
}

.head{
  padding:20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  cursor:pointer;
}

.title{
  font-weight:950;
  font-size:19px;
}

.body{
  display:none;
  padding:22px;
  border-top:1px solid var(--stroke);
}

.row.open .body{display:block}

.content{
  font-size:17px;
  line-height:1.85;
  color:var(--mut);
}

/* DOCK */
.dock{
  position:fixed;left:50%;
  bottom:max(10px, env(safe-area-inset-bottom));
  transform:translateX(-50%);
  width:min(980px,94vw);
  padding:10px;
  border-radius:22px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.22);
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
}
.dock .btn{width:100%;padding:10px;border-radius:999px}

</style>
</head>

<body>

<div class="page">

  <div class="header">
    <h1 class="t" id="hdrTitle">SOFTWARE SPINE</h1>
    <p class="s" id="hdrSub">
      Every page is a surface.
      Every surface sits on a machine.
      This is the machine.
    </p>

    <div class="selector">
      <div>
        <button class="pill active" id="langEN">EN</button>
        <button class="pill" id="langZH">中文</button>
        <button class="pill" id="langES">ES</button>
      </div>
      <div>
        <button class="pill active" id="lensInformal">INFORMAL</button>
        <button class="pill" id="lensFormal">FORMAL</button>
        <button class="pill" id="lensEngineering">ENGINEERING</button>
        <button class="pill" id="lensPlatform">PLATFORM</button>
      </div>
    </div>
  </div>

  <div class="list" id="list"></div>

</div>

<nav class="dock">
  <a class="btn" href="/index.html">INDEX</a>
  <a class="btn" href="/explore/">EXPLORE</a>
  <a class="btn" href="/products/">PRODUCTS</a>
  <a class="btn" href="/laws/">LAWS</a>
</nav>

<script>
(function(){

let lang="en";
let lens="informal";

const DOMAINS=[
"Unified Coherence Engine (UCI)",
"Simplified Syntax Geometry (SSG)",
"Dot.Grid 256-State Indexing",
"Collapse Detection Engine",
"Registry Infrastructure",
"Audit Surface Layer",
"Alignment Diagnostic Platform"
];

function content(name){

  const TEXT={
    informal:{
      en:"This domain exists because instability hides inside complexity. We built this layer to expose it before it becomes visible damage.",
      zh:"该域存在，是因为不稳定隐藏在复杂性之中。我们构建这一层，是为了在损害出现之前揭示它。",
      es:"Este dominio existe porque la inestabilidad se esconde dentro de la complejidad. Construimos esta capa para exponerla antes de que cause daño visible."
    },
    formal:{
      en:"Provides bounded, reproducible computation under declared constraints with deterministic output integrity.",
      zh:"在声明约束下提供有界、可重复的计算，并保持输出完整性。",
      es:"Proporciona cálculo acotado y reproducible bajo restricciones declaradas con integridad determinista."
    },
    engineering:{
      en:"Implements constraint resolution, state stabilization, deterministic gating, and collapse boundary detection across declared coordinate axes.",
      zh:"实现约束解析、状态稳定、确定性闸门与跨坐标轴的崩溃边界检测。",
      es:"Implementa resolución de restricciones, estabilización de estado y detección determinista de límites de colapso."
    },
    platform:{
      en:"Deployable institutional surface enabling integration across legal, insurance, infrastructure, and governance systems.",
      zh:"可部署的机构级界面，用于法律、保险、基础设施与治理系统集成。",
      es:"Superficie institucional desplegable que permite integración con sistemas legales, de seguros e infraestructura."
    }
  };

  return TEXT[lens][lang];
}

function render(){

  const list=document.getElementById("list");
  list.innerHTML="";

  DOMAINS.forEach((name)=>{

    const row=document.createElement("div");
    row.className="row";

    const head=document.createElement("div");
    head.className="head";
    head.innerHTML='<div class="title">'+name+'</div><div>▸</div>';

    const body=document.createElement("div");
    body.className="body";
    body.innerHTML='<div class="content">'+content(name)+'</div>';

    head.onclick=()=>{
      document.querySelectorAll(".row").forEach(r=>r.classList.remove("open"));
      row.classList.toggle("open");
    };

    row.appendChild(head);
    row.appendChild(body);
    list.appendChild(row);
  });

}

function activate(group,id,value,type){
  document.querySelectorAll(group).forEach(b=>b.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  if(type==="lang") lang=value;
  if(type==="lens") lens=value;
  render();
}

/* Language */
document.getElementById("langEN").onclick=()=>activate(".selector button","langEN","en","lang");
document.getElementById("langZH").onclick=()=>activate(".selector button","langZH","zh","lang");
document.getElementById("langES").onclick=()=>activate(".selector button","langES","es","lang");

/* Lens */
document.getElementById("lensInformal").onclick=()=>activate(".selector button","lensInformal","informal","lens");
document.getElementById("lensFormal").onclick=()=>activate(".selector button","lensFormal","formal","lens");
document.getElementById("lensEngineering").onclick=()=>activate(".selector button","lensEngineering","engineering","lens");
document.getElementById("lensPlatform").onclick=()=>activate(".selector button","lensPlatform","platform","lens");

render();

})();
</script>

</body>
</html>
