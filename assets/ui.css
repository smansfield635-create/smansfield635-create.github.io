/* =========================
   TNT: LANDING DIAMOND FIX
   Paste at END of main CSS.
   Purpose: force 4-node diamond layout (RUN / ENTER / LEARN / EXIT)
   ========================= */

/* 1) Guard rails: prevent global "uniformity" rules from flattening the module */
:where(.landing, .door, .gate, .route, .routes, .home, .start, .intro, .hero) :where(.diamond, .diamonds, .diamondGrid, .diamond-grid, .diamondCard, .diamond-card, .diamondWrap, .diamond-wrap, .diamondContainer, .diamond-container, .nodeGrid, .node-grid, .tileGrid, .tile-grid, .choiceGrid, .choice-grid) {
  display: block !important;
}

/* 2) Core module: container */
:where(.diamond, .diamonds, .diamondGrid, .diamond-grid, .diamondWrap, .diamond-wrap, .diamondContainer, .diamond-container, .nodeGrid, .node-grid, .tileGrid, .tile-grid, .choiceGrid, .choice-grid) {
  position: relative !important;
  width: min(520px, 92vw) !important;
  aspect-ratio: 1 / 1 !important;
  margin: 24px auto 0 !important;
  isolation: isolate !important;
}

/* 3) Core module: the 4 diamond buttons (robust selector net) */
:where(.diamond, .diamonds, .diamondGrid, .diamond-grid, .diamondWrap, .diamond-wrap, .diamondContainer, .diamond-container, .nodeGrid, .node-grid, .tileGrid, .tile-grid, .choiceGrid, .choice-grid)
  :where(a, button, .tile, .node, .card, .diamondItem, .diamond-item, .diamondNode, .diamond-node, .route, .choice, .option) {
  position: absolute !important;
  inset: 50% auto auto 50% !important;
  transform: translate(-50%, -50%) rotate(45deg) !important;

  width: 58% !important;
  height: 58% !important;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  text-align: center !important;

  border-radius: 22px !important;
  border: 1px solid rgba(255,255,255,0.10) !important;
  background: rgba(255,255,255,0.05) !important;
  box-shadow: 0 18px 60px rgba(0,0,0,0.35) !important;

  text-decoration: none !important;
  color: rgba(255,255,255,0.92) !important;
  cursor: pointer !important;
  -webkit-tap-highlight-color: transparent !important;
  user-select: none !important;
}

/* 4) Un-rotate inner text so it reads normally */
:where(.diamond, .diamonds, .diamondGrid, .diamond-grid, .diamondWrap, .diamond-wrap, .diamondContainer, .diamond-container, .nodeGrid, .node-grid, .tileGrid, .tile-grid, .choiceGrid, .choice-grid)
  :where(a, button, .tile, .node, .card, .diamondItem, .diamond-item, .diamondNode, .diamond-node, .route, .choice, .option)
  :where(*){
  transform: rotate(-45deg);
}

/* 5) Positioning: top / right / bottom / left
      Works even if you don’t have explicit classes—uses nth-child. */
:where(.diamond, .diamonds, .diamondGrid, .diamond-grid, .diamondWrap, .diamond-wrap, .diamondContainer, .diamond-container, .nodeGrid, .node-grid, .tileGrid, .tile-grid, .choiceGrid, .choice-grid)
  :where(a, button, .tile, .node, .card, .diamondItem, .diamond-item, .diamondNode, .diamond-node, .route, .choice, .option):nth-child(1) {
  top: 22% !important; left: 50% !important;
}
:where(.diamond, .diamonds, .diamondGrid, .diamond-grid, .diamondWrap, .diamond-wrap, .diamondContainer, .diamond-container, .nodeGrid, .node-grid, .tileGrid, .tile-grid, .choiceGrid, .choice-grid)
  :where(a, button, .tile, .node, .card, .diamondItem, .diamond-item, .diamondNode, .diamond-node, .route, .choice, .option):nth-child(2) {
  top: 50% !important; left: 78% !important;
}
:where(.diamond, .diamonds, .diamondGrid, .diamond-grid, .diamondWrap, .diamond-wrap, .diamondContainer, .diamond-container, .nodeGrid, .node-grid, .tileGrid, .tile-grid, .choiceGrid, .choice-grid)
  :where(a, button, .tile, .node, .card, .diamondItem, .diamond-item, .diamondNode, .diamond-node, .route, .choice, .option):nth-child(3) {
  top: 78% !important; left: 50% !important;
}
:where(.diamond, .diamonds, .diamondGrid, .diamond-grid, .diamondWrap, .diamond-wrap, .diamondContainer, .diamond-container, .nodeGrid, .node-grid, .tileGrid, .tile-grid, .choiceGrid, .choice-grid)
  :where(a, button, .tile, .node, .card, .diamondItem, .diamond-item, .diamondNode, .diamond-node, .route, .choice, .option):nth-child(4) {
  top: 50% !important; left: 22% !important;
}

/* 6) Mobile tighten */
@media (max-width: 420px){
  :where(.diamond, .diamonds, .diamondGrid, .diamond-grid, .diamondWrap, .diamond-wrap, .diamondContainer, .diamond-container, .nodeGrid, .node-grid, .tileGrid, .tile-grid, .choiceGrid, .choice-grid){
    width: min(420px, 92vw) !important;
  }
  :where(.diamond, .diamonds, .diamondGrid, .diamond-grid, .diamondWrap, .diamond-wrap, .diamondContainer, .diamond-container, .nodeGrid, .node-grid, .tileGrid, .tile-grid, .choiceGrid, .choice-grid)
    :where(a, button, .tile, .node, .card, .diamondItem, .diamond-item, .diamondNode, .diamond-node, .route, .choice, .option){
    width: 62% !important;
    height: 62% !important;
  }
}

/* 7) If something is forcing your links inline, smash it */
:where(.diamond, .diamonds, .diamondGrid, .diamond-grid, .diamondWrap, .diamond-wrap, .diamondContainer, .diamond-container, .nodeGrid, .node-grid, .tileGrid, .tile-grid, .choiceGrid, .choice-grid)
  :where(a, button){
  display: flex !important;
  white-space: normal !important;
}

/* =========================
   END TNT
   ========================= */
