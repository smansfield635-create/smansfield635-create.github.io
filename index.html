<!-- TNT — /index.html  (TERMINAL · 2 PRIMARY DIAMONDS → CLEAN STACKED BUBBLES · NO LENSES · FRONTIER SECTION)
     FIXES (COMPLETE + FUNCTIONAL + SYMMETRICAL):
       - Keeps Chinese theme (black/red/gold) + opal surfaces
       - 2 primary diamonds on the face (centered, symmetrical)
       - Click diamond → modal opens
       - Modal has:
           * Header card (tight + cinematic, bounded)
           * Stacked full-width horizontal bubbles (accordion)
           * One open at a time (inside the chosen panel)
           * Jump buttons only (uniform)
       - NO lenses anywhere on Terminal
       - Terminal preserves and propagates lang/style/time if present, but does NOT change them
       - Adds explicit FRONTIER section (space / fusion readiness / solar / innovation) with jump routes
       - Uses /assets/ui.css + /assets/branch.css only
       - Does NOT style html/body background
-->

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>TERMINAL</title>

<link rel="stylesheet" href="/assets/ui.css"/>
<link rel="stylesheet" href="/assets/branch.css"/>

<style>
/* DO NOT TOUCH FIELD — ui.css owns html/body background */
a{color:inherit;text-decoration:none}
body{margin:0;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}

:root{
  --R:154px;
  --red: rgba(176,0,0,.22);
  --gold: rgba(212,175,55,.55);
  --opal: rgba(255,255,255,.10);
  --mut: rgba(255,255,255,.88);
  --mut2: rgba(255,255,255,.72);
}

/* Use site button class if present, otherwise fallback styling */
.crp-btn, .btn{
  display:inline-flex;align-items:center;justify-content:center;
  padding:10px 16px;border-radius:14px;
  background:linear-gradient(145deg, rgba(12,22,38,.92), rgba(7,11,18,.95));
  color:#fff;border:1px solid rgba(255,255,255,.08);
  box-shadow:0 14px 36px rgba(0,0,0,.7);
  cursor:pointer;font-weight:900;letter-spacing:.2px;
  -webkit-tap-highlight-color:transparent;
}
.crp-btn:hover, .btn:hover{box-shadow:0 18px 50px rgba(0,0,0,.9),0 0 14px rgba(212,175,55,.22)}

/* Top-left */
.top-left{position:fixed;left:16px;top:16px;z-index:90;display:flex;gap:10px;flex-wrap:wrap;align-items:center}

/* Brand pill */
.brand{
  position:fixed;left:50%;top:16px;transform:translateX(-50%);
  z-index:80;text-align:center;padding:10px 14px;border-radius:999px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.16);
  backdrop-filter:blur(8px);
}
.brand .name{font-weight:950;letter-spacing:1.2px;font-size:12px;opacity:.95}
.brand .tag{font-size:11px;letter-spacing:.6px;opacity:.70;margin-top:2px}

/* Stage */
.stage{
  position:fixed;left:50%;top:52%;
  transform:translate(-50%,-50%);
  width:min(760px,94vw);height:min(760px,94vw);
  z-index:60;
  pointer-events:none;
}
.outer{
  position:absolute;left:50%;top:50%;
  width:min(700px,92vw);height:min(700px,92vw);
  transform:translate(-50%,-50%) rotate(45deg);
  border-radius:64px;
  background:
    radial-gradient(circle at 52% 14%, var(--red), transparent 55%),
    radial-gradient(circle at 38% 28%, rgba(90,140,255,.10), transparent 55%),
    linear-gradient(145deg, rgba(17,22,28,.56), rgba(11,15,20,.70));
  border:1px solid rgba(255,255,255,.10);
  box-shadow:0 90px 260px rgba(0,0,0,.72), inset 0 2px 0 rgba(255,255,255,.10), inset 0 -50px 90px rgba(0,0,0,.55);
  opacity:.88;
  pointer-events:none;
}

.d{
  width:220px;height:220px;position:absolute;left:50%;top:50%;
  transform-origin:center;border-radius:28px;
  cursor:pointer;
  -webkit-tap-highlight-color:transparent;
  background:
    radial-gradient(circle at 35% 22%, rgba(255,255,255,.18), transparent 58%),
    radial-gradient(circle at 70% 82%, rgba(0,80,255,.18), transparent 62%),
    linear-gradient(160deg, rgba(12,22,38,.94) 0%, rgba(7,11,18,.96) 72%);
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 30px 90px rgba(0,0,0,.78), inset 0 2px 0 rgba(255,255,255,.10);
  transition:transform 220ms ease, box-shadow 220ms ease, border-color 220ms ease;
  pointer-events:auto;
  touch-action:manipulation;
  overflow:hidden;
}
.d::before{
  content:"";position:absolute;inset:0;border-radius:28px;padding:1px;
  background:linear-gradient(120deg, transparent 0%, var(--gold) 50%, transparent 100%);
  opacity:.38;
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor;mask-composite:exclude;
  pointer-events:none;
}
.d::after{
  content:"";position:absolute;left:-45%;top:-70%;
  width:190%;height:180%;
  background:linear-gradient(120deg, rgba(255,255,255,.00) 0%, rgba(255,255,255,.14) 45%, rgba(255,255,255,.00) 60%);
  transform:rotate(18deg);
  opacity:.55;
  pointer-events:none;
  animation:shimmer 7.2s linear infinite;
}
@keyframes shimmer{
  0%{transform:translateX(-18%) rotate(18deg);opacity:.30}
  45%{opacity:.75}
  100%{transform:translateX(18%) rotate(18deg);opacity:.30}
}
.d:hover{
  box-shadow:0 36px 120px rgba(0,0,0,.90),0 0 22px rgba(212,175,55,.22), inset 0 2px 0 rgba(255,255,255,.12);
  border-color:rgba(212,175,55,.30);
}
.d-left{transform:translate(-50%,-50%) translate(calc(var(--R) * -0.88), 0) rotate(45deg)}
.d-right{transform:translate(-50%,-50%) translate(calc(var(--R) * 0.88), 0) rotate(45deg)}

.inner{
  width:100%;height:100%;
  transform:rotate(-45deg);
  display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  text-align:center;padding:18px;gap:10px;
  pointer-events:none;user-select:none
}
.lab{font-weight:950;letter-spacing:.8px;font-size:18px}
.sub{font-size:12.5px;opacity:.82;line-height:1.28;max-width:20em}

.core{
  position:absolute;left:50%;top:50%;
  transform:translate(-50%,-50%);
  width:78px;height:78px;border-radius:22px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.18);
  box-shadow:0 18px 44px rgba(0,0,0,.62), inset 0 2px 0 rgba(255,255,255,.10);
  display:grid;place-items:center;font-weight:950;letter-spacing:.5px;opacity:.92;
  pointer-events:none;
}

/* Dock */
.dock{
  position:fixed;left:50%;
  bottom:max(12px, env(safe-area-inset-bottom));
  transform:translateX(-50%);
  z-index:90;
  width:min(980px,94vw);
  display:flex;justify-content:center;gap:10px;flex-wrap:wrap;
  padding:10px 12px;border-radius:999px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.18);
  backdrop-filter:blur(8px);
}

/* Modal */
.bd{
  position:fixed;inset:0;z-index:200;
  background:rgba(0,0,0,.65);
  backdrop-filter:blur(10px);
  display:none;
}
.bd.show{display:block;}
.modal{
  position:fixed;left:50%;top:50%;
  transform:translate(-50%,-50%);
  width:min(1180px,96vw);
  max-height:90vh;
  display:none;z-index:210;
}
.modal.show{display:block;}
.shell{
  height:90vh;
  border-radius:26px;
  border:1px solid rgba(255,255,255,.10);
  background:
    radial-gradient(circle at 52% 14%, var(--red), transparent 55%),
    radial-gradient(circle at 38% 28%, rgba(90,140,255,.12), transparent 55%),
    linear-gradient(145deg, rgba(17,22,28,.92), rgba(11,15,20,.96));
  box-shadow:0 60px 180px rgba(0,0,0,.92);
  overflow:hidden;
  display:flex;flex-direction:column;
}
.mhead{
  display:flex;justify-content:space-between;align-items:center;gap:10px;
  padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.08);
}
.mtitle{margin:0;font-weight:950;letter-spacing:.3px;font-size:16px}
.mclose{border:0;background:transparent;color:#fff;font-size:18px;cursor:pointer;padding:8px 10px}
.mbody{padding:14px 16px 18px;overflow:auto;-webkit-overflow-scrolling:touch;flex:1 1 auto}

/* Header card */
.hcard{
  padding:14px 16px;border-radius:22px;margin:0 0 14px;
  background:rgba(0,0,0,.10);
  border:1px solid rgba(255,255,255,.10);
}
.hcard .h1{margin:0 0 6px;font-weight:950;font-size:16px}
.hcard .h2{margin:0;color:var(--mut);line-height:1.55}
.hcard .h3{margin:10px 0 0;color:rgba(255,255,255,.70);font-size:12px;line-height:1.45}

/* Stacked bubbles (accordion) */
.stackList{display:flex;flex-direction:column;gap:12px;margin:0 0 14px}
.stackRow{
  border:1px solid rgba(255,255,255,.10);
  border-radius:22px;
  background:linear-gradient(145deg, rgba(17,22,28,.86), rgba(11,15,20,.92));
  box-shadow:0 16px 52px rgba(0,0,0,.60);
  overflow:hidden;
}
.stackHead{
  display:flex;align-items:center;justify-content:space-between;
  gap:10px;padding:14px 16px;cursor:pointer;-webkit-tap-highlight-color:transparent;
}
.stackLeft{display:flex;align-items:center;gap:12px;min-width:0}
.stackBar{width:6px;height:22px;border-radius:99px;background:var(--domc, rgba(255,255,255,.20));box-shadow:0 0 18px rgba(255,255,255,.08);flex:0 0 auto}
.stackTitle{font-weight:950;letter-spacing:.2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.stackSub{font-size:12px;opacity:.72;margin-left:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.stackChevron{font-size:16px;opacity:.75;flex:0 0 auto}
.stackBody{
  display:none;
  padding:14px 16px 10px;
  border-top:1px solid rgba(255,255,255,.08);
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,.06), transparent 55%),
    linear-gradient(145deg, rgba(12,22,38,.86), rgba(7,11,18,.92));
}
.stackRow.open .stackBody{display:block}
.pdesc{margin:0 0 10px;color:rgba(255,255,255,.86);line-height:1.55}
.jumpRow{display:flex;gap:10px;flex-wrap:wrap}

/* Footer */
.mact{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:14px}

@media (max-width:560px){
  :root{--R:136px}
  .d{width:180px;height:180px}
  .stage{top:50%}
}
</style>
</head>

<body>

<div class="top-left">
  <a class="crp-btn" id="btnExit" href="/door/">EXIT</a>
  <a class="crp-btn" id="btnHub" href="/home/">HUB</a>
</div>

<div class="brand">
  <div class="name" id="brandName">TERMINAL</div>
  <div class="tag" id="brandTag">Two diamonds · Jump-only · Symmetry</div>
</div>

<div class="stage" aria-label="Terminal two-diamond entry">
  <div class="outer"></div>

  <div class="d d-left" id="dNext" role="button" tabindex="0">
    <div class="inner">
      <div class="lab" id="labNext">WHERE TO GO NEXT</div>
      <div class="sub" id="subNext">Fast orientation · Clean jumps · Return-safe</div>
    </div>
  </div>

  <div class="d d-right" id="dBoard" role="button" tabindex="0">
    <div class="inner">
      <div class="lab" id="labBoard">FRONTIER</div>
      <div class="sub" id="subBoard">Space · Solar · Fusion readiness · Innovation</div>
    </div>
  </div>

  <div class="core">◆</div>
</div>

<nav class="dock" aria-label="Bottom navigation">
  <a class="crp-btn crp-btn-primary" id="dockTerminal" href="/index.html">TERMINAL</a>
  <a class="crp-btn" id="dockLinks" href="/links/">LINKS</a>
  <a class="crp-btn" id="dockProducts" href="/products/">PRODUCTS</a>
  <a class="crp-btn" id="dockLaws" href="/laws/">LAWS</a>
  <a class="crp-btn" id="dockGauges" href="/gauges/">GAUGES</a>
</nav>

<div class="bd" id="bd" aria-hidden="true"></div>

<div class="modal" id="modal" role="dialog" aria-modal="true" aria-label="Terminal panel">
  <div class="shell">
    <div class="mhead">
      <h3 class="mtitle" id="mTitle">TERMINAL</h3>
      <button class="mclose" id="mClose" aria-label="Close" type="button">✕</button>
    </div>

    <div class="mbody">
      <div class="hcard">
        <div class="h1" id="mh1">—</div>
        <div class="h2" id="mh2">—</div>
        <div class="h3" id="mh3">—</div>
      </div>

      <div class="stackList" id="stackList"></div>

      <div class="mact">
        <button class="crp-btn" id="mReturn" type="button">RETURN</button>
      </div>
    </div>
  </div>
</div>

<script>
(function(){
  // Preserve any existing query params; Terminal does NOT modify style/time.
  const qs=new URLSearchParams(location.search);
  let lang = qs.get("lang") || localStorage.getItem("gd_lang") || "en";
  if(lang!=="en" && lang!=="zh") lang="en";
  try{ localStorage.setItem("gd_lang",lang);}catch(e){}
  document.documentElement.lang = (lang==="zh") ? "zh" : "en";

  // Preserve style/time if present (or stored), but DO NOT change them here.
  const style = qs.get("style") || localStorage.getItem("gd_style") || "";
  const time  = qs.get("time")  || localStorage.getItem("gd_time")  || "";

  function q(){
    const p = new URLSearchParams();
    if(lang) p.set("lang",lang);
    if(style) p.set("style",style);
    if(time) p.set("time",time);
    const s = p.toString();
    return s ? ("?"+s) : "";
  }

  // Wire top buttons + dock
  document.getElementById("btnExit").href="/door/"+q();
  document.getElementById("btnHub").href="/home/"+q();

  document.getElementById("dockTerminal").href="/index.html"+q();
  document.getElementById("dockLinks").href="/links/"+q();
  document.getElementById("dockProducts").href="/products/"+q();
  document.getElementById("dockLaws").href="/laws/"+q();
  document.getElementById("dockGauges").href="/gauges/"+q();

  // Minimal i18n for face labels
  const UI = {
    en:{
      brandName:"TERMINAL",
      brandTag:"Two diamonds · Jump-only · Symmetry",
      leftLab:"WHERE TO GO NEXT",
      leftSub:"Fast orientation · Clean jumps · Return-safe",
      rightLab:"FRONTIER",
      rightSub:"Space · Solar · Fusion readiness · Innovation",
      ret:"RETURN"
    },
    zh:{
      brandName:"终端",
      brandTag:"双菱形 · 仅跳转 · 对称",
      leftLab:"下一步去哪",
      leftSub:"快速定位 · 干净跳转 · 可返回",
      rightLab:"前沿",
      rightSub:"太空 · 太阳能 · 聚变就绪 · 创新",
      ret:"返回"
    }
  };
  const T = (lang==="zh") ? UI.zh : UI.en;
  document.getElementById("brandName").textContent = T.brandName;
  document.getElementById("brandTag").textContent = T.brandTag;
  document.getElementById("labNext").textContent = T.leftLab;
  document.getElementById("subNext").textContent = T.leftSub;
  document.getElementById("labBoard").textContent = T.rightLab;
  document.getElementById("subBoard").textContent = T.rightSub;
  document.getElementById("mReturn").textContent = T.ret;

  // Modal refs
  const bd=document.getElementById("bd");
  const modal=document.getElementById("modal");
  const mClose=document.getElementById("mClose");
  const mReturn=document.getElementById("mReturn");
  const mTitle=document.getElementById("mTitle");
  const mh1=document.getElementById("mh1");
  const mh2=document.getElementById("mh2");
  const mh3=document.getElementById("mh3");
  const stackList=document.getElementById("stackList");

  function openModal(mode){
    bd.classList.add("show");
    modal.classList.add("show");
    build(mode);
  }
  function closeModal(){
    bd.classList.remove("show");
    modal.classList.remove("show");
  }
  bd.addEventListener("click", closeModal);
  mClose.addEventListener("click", closeModal);
  mReturn.addEventListener("click", closeModal);

  // Two diamonds click
  const dNext=document.getElementById("dNext");
  const dBoard=document.getElementById("dBoard");
  dNext.addEventListener("click", ()=>openModal("nav"));
  dBoard.addEventListener("click", ()=>openModal("frontier"));
  dNext.addEventListener("keydown",(e)=>{ if(e.key==="Enter"||e.key===" "){ e.preventDefault(); openModal("nav"); }});
  dBoard.addEventListener("keydown",(e)=>{ if(e.key==="Enter"||e.key===" "){ e.preventDefault(); openModal("frontier"); }});

  function row(title, sub, copy, jumps, color){
    return {title, sub, copy, jumps, color};
  }
  function jump(label, href){ return {label, href}; }

  function makeRow(r){
    const rowEl=document.createElement("div");
    rowEl.className="stackRow";
    rowEl.style.setProperty("--domc", r.color);

    const head=document.createElement("div");
    head.className="stackHead";

    const left=document.createElement("div");
    left.className="stackLeft";

    const bar=document.createElement("div");
    bar.className="stackBar";
    bar.style.background=r.color;

    const title=document.createElement("div");
    title.className="stackTitle";
    title.textContent=r.title;

    const sub=document.createElement("div");
    sub.className="stackSub";
    sub.textContent=r.sub;

    left.appendChild(bar);
    left.appendChild(title);
    left.appendChild(sub);

    const chev=document.createElement("div");
    chev.className="stackChevron";
    chev.textContent="▸";

    head.appendChild(left);
    head.appendChild(chev);

    const body=document.createElement("div");
    body.className="stackBody";

    const copy=document.createElement("p");
    copy.className="pdesc";
    copy.textContent=r.copy;

    const jr=document.createElement("div");
    jr.className="jumpRow";

    r.jumps.forEach(j=>{
      const a=document.createElement("a");
      a.className="crp-btn";
      a.textContent=j.label;
      a.href = j.href + q();
      jr.appendChild(a);
    });

    body.appendChild(copy);
    body.appendChild(jr);

    head.addEventListener("click", ()=>{
      stackList.querySelectorAll(".stackRow").forEach(x=>{
        if(x!==rowEl){ x.classList.remove("open"); x.querySelector(".stackChevron").textContent="▸"; }
      });
      const open = rowEl.classList.toggle("open");
      chev.textContent = open ? "▾" : "▸";
    });

    rowEl.appendChild(head);
    rowEl.appendChild(body);
    return rowEl;
  }

  function build(mode){
    stackList.innerHTML="";
    const ACC = { nav:"#D4AF37", frontier:"#93C5FD", energy:"#F59E0B", explore:"#60A5FA", safety:"#A3A3A3" };

    const NAV_ROWS_EN = [
      row("HUB FIRST","Re-orient fast.",
          "If you’re unsure where to go, start with HUB. North defines, East executes, South constrains, West contains. Then return with your state intact.",
          [ jump("JUMP HUB","/home/"), jump("JUMP PRODUCTS","/products/"), jump("JUMP LINKS","/links/") ],
          ACC.nav),
      row("STATE PRESERVATION","No surprise resets.",
          "Terminal preserves your current lang/style/time if present. Terminal never changes your state; it only propagates it through jump links.",
          [ jump("JUMP LAWS","/laws/"), jump("JUMP GAUGES","/gauges/"), jump("JUMP HUB","/home/") ],
          ACC.nav),
      row("BUILD POSTURE","Visible progress, no broken flows.",
          "Unfinished areas can appear as placeholders. That is intentional: progress stays visible while routing remains deterministic.",
          [ jump("JUMP PRODUCTS","/products/"), jump("JUMP INNOVATION","/explore/"), jump("JUMP LINKS","/links/") ],
          ACC.nav)
    ];

    const NAV_ROWS_ZH = [
      row("先去枢纽","快速定位。",
          "不确定去哪就先去枢纽。北定义，东执行，南约束，西隔离。然后带着状态返回继续。",
          [ jump("跳转枢纽","/home/"), jump("跳转产品","/products/"), jump("跳转链接","/links/") ],
          ACC.nav),
      row("状态保持","不意外重置。",
          "终端会保留你当前的lang/style/time（若存在）。终端不改状态，只负责把状态带着跳转。",
          [ jump("跳转法则","/laws/"), jump("跳转量规","/gauges/"), jump("跳转枢纽","/home/") ],
          ACC.nav),
      row("构建姿态","进度可见，路由不断。",
          "未完成区域可用占位展示。目的是让进度可见，同时保持路径确定与可修。",
          [ jump("跳转产品","/products/"), jump("跳转创新","/explore/"), jump("跳转链接","/links/") ],
          ACC.nav)
    ];

    const FRONTIER_ROWS_EN = [
      row("FRONTIER OVERVIEW","Big horizon, bounded language.",
          "Frontier content is allowed to be ambitious, but it must stay bounded. We jump to the surfaces that explain the ideas without collapsing into fantasy.",
          [ jump("JUMP INNOVATION","/explore/"), jump("JUMP ENERGY","/products/energy/"), jump("JUMP LAWS","/laws/") ],
          ACC.frontier),
      row("SOLAR → PLASMA → INDUSTRY","Start where it’s measurable.",
          "Industrial plasma thermal substitution is the public posture. It is measurable, deployable, and phase-scalable. Anything beyond that is gated readiness doctrine.",
          [ jump("JUMP ENERGY","/products/energy/"), jump("JUMP PRODUCTS","/products/"), jump("JUMP GAUGES","/gauges/") ],
          ACC.energy),
      row("FUSION READINESS","Requirements-only lane.",
          "Fusion stays in a requirements lane: instrumentation, receipts, disproof, independent audit. No gain is asserted in Terminal; this is a jump surface only.",
          [ jump("FUSION READINESS","/explore/fusion-readiness/"), jump("JUMP LAWS","/laws/"), jump("JUMP GAUGES","/gauges/") ],
          ACC.safety),
      row("SPACE COMMUNITIES","Vision with constraints.",
          "Space communities are treated as a frontier narrative: power stability precedes habitation stability. The site keeps these ideas connected to constraints and measurement.",
          [ jump("JUMP INNOVATION","/explore/"), jump("JUMP LINKS","/links/"), jump("JUMP HUB","/home/") ],
          ACC.explore),
      row("FRONTIER JUMP BOARD","Follow the threads.",
          "Use these jumps to explore the big ideas without losing your place. Return here, switch trunks, and keep your state.",
          [ jump("JUMP INNOVATION","/explore/"), jump("JUMP ENERGY","/products/energy/"), jump("JUMP EDUCATION","/products/education/"), jump("JUMP SOFTWARE","/products/software/") ],
          ACC.frontier)
    ];

    const FRONTIER_ROWS_ZH = [
      row("前沿总览","视野大，语言有界。",
          "前沿内容可以雄心勃勃，但必须有边界。这里提供跳转，让你看到结构化解释，而不是落入幻想。",
          [ jump("跳转创新","/explore/"), jump("跳转能源","/products/energy/"), jump("跳转法则","/laws/") ],
          ACC.frontier),
      row("太阳→等离子→工业","从可测处开始。",
          "公开姿态是工业等离子热替代（C）。它可测、可部署、可分阶段扩展。更高主张只留在就绪门槛里。",
          [ jump("跳转能源","/products/energy/"), jump("跳转产品","/products/"), jump("跳转量规","/gauges/") ],
          ACC.energy),
      row("聚变就绪","仅需求通道。",
          "聚变仅作为需求通道：仪器、收据、证伪、独立审计。终端不做增益主张；这里只提供跳转。",
          [ jump("聚变就绪","/explore/fusion-readiness/"), jump("跳转法则","/laws/"), jump("跳转量规","/gauges/") ],
          ACC.safety),
      row("太空社区","愿景带约束。",
          "太空社区作为前沿叙事：电力稳定先于栖居稳定。网站把愿景与约束/测量保持连接。",
          [ jump("跳转创新","/explore/"), jump("跳转链接","/links/"), jump("跳转枢纽","/home/") ],
          ACC.explore),
      row("前沿跳转板","沿线索探索。",
          "用这些跳转探索大想法，同时不丢状态。随时回到这里，换干线继续。",
          [ jump("跳转创新","/explore/"), jump("跳转能源","/products/energy/"), jump("跳转教育","/products/education/"), jump("跳转软件","/products/software/") ],
          ACC.frontier)
    ];

    const rows = (mode==="nav")
      ? ((lang==="zh")?NAV_ROWS_ZH:NAV_ROWS_EN)
      : ((lang==="zh")?FRONTIER_ROWS_ZH:FRONTIER_ROWS_EN);

    mTitle.textContent = (mode==="nav")
      ? ((lang==="zh")?"终端 · 下一步去哪":"TERMINAL · WHERE TO GO NEXT")
      : ((lang==="zh")?"终端 · 前沿":"TERMINAL · FRONTIER");

    mh1.textContent = (mode==="nav")
      ? ((lang==="zh")?"快速定位，干净跳转。":"Fast orientation. Clean jumps.")
      : ((lang==="zh")?"前沿吸引你，但约束保护你。":"Frontier pulls you in, constraints keep it real.");
    mh2.textContent = (mode==="nav")
      ? ((lang==="zh")?"终端无镜头。只跳转，不改状态。":"No lenses here. Jump-only. Terminal does not change your state.")
      : ((lang==="zh")?"太空/太阳能/聚变只作为跳转与结构化说明。":"Space/solar/fusion appear as structured jump surfaces.");
    mh3.textContent = (mode==="nav")
      ? ((lang==="zh")?"不确定就先去枢纽。":"If unsure, go to HUB first.")
      : ((lang==="zh")?"公开姿态仍为工业（C）；聚变只在就绪门槛中。":"Public posture stays Industrial (C); fusion stays readiness-only.");

    rows.forEach((r, idx)=>{
      const el = makeRow(r);
      stackList.appendChild(el);
      if(idx===0){
        el.classList.add("open");
        el.querySelector(".stackChevron").textContent="▾";
      }
    });
  }

})();
</script>

</body>
</html>
