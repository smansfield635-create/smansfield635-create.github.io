<!-- TNT — /home/index.html
     FINAL INTEGRATED HUB A
     12 Directions × 3 Constructs × 2 Lenses
     Canon keys only: gd_lang / gd_style / gd_time
-->

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>HUB · Cardinal Index</title>

<link rel="stylesheet" href="/assets/ui.css"/>
<link rel="stylesheet" href="/assets/branch.css"/>

<style>
body{margin:0;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
a{color:inherit;text-decoration:none}
.wrap{width:min(1040px,94vw);margin:0 auto;padding:14px 0 120px;display:flex;flex-direction:column;gap:12px}

/* Controls */
.topbar{position:sticky;top:0;z-index:50;padding:10px 0;backdrop-filter:blur(8px)}
.controls{display:flex;justify-content:flex-end;gap:10px;flex-wrap:wrap}
.seg{display:inline-flex;border:1px solid rgba(255,255,255,.12);border-radius:999px;overflow:hidden;background:rgba(0,0,0,.18)}
.seg button{border:0;background:transparent;color:#fff;padding:8px 12px;font-weight:900;cursor:pointer}
.seg button.on{background:rgba(255,255,255,.15)}

/* Direction */
.dir{--c:#93C5FD;border:1px solid rgba(255,255,255,.10);border-radius:18px;background:linear-gradient(145deg,rgba(12,22,38,.88),rgba(7,11,18,.95));overflow:hidden}
.dirHead{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;cursor:pointer}
.left{display:flex;align-items:center;gap:10px}
.diamond{width:12px;height:12px;transform:rotate(45deg);border-radius:4px;background:var(--c)}
.label{font-weight:950}
.chev{opacity:.7}
.dirBody{display:none;padding:0 14px 14px;border-top:1px solid rgba(255,255,255,.08)}
.dir.open .dirBody{display:block}

/* Mode */
.mode{border:1px solid rgba(255,255,255,.10);border-radius:16px;background:linear-gradient(145deg,rgba(17,22,28,.78),rgba(11,15,20,.88));margin-top:10px}
.modeHead{display:flex;justify-content:space-between;padding:10px 12px;cursor:pointer}
.modeBody{display:none;padding:12px;border-top:1px solid rgba(255,255,255,.08)}
.mode.open .modeBody{display:block}

/* Paragraph blocks */
.lensBlock{border:1px solid rgba(255,255,255,.10);border-radius:14px;padding:10px 12px;background:rgba(0,0,0,.20);margin-bottom:10px}
.lensTitle{font-weight:950;font-size:12px;margin-bottom:6px}
.p{margin:0;line-height:1.6;font-size:13px;color:rgba(255,255,255,.88)}
.indexLine{margin-top:10px;padding:8px 10px;border-radius:12px;border:1px solid rgba(255,255,255,.10);background:rgba(0,0,0,.15);font-size:12px}
.indexLine a{color:#93C5FD;font-weight:900;text-decoration:none}

/* View filtering */
.view-formal .lensBlock[data-lens="informal"]{display:none}
.view-informal .lensBlock[data-lens="formal"]{display:none}
.view-both .lensBlock{display:block}
</style>
</head>

<body>

<div class="topbar">
  <div class="wrap">
    <div class="controls">
      <div class="seg">
        <button id="viewInformal">INFORMAL</button>
        <button id="viewFormal">FORMAL</button>
        <button id="viewBoth">BOTH</button>
      </div>
      <div class="seg">
        <button id="langEN">EN</button>
        <button id="langZH">中文</button>
      </div>
    </div>
  </div>
</div>

<div class="wrap view-informal" id="root"></div>

<script>
(function(){

/* Canon keys */
const qs=new URLSearchParams(location.search);
let gd_lang=qs.get("gd_lang")||localStorage.getItem("gd_lang")||"en";
let gd_style=qs.get("gd_style")||localStorage.getItem("gd_style")||"informal";
if(gd_lang!=="en"&&gd_lang!=="zh")gd_lang="en";
if(gd_style!=="formal"&&gd_style!=="informal")gd_style="informal";
localStorage.setItem("gd_lang",gd_lang);
localStorage.setItem("gd_style",gd_style);
document.documentElement.lang=gd_lang;

/* View */
const root=document.getElementById("root");
function applyView(v){
root.classList.remove("view-formal","view-informal","view-both");
root.classList.add("view-"+v);
}
applyView(gd_style);
document.getElementById("viewInformal").onclick=()=>applyView("informal");
document.getElementById("viewFormal").onclick=()=>applyView("formal");
document.getElementById("viewBoth").onclick=()=>applyView("both");

/* Language */
function setLang(l){gd_lang=l;localStorage.setItem("gd_lang",l);document.documentElement.lang=l;render();}
document.getElementById("langEN").onclick=()=>setLang("en");
document.getElementById("langZH").onclick=()=>setLang("zh");

/* Structure */
const ORDER=["N","NNE","ENE","E","ESE","SSE","S","SSW","WSW","W","WNW","NNW"];
const COLORS={N:"#1F3A8A",NNE:"#2C3EAF",ENE:"#4B3FBF",E:"#0EA5E9",ESE:"#14B8A6",SSE:"#22C55E",S:"#F59E0B",SSW:"#EA580C",WSW:"#DC2626",W:"#7F1D1D",WNW:"#9333EA",NNW:"#334155"};

function T(en,zh){return gd_lang==="zh"?zh:en}

/* Informal N + NNE full text retained */
const INFORMAL_CUSTOM={
N:{
concept:"Breaking: Cross-agency reviews continue to show that systemic failure often begins with semantic ambiguity. Institutions collapse not because they lacked talent or ambition, but because they never aligned on what their words actually meant. Contracts reference undefined scope. Policies contain elastic terminology. Interpretive gaps widen under pressure. When definitions drift, accountability dissolves. North eliminates that condition. It declares scope before exposure. It pins meaning before power is deployed. It ensures that verification posture is structural, not optional.",
live:"In real time, drift manifests quietly. Teams operate under parallel interpretations. Metrics look aligned until stress reveals divergence. Disputes become interpretive instead of structural. Live posture under North requires declared scope for every claim. Terms are published, versioned, and stable. Interpretations route back to the registry. Language is treated as infrastructure.",
roadmap:"North expands through disciplined registry growth. New terms are introduced only when operationally necessary and measurably bounded. Versioning replaces silent edits. Definitions are refined without mutating geometry. Public articulation remains subordinate to declared scope. As scale increases, lookup friction decreases. North does not expand influence — it expands clarity."
},
NNE:{
concept:"Breaking: Technology deployments fail most often during translation from policy to product. Strategic documents declare intent, but execution teams reinterpret terms during implementation. Drift compounds quietly until measurable divergence appears. NNE disciplines that conversion. It preserves semantic continuity as concepts move into tools. It prevents silent reinterpretation during productization.",
live:"In live deployment, execution must inherit definitional constraints automatically. Build systems validate semantic references before release. Divergence between declaration and execution triggers review. Product surfaces remain semantically consistent under scale.",
roadmap:"The roadmap formalizes translation validation tooling. Cross-product mapping references shared anchors. Execution surfaces remain bounded. Scaling preserves integrity through repetition of geometric alignment."
}
};

/* Formal generic */
function formalGeneric(){
return "This direction defines a bounded structural role within the compass. Scope is declared before any claim is admitted. Constraints prevent semantic drift. Verification remains explicit and auditable. Cross-domain comparison remains stable under scale. Execution inherits boundary conditions from here.";
}

/* Informal generic */
function informalGeneric(){
return "Breaking: systemic instability often follows unstructured expansion. When boundaries are implied rather than declared, scale magnifies weakness. This direction restores structural discipline. It aligns action with declared scope. Growth remains measurable and contained.";
}

/* Build */
function render(){
root.innerHTML="";
ORDER.forEach(dir=>{
const section=document.createElement("section");
section.className="dir";
section.style.setProperty("--c",COLORS[dir]);

const head=document.createElement("div");
head.className="dirHead";
head.innerHTML="<div class='left'><div class='diamond'></div><div class='label'>"+dir+"</div></div><div class='chev'>▸</div>";
const body=document.createElement("div");
body.className="dirBody";

["concept","live","roadmap"].forEach(mode=>{
const m=document.createElement("div");
m.className="mode";
m.innerHTML="<div class='modeHead'><div>"+mode.toUpperCase()+"</div><div>▸</div></div>";
const mb=document.createElement("div");
mb.className="modeBody";

const f=document.createElement("div");
f.className="lensBlock";
f.setAttribute("data-lens","formal");
f.innerHTML="<div class='lensTitle'>Formal</div><p class='p'>"+formalGeneric()+"</p>";

const i=document.createElement("div");
i.className="lensBlock";
i.setAttribute("data-lens","informal");
let text=(INFORMAL_CUSTOM[dir]&&INFORMAL_CUSTOM[dir][mode])?INFORMAL_CUSTOM[dir][mode]:informalGeneric();
i.innerHTML="<div class='lensTitle'>Informal</div><p class='p'>"+text+"</p>";

const index=document.createElement("div");
index.className="indexLine";
index.innerHTML="Index: related instrument surface. <a href='#'>Jump</a>";

mb.appendChild(f);
mb.appendChild(i);
mb.appendChild(index);
m.appendChild(mb);
m.querySelector(".modeHead").onclick=()=>m.classList.toggle("open");
body.appendChild(m);
});

head.onclick=()=>section.classList.toggle("open");
section.appendChild(head);
section.appendChild(body);
root.appendChild(section);
});
}

render();

})();
</script>

</body>
</html>
