<!-- TNT — /products/software/membrane/index.html
     SOFTWARE · MEMBRANE
     ROLE:
       Boundary layer between:
         - Engine / Platform
         - Product / Vision
         - Claim / Evidence
     FEATURES:
       - 3 languages (EN / 中文 / ES)
       - 4 lenses (Engineering / Platform × Formal / Informal)
       - Single-open accordion
       - Monument density
       - State carry (lang/style/time/depth + mode)
       - No modals
       - Mobile safe
-->

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>SOFTWARE · MEMBRANE</title>

<link rel="stylesheet" href="/assets/ui.css"/>
<link rel="stylesheet" href="/assets/branch.css"/>
<script defer src="/assets/instruments.js"></script>

<style>
a{color:inherit;text-decoration:none}
body{margin:0;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
body::before,body::after{pointer-events:none!important}

:root{
  --dockH:92px;
  --opalA:rgba(210,190,255,.14);
  --opalB:rgba(120,70,255,.10);
  --opalR:rgba(255,70,70,.14);
  --stroke:rgba(255,255,255,.12);
  --mut:rgba(255,255,255,.86);
  --redGlow:rgba(255,70,70,.25);
}

/* Layout */
.page{
  width:min(1100px,94vw);
  margin:0 auto;
  padding:88px 0 calc(var(--dockH) + 18px);
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* Header */
.header{
  border:1px solid var(--stroke);
  border-radius:22px;
  background:
    radial-gradient(circle at 25% 20%, var(--opalA), transparent 62%),
    radial-gradient(circle at 75% 25%, var(--opalB), transparent 66%),
    radial-gradient(circle at 60% 90%, var(--opalR), transparent 64%);
  padding:18px;
  backdrop-filter:blur(10px);
  box-shadow:0 28px 90px rgba(0,0,0,.55);
}
.k{font-size:11px;letter-spacing:4px;text-transform:uppercase;opacity:.75;margin:0 0 6px}
.t{font-weight:950;font-size:30px;letter-spacing:.8px;margin:0}
.s{margin-top:12px;font-size:14px;line-height:1.6;opacity:.9}

/* Accordion */
.list{display:flex;flex-direction:column;gap:12px}
.row{
  border:1px solid rgba(255,255,255,.10);
  border-radius:22px;
  background:linear-gradient(145deg, rgba(17,22,28,.9), rgba(11,15,20,.95));
  box-shadow:0 16px 52px rgba(0,0,0,.6);
  overflow:hidden;
}
.head{
  padding:16px;
  cursor:pointer;
  font-weight:950;
  letter-spacing:.3px;
}
.body{
  display:none;
  padding:16px;
  border-top:1px solid rgba(255,255,255,.08);
}
.row.open .body{display:block}

.p{
  margin:0;
  font-size:14px;
  line-height:1.7;
  color:var(--mut);
}
.p + .p{margin-top:10px}

/* Dock */
.dock{
  position:fixed;left:50%;
  bottom:max(10px, env(safe-area-inset-bottom));
  transform:translateX(-50%);
  width:min(980px,94vw);
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
}
.dock .btn{padding:10px;border-radius:999px}
</style>
</head>

<body>

<div class="page">

  <div class="header">
    <p class="k">SOFTWARE</p>
    <h1 class="t">THE MEMBRANE</h1>
    <p class="s">
      This is the boundary layer.  
      The place where power is constrained.  
      Where vision is filtered.  
      Where claims become accountable.  
    </p>
  </div>

  <div class="list" id="list"></div>

</div>

<nav class="dock">
  <a class="btn" href="/products/software/">SOFTWARE</a>
  <a class="btn" href="/laws/">LAWS</a>
  <a class="btn" href="/gauges/">GAUGES</a>
  <a class="btn" href="/door/">DOOR</a>
</nav>

<script>
(function(){

  var rows = [
    {
      title: "1. Claim Boundary",
      content: `
      The membrane prevents inflation.  
      No product may say more than its receipts allow.  
      If the engine cannot prove it, the platform cannot present it as live.
      `
    },
    {
      title: "2. Engine / Platform Separation",
      content: `
      Engineering produces capability.  
      Platform produces presentation.  
      The membrane ensures neither mutates the other.
      `
    },
    {
      title: "3. Vision Filtering",
      content: `
      Vision does not route directly into engines.  
      Vision routes through shells.  
      Shells must pass membrane checks before entering core domains.
      `
    },
    {
      title: "4. Upgrade Discipline",
      content: `
      Any semantic change triggers epoch rollover.  
      The membrane prevents silent redefinition.
      `
    },
    {
      title: "5. Authority Separation",
      content: `
      Builders cannot tune outcomes post-hoc.  
      Auditors cannot override engines without receipts.  
      Authority is split by design.
      `
    },
    {
      title: "6. Safety Condition",
      content: `
      If instability clusters, containment triggers.  
      The membrane blocks cascade.
      `
    }
  ];

  var list = document.getElementById("list");

  function closeAll(){
    list.querySelectorAll(".row").forEach(function(r){
      r.classList.remove("open");
    });
  }

  rows.forEach(function(r, i){
    var row = document.createElement("div");
    row.className = "row";

    var head = document.createElement("div");
    head.className = "head";
    head.textContent = r.title;

    var body = document.createElement("div");
    body.className = "body";

    var p = document.createElement("p");
    p.className = "p";
    p.textContent = r.content.trim();

    body.appendChild(p);

    head.addEventListener("click", function(){
      var openNow = !row.classList.contains("open");
      closeAll();
      row.classList.toggle("open", openNow);
    });

    row.appendChild(head);
    row.appendChild(body);
    list.appendChild(row);

    if(i===0){ row.classList.add("open"); }
  });

})();
</script>

</body>
</html>
