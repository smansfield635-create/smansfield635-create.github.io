<!-- TNT — /products/energy/index.html  (ENERGY SUB-HUB · GEM STANDARD · DIAMOND-OF-DIAMONDS)
     FIX:
       - Categories MUST OPEN (CHAIN / PLASMA / FUSION / VALIDATION)
       - Match Education sub-hub interaction model (proven working):
           - Click diamond → open modal
           - Lenses INSIDE modal only (style + concept/live/roadmap)
           - 4 boxes × 4 bullets per view
       - Language lens: lang=en => EN only, lang=zh => 中文 only
       - Canonical keys only: gd_lang / gd_style / gd_time
       - Deterministic state propagation in querystring
     LOCKS:
       - TNT FULL FILE
       - Uses /assets/ui.css + /assets/branch.css only
       - DOES NOT style html/body background (ui.css owns field)
-->

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>PRODUCTS · ENERGY</title>

<link rel="stylesheet" href="/assets/ui.css"/>
<link rel="stylesheet" href="/assets/branch.css"/>

<style>
:root{
  --R:154px;
  --goldSoft:rgba(212,175,55,.35);
  --obs1:#070b12;
  --obs2:#0c1626;
  --mut:rgba(255,255,255,.84);
  --mut2:rgba(255,255,255,.68);
}
body{
  margin:0; min-height:100vh; overflow-x:hidden;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  color:#fff;
}

/* Top-left */
.top-left{
  position:fixed; left:16px; top:16px; z-index:90;
  display:flex; gap:10px; flex-wrap:wrap; align-items:center;
}
.btn{
  padding:10px 16px; border-radius:14px;
  background:linear-gradient(145deg,var(--obs2),var(--obs1));
  color:#fff; border:1px solid rgba(255,255,255,.08);
  box-shadow:0 14px 36px rgba(0,0,0,.7);
  cursor:pointer; font-weight:900; letter-spacing:.2px; text-decoration:none;
  -webkit-tap-highlight-color:transparent;
}
.btn:hover{ box-shadow:0 18px 50px rgba(0,0,0,.9), 0 0 14px var(--goldSoft); }

/* Brand */
.brand{
  position:fixed; left:50%; top:16px; transform:translateX(-50%);
  z-index:80; text-align:center;
  padding:10px 14px; border-radius:999px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.16); backdrop-filter:blur(8px);
}
.brand .name{ font-weight:950; letter-spacing:1.2px; font-size:12px; opacity:.95; }
.brand .tag{ font-size:11px; letter-spacing:.6px; opacity:.70; margin-top:2px; }

/* Stage */
.stage{
  position:fixed; left:50%; top:52%;
  transform:translate(-50%,-50%);
  width:min(720px,94vw); height:min(720px,94vw);
  z-index:40;
}
.outer{
  position:absolute; left:50%; top:50%;
  width:min(680px,92vw); height:min(680px,92vw);
  transform:translate(-50%,-50%) rotate(45deg);
  border-radius:60px;
  background:
    radial-gradient(circle at 30% 25%, rgba(255,255,255,.08), transparent 55%),
    radial-gradient(circle at 70% 80%, rgba(0,80,255,.14), transparent 60%),
    linear-gradient(160deg, rgba(14,24,40,.45) 0%, rgba(7,11,18,.62) 70%);
  border:1px solid rgba(255,255,255,.10);
  box-shadow:
    0 90px 260px rgba(0,0,0,.72),
    inset 0 2px 0 rgba(255,255,255,.10),
    inset 0 -50px 90px rgba(0,0,0,.55);
  pointer-events:none; opacity:.85;
}
.outer::after{
  content:""; position:absolute; inset:0; border-radius:60px;
  background:repeating-conic-gradient(from 0deg, rgba(255,255,255,.04) 0deg 6deg, transparent 6deg 18deg);
  opacity:.16;
}
.d{
  width:170px; height:170px;
  position:absolute; left:50%; top:50%;
  transform-origin:center; border-radius:26px;
  cursor:pointer; -webkit-tap-highlight-color:transparent;
  background:
    radial-gradient(circle at 35% 25%, rgba(255,255,255,.14), transparent 55%),
    radial-gradient(circle at 70% 80%, rgba(0,80,255,.18), transparent 60%),
    linear-gradient(160deg, rgba(12,22,38,.92) 0%, rgba(7,11,18,.95) 70%);
  border:1px solid rgba(255,255,255,.10);
  box-shadow:
    0 28px 84px rgba(0,0,0,.78),
    inset 0 2px 0 rgba(255,255,255,.14),
    inset 0 -28px 44px rgba(0,0,0,.62);
  transition:transform 220ms ease, box-shadow 220ms ease, border-color 220ms ease;
}
.d::before{
  content:""; position:absolute; inset:0; border-radius:26px; padding:1px;
  background:linear-gradient(120deg, transparent 0%, var(--goldSoft) 50%, transparent 100%);
  opacity:.45;
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
  pointer-events:none;
}
.d::after{
  content:""; position:absolute; left:12%; right:12%; top:10%; height:28%;
  border-radius:999px;
  background:linear-gradient(to bottom, rgba(255,255,255,.16), rgba(255,255,255,0));
  opacity:.85; transform:rotate(-10deg);
  pointer-events:none;
}
.d:hover{
  transform:translate(-50%,-50%) rotate(45deg) scale(1.02);
  box-shadow:
    0 34px 110px rgba(0,0,0,.88),
    0 0 18px rgba(212,175,55,.18),
    inset 0 2px 0 rgba(255,255,255,.18),
    inset 0 -32px 52px rgba(0,0,0,.68);
}
.d.active{
  border-color:rgba(212,175,55,.55);
  box-shadow:
    0 34px 110px rgba(0,0,0,.88),
    0 0 30px rgba(212,175,55,.40),
    inset 0 2px 0 rgba(255,255,255,.18),
    inset 0 -32px 52px rgba(0,0,0,.68);
}
.d-n{ transform:translate(-50%,-50%) translate(0, calc(var(--R) * -1)) rotate(45deg); }
.d-e{ transform:translate(-50%,-50%) translate(var(--R), 0) rotate(45deg); }
.d-s{ transform:translate(-50%,-50%) translate(0, var(--R)) rotate(45deg); }
.d-w{ transform:translate(-50%,-50%) translate(calc(var(--R) * -1), 0) rotate(45deg); }

.inner{
  width:100%; height:100%; transform:rotate(-45deg);
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  text-align:center; padding:16px; gap:10px;
  pointer-events:none; user-select:none;
}
.lab{ font-weight:950; letter-spacing:.8px; font-size:16px; }
.sub{ font-size:12.5px; opacity:.80; line-height:1.35; max-width:18em; }

.core{
  position:absolute; left:50%; top:50%;
  transform:translate(-50%,-50%);
  width:74px; height:74px; border-radius:22px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.18);
  box-shadow:0 18px 44px rgba(0,0,0,.62), inset 0 2px 0 rgba(255,255,255,.10);
  display:grid; place-items:center;
  font-weight:950; letter-spacing:.5px;
  opacity:.92; pointer-events:none;
}

/* Dock */
.dock{
  position:fixed; left:50%;
  bottom:max(12px, env(safe-area-inset-bottom));
  transform:translateX(-50%);
  z-index:90;
  width:min(900px,94vw);
  display:flex; justify-content:center;
  gap:10px; flex-wrap:wrap;
  padding:10px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.20);
  backdrop-filter:blur(8px);
}

/* Modal */
.bd{
  position:fixed; inset:0; z-index:200;
  background:rgba(0,0,0,.65);
  backdrop-filter:blur(10px);
  display:none;
}
.bd.show{display:block;}
.modal{
  position:fixed; left:50%; top:50%;
  transform:translate(-50%,-50%);
  width:min(1020px,94vw);
  max-height:88vh;
  display:none;
  z-index:210;
}
.modal.show{display:block;}
.shell{
  height:88vh;
  border-radius:26px;
  border:1px solid rgba(255,255,255,.10);
  background:
    radial-gradient(circle at 50% 18%, rgba(176,0,0,.20), transparent 55%),
    radial-gradient(circle at 40% 25%, rgba(90,140,255,.12), transparent 55%),
    linear-gradient(160deg,var(--obs2) 0%, var(--obs1) 65%);
  box-shadow:0 60px 180px rgba(0,0,0,.92);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  position:relative;
}
.mhead{
  display:flex; justify-content:space-between; align-items:center;
  gap:10px; padding:14px 16px;
  border-bottom:1px solid rgba(255,255,255,.08);
  position:relative; z-index:2;
}
.mtitle{ margin:0; font-weight:950; letter-spacing:.3px; font-size:16px; }
.mclose{ border:0; background:transparent; color:#fff; font-size:18px; cursor:pointer; padding:8px 10px; }
.mbody{
  padding:14px 16px 18px;
  overflow:auto; -webkit-overflow-scrolling:touch;
  flex:1 1 auto;
  position:relative; z-index:2;
}
.lensbar{
  display:flex; gap:10px; flex-wrap:wrap;
  align-items:center; justify-content:center;
  padding:10px 10px 14px;
  border-bottom:1px solid rgba(255,255,255,.08);
  margin:-6px -6px 14px;
}
.chip{
  padding:10px 16px; border-radius:999px;
  background:linear-gradient(145deg,var(--obs2),var(--obs1));
  border:1px solid rgba(255,255,255,.08);
  box-shadow:0 14px 36px rgba(0,0,0,.65);
  cursor:pointer; font-weight:900; letter-spacing:.2px; color:#fff;
}
.chip.active{
  border-color:rgba(212,175,55,.35);
  box-shadow:0 18px 50px rgba(0,0,0,.9), 0 0 16px rgba(212,175,55,.30);
}
.mgrid{ display:grid; gap:14px; }
@media (min-width:920px){ .mgrid{ grid-template-columns:1fr 1fr; } }
.box{
  padding:16px 18px; border-radius:22px;
  background:
    radial-gradient(circle at 30% 30%, rgba(120,160,255,.08), transparent 55%),
    linear-gradient(145deg, rgba(12,22,38,.92), rgba(7,11,18,.95));
  border:1px solid rgba(255,255,255,.10);
  box-shadow:0 18px 60px rgba(0,0,0,.70), inset 0 2px 0 rgba(255,255,255,.06);
  position:relative;
}
.box::before{
  content:""; position:absolute; inset:0; border-radius:22px; padding:1px;
  background:linear-gradient(120deg, transparent 0%, var(--goldSoft) 50%, transparent 100%);
  opacity:.55;
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
  pointer-events:none;
}
.h{ margin:0 0 8px; font-weight:950; letter-spacing:.2px; }
.p{ margin:0 0 10px; color:var(--mut); line-height:1.55; }
.ul{ margin:0 0 0 18px; padding:0; color:var(--mut2); }
.ul li{ margin:6px 0; }

.mact{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:14px; }
.sbtn{
  padding:12px 18px; border-radius:14px;
  background:linear-gradient(145deg,var(--obs2),var(--obs1));
  color:#fff; border:1px solid rgba(255,255,255,.08);
  box-shadow:0 14px 36px rgba(0,0,0,.7);
  cursor:pointer; font-weight:900; letter-spacing:.2px; text-decoration:none;
}
.sbtn:hover{ box-shadow:0 18px 50px rgba(0,0,0,.9), 0 0 14px var(--goldSoft); }

@media (max-width:560px){
  :root{ --R: 136px; }
  .d{ width:158px; height:158px; }
  .stage{ top:54%; }
}
</style>
</head>

<body>

<div class="top-left">
  <a class="btn" id="btnBack" href="/products/">BACK</a>
  <a class="btn" id="btnExit" href="/door/">EXIT</a>
</div>

<div class="brand">
  <div class="name" id="brandName">PRODUCTS</div>
  <div class="tag" id="brandTag">ENERGY CONVERSION</div>
</div>

<div class="stage">
  <div class="outer"></div>

  <div class="d d-n" id="dChain" role="button" tabindex="0">
    <div class="inner">
      <div class="lab" id="labChain">CHAIN</div>
      <div class="sub" id="subChain">Solar → plasma → fusion.</div>
    </div>
  </div>

  <div class="d d-e" id="dPlasma" role="button" tabindex="0">
    <div class="inner">
      <div class="lab" id="labPlasma">PLASMA</div>
      <div class="sub" id="subPlasma">Formation · stability.</div>
    </div>
  </div>

  <div class="d d-s" id="dFusion" role="button" tabindex="0">
    <div class="inner">
      <div class="lab" id="labFusion">FUSION</div>
      <div class="sub" id="subFusion">Confinement · criteria.</div>
    </div>
  </div>

  <div class="d d-w" id="dValidation" role="button" tabindex="0">
    <div class="inner">
      <div class="lab" id="labValidation">VALIDATION</div>
      <div class="sub" id="subValidation">Signals · falsifiers.</div>
    </div>
  </div>

  <div class="core">◆</div>
</div>

<nav class="dock" id="dock">
  <a class="btn" id="dockHub" href="/home/">HUB</a>
  <a class="btn" id="dockTerminal" href="/index.html">TERMINAL</a>
  <a class="btn" id="dockLinks" href="/links/">LINKS</a>
  <a class="btn" id="dockProducts" href="/products/">PRODUCTS</a>
  <a class="btn" id="dockLaws" href="/laws/">LAWS</a>
  <a class="btn" id="dockGauges" href="/gauges/">GAUGES</a>
</nav>

<div class="bd" id="bd"></div>

<div class="modal" id="modal" role="dialog" aria-modal="true">
  <div class="shell">
    <div class="mhead">
      <h3 class="mtitle" id="mTitle">DETAIL</h3>
      <button class="mclose" id="mClose" aria-label="Close" type="button">✕</button>
    </div>

    <div class="mbody">
      <div class="lensbar">
        <button class="chip" id="styleChip" type="button">STYLE: FORMAL</button>
        <button class="chip" data-time="origin" id="chipConcept" type="button">CONCEPT</button>
        <button class="chip" data-time="now" id="chipLive" type="button">LIVE</button>
        <button class="chip" data-time="post" id="chipRoadmap" type="button">ROADMAP</button>
      </div>

      <div class="mgrid">
        <div class="box"><h4 class="h" id="h1"></h4><p class="p" id="p1"></p><ul class="ul" id="u1"></ul></div>
        <div class="box"><h4 class="h" id="h2"></h4><p class="p" id="p2"></p><ul class="ul" id="u2"></ul></div>
        <div class="box"><h4 class="h" id="h3"></h4><p class="p" id="p3"></p><ul class="ul" id="u3"></ul></div>
        <div class="box"><h4 class="h" id="h4"></h4><p class="p" id="p4"></p><ul class="ul" id="u4"></ul></div>
      </div>

      <div class="mact">
        <button class="sbtn" id="mReturn" type="button">RETURN</button>
        <a class="sbtn" id="mJumpProducts" href="/products/">JUMP PRODUCTS</a>
        <a class="sbtn" id="mJumpHub" href="/home/">JUMP HUB</a>
      </div>
    </div>
  </div>
</div>

<script>
(function(){
  // ===== Canonical hydration =====
  var qs = new URLSearchParams(location.search);
  var lang  = qs.get("lang")  || localStorage.getItem("gd_lang")  || "en";
  var style = qs.get("style") || localStorage.getItem("gd_style") || "formal";
  var time  = qs.get("time")  || localStorage.getItem("gd_time")  || "now";

  if(!["en","zh"].includes(lang)) lang="en";
  if(!["formal","informal"].includes(style)) style="formal";
  if(time==="trajectory") time="post";
  if(!["origin","now","post"].includes(time)) time="now";

  try{ localStorage.setItem("gd_lang",lang); localStorage.setItem("gd_style",style); localStorage.setItem("gd_time",time); }catch(e){}
  document.documentElement.lang = (lang==="zh") ? "zh" : "en";

  function q(){ return "lang="+encodeURIComponent(lang)+"&style="+encodeURIComponent(style)+"&time="+encodeURIComponent(time); }

  function setLinks(){
    var s=q();
    document.getElementById("btnBack").href="/products/?"+s;
    document.getElementById("btnExit").href="/door/?"+s;

    document.getElementById("dockHub").href="/home/?"+s;
    document.getElementById("dockTerminal").href="/index.html?"+s;
    document.getElementById("dockLinks").href="/links/?"+s;
    document.getElementById("dockProducts").href="/products/?"+s;
    document.getElementById("dockLaws").href="/laws/?"+s;
    document.getElementById("dockGauges").href="/gauges/?"+s;

    document.getElementById("mJumpProducts").href="/products/?"+s;
    document.getElementById("mJumpHub").href="/home/?"+s;
  }
  setLinks();

  // ===== UI language (single-language, no mixing) =====
  var UI = {
    en:{
      brand:"PRODUCTS",
      tag:"ENERGY CONVERSION",
      d:{
        chain:{lab:"CHAIN", sub:"Solar → plasma → fusion."},
        plasma:{lab:"PLASMA", sub:"Formation · stability."},
        fusion:{lab:"FUSION", sub:"Confinement · criteria."},
        val:{lab:"VALIDATION", sub:"Signals · falsifiers."}
      },
      lens:{formal:"FORMAL", informal:"INFORMAL", concept:"CONCEPT", live:"LIVE", roadmap:"ROADMAP"},
      btn:{ret:"RETURN", jp:"JUMP PRODUCTS", jh:"JUMP HUB"},
      stylePrefix:"STYLE: "
    },
    zh:{
      brand:"产品",
      tag:"能源转换",
      d:{
        chain:{lab:"链路", sub:"太阳 → 等离子 → 聚变。"},
        plasma:{lab:"等离子", sub:"形成 · 稳定。"},
        fusion:{lab:"聚变", sub:"约束 · 标准。"},
        val:{lab:"验证", sub:"信号 · 证伪。"}
      },
      lens:{formal:"正式", informal:"直接", concept:"概念", live:"上线", roadmap:"路线图"},
      btn:{ret:"返回", jp:"跳转产品", jh:"跳转枢纽"},
      stylePrefix:"风格："
    }
  };
  var ui = (lang==="zh") ? UI.zh : UI.en;

  document.getElementById("brandName").textContent = ui.brand;
  document.getElementById("brandTag").textContent = ui.tag;

  document.getElementById("labChain").textContent = ui.d.chain.lab;
  document.getElementById("subChain").textContent = ui.d.chain.sub;
  document.getElementById("labPlasma").textContent = ui.d.plasma.lab;
  document.getElementById("subPlasma").textContent = ui.d.plasma.sub;
  document.getElementById("labFusion").textContent = ui.d.fusion.lab;
  document.getElementById("subFusion").textContent = ui.d.fusion.sub;
  document.getElementById("labValidation").textContent = ui.d.val.lab;
  document.getElementById("subValidation").textContent = ui.d.val.sub;

  document.getElementById("mReturn").textContent = ui.btn.ret;
  document.getElementById("mJumpProducts").textContent = ui.btn.jp;
  document.getElementById("mJumpHub").textContent = ui.btn.jh;

  // ===== Modal wiring =====
  var bd=document.getElementById("bd");
  var modal=document.getElementById("modal");
  var mClose=document.getElementById("mClose");
  var mTitle=document.getElementById("mTitle");
  var styleChip=document.getElementById("styleChip");
  var chipConcept=document.getElementById("chipConcept");
  var chipLive=document.getElementById("chipLive");
  var chipRoadmap=document.getElementById("chipRoadmap");

  var h1=document.getElementById("h1"),p1=document.getElementById("p1"),u1=document.getElementById("u1");
  var h2=document.getElementById("h2"),p2=document.getElementById("p2"),u2=document.getElementById("u2");
  var h3=document.getElementById("h3"),p3=document.getElementById("p3"),u3=document.getElementById("u3");
  var h4=document.getElementById("h4"),p4=document.getElementById("p4"),u4=document.getElementById("u4");

  function persist(){
    try{ localStorage.setItem("gd_style",style); localStorage.setItem("gd_time",time); }catch(e){}
  }

  function setLensLabels(){
    styleChip.textContent = ui.stylePrefix + (style==="formal" ? ui.lens.formal : ui.lens.informal);
    chipConcept.textContent = ui.lens.concept;
    chipLive.textContent = ui.lens.live;
    chipRoadmap.textContent = ui.lens.roadmap;

    chipConcept.classList.toggle("active", time==="origin");
    chipLive.classList.toggle("active", time==="now");
    chipRoadmap.classList.toggle("active", time==="post");
  }

  function fill(hEl,pEl,uEl,b){
    hEl.textContent=b.h;
    pEl.textContent=b.p;
    uEl.innerHTML="";
    for(var i=0;i<b.u.length;i++){
      var li=document.createElement("li");
      li.textContent=b.u[i];
      uEl.appendChild(li);
    }
  }

  // ===== Content (frontier-level, public-safe, no recipes) =====
  var EN = {
    chain:{
      origin:{
        formal:{title:"Chain · Concept",
          b1:{h:"Chain definition",p:"A staged conversion model: capture → conditioning → plasma formation → stability control → fusion criteria. Public text stays structural and test-ready.",u:["Stages are explicit.","Interfaces are named.","Loss is acknowledged.","No ‘magic’ steps."]},
          b2:{h:"Frontier discipline",p:"Frontier work is treated as constraints + signals, not slogans. The reader can see what would count as success or failure.",u:["Constraints listed.","Signals listed.","Falsifiers listed.","Bounds stated."]},
          b3:{h:"What is shared",p:"We share the measurement and falsification surface (what to measure, what would disprove), not apparatus recipes.",u:["Signals public.","Falsifiers public.","Safety boundary explicit.","No build steps."]},
          b4:{h:"What is not shared",p:"No schematics, no parameter recipes, no proprietary geometry, no hazardous procedural instructions.",u:["No schematics.","No setpoints.","No unique build geometry.","No how-to build."]}
        },
        informal:{title:"Chain · Concept",
          b1:{h:"The chain",p:"Capture → condition → plasma → stability → fusion criteria.",u:["Clear stages.","Clear checks.","No magic.","No hype."]},
          b2:{h:"Frontier means",p:"Constraints + signals + falsifiers.",u:["Measurable.","Bounded.","Testable.","Honest."]},
          b3:{h:"We share",p:"What to measure and what would disprove it.",u:["Signals yes.","Falsifiers yes.","Rules yes.","Recipes no."]},
          b4:{h:"We don’t share",p:"Blueprints or dangerous instructions.",u:["No schematics.","No setpoints.","No build steps.","No hazards."]}
        }}
      ,
      now:{
        formal:{title:"Chain · Live",
          b1:{h:"Live surface",p:"A public-safe reference surface: stable terms, stable stages, and stable claim boundaries under the same site contract.",u:["Uniform contract.","Single-language mode.","Lens changes real content.","Return remains deterministic."]},
          b2:{h:"Stage map (public)",p:"We describe the chain by role: what each stage must accomplish and what can go wrong, without disclosing implementation.",u:["Role per stage.","Failure per stage.","Loss channels acknowledged.","Safety constraints stated."]},
          b3:{h:"Reader path",p:"Use Concept/Live/Roadmap to separate definition vs current posture vs next tests without moving meanings.",u:["Concept=definition.","Live=current posture.","Roadmap=planned depth.","Same meanings."]},
          b4:{h:"Disclosure boundary",p:"We publish the ‘what to measure’ layer and the ‘what fails’ layer; we do not publish the ‘how to build’ layer.",u:["Measure=yes.","Fail=yes.","Blueprint=no.","Recipe=no."]}
        },
        informal:{title:"Chain · Live",
          b1:{h:"Now",p:"This is a stable reference surface.",u:["Consistent.","Readable.","Bounded.","Safe."]},
          b2:{h:"What’s here",p:"Stage roles + failure modes.",u:["Roles.","Fails.","Losses.","Constraints."]},
          b3:{h:"Use lenses",p:"Concept vs Live vs Roadmap are separated.",u:["Definition.","Status.","Next tests.","No drift."]},
          b4:{h:"Boundary",p:"Signals and fails are public; recipes are not.",u:["Signals yes.","Fails yes.","Recipes no.","Blueprints no."]}
        }}
      ,
      post:{
        formal:{title:"Chain · Roadmap",
          b1:{h:"Roadmap depth",p:"Deeper stage pages (still public-safe): sharper definitions, stronger constraint lists, clearer failure conditions.",u:["More definitions.","More constraints.","More signal clarity.","More falsifiers."]},
          b2:{h:"Measurement atlas",p:"Signal atlas by stage: stability indicators, loss indicators, artefact controls, and repeatability checks.",u:["Stability signals.","Loss signals.","Artefact controls.","Repeatability checks."]},
          b3:{h:"Evidence bundles",p:"Reporting templates that show conditions and results without exposing apparatus internals.",u:["Condition logging.","Evidence format.","Bounded interpretation.","Public-safe."]},
          b4:{h:"Outcome",p:"A disciplined frontier narrative that compels serious readers because it is structured, measurable, and bounded.",u:["Compelling by discipline.","No hype dependence.","Test-ready.","Safe."]}
        },
        informal:{title:"Chain · Roadmap",
          b1:{h:"More depth",p:"More detail per stage (still safe).",u:["Clearer.","Deeper.","Bounded.","Safe."]},
          b2:{h:"Signals map",p:"Signals by stage.",u:["Stability.","Loss.","Noise.","Checks."]},
          b3:{h:"Proof format",p:"Evidence bundles, not blueprints.",u:["Logs.","Templates.","Bounds.","Safe."]},
          b4:{h:"Result",p:"Frontier energy explained cleanly.",u:["Serious.","Measurable.","Bounded.","Safe."]}
        }}
    },

    plasma:{
      origin:{
        formal:{title:"Plasma · Concept",
          b1:{h:"Plasma meaning",p:"Plasma is treated as a controllable state space where stability and loss control dominate outcomes.",u:["Ionization is not enough.","Boundaries matter.","Instabilities exist.","Diagnostics are mandatory."]},
          b2:{h:"Stability definition",p:"Stability means bounded response under disturbance: repeatable behavior, controlled losses, and no runaway modes.",u:["Bounded behavior.","Repeatable response.","Loss accounting.","Mode suppression."]},
          b3:{h:"Public-safe control framing",p:"We discuss control as constraints + response + measurement, without detailing proprietary actuation methods.",u:["Constraint-first.","Response-first.","Measurement-first.","No device recipe."]},
          b4:{h:"What readers can check",p:"A reader can check coherence by verifying that claims are paired with signals and failure conditions.",u:["Signals paired to claims.","Failure paired to signals.","Noise acknowledged.","No hand-waving."]}
        },
        informal:{title:"Plasma · Concept",
          b1:{h:"Plasma is the bridge",p:"The fight is stability and loss control.",u:["Stability.","Loss.","Modes.","Measure."]},
          b2:{h:"Stability means",p:"Bounded, repeatable behavior.",u:["Repeatable.","Controlled.","Measured.","No runaway."]},
          b3:{h:"How we talk",p:"Constraints and signals, not secrets.",u:["Constraints.","Signals.","Fails.","Bounds."]},
          b4:{h:"How you judge",p:"Look for signals and falsifiers.",u:["Signals.","Fails.","Noise.","Honest limits."]}
        }}
      ,
      now:{
        formal:{title:"Plasma · Live",
          b1:{h:"Live focus",p:"A stability primer written as a product surface: modes, loss channels, and the minimum diagnostic language needed to speak honestly.",u:["Mode catalog.","Loss catalog.","Signal taxonomy.","Bounded posture."]},
          b2:{h:"Measurement discipline",p:"We separate signal from noise by requiring baselines and repeatability. Public text stays at the measurement layer.",u:["Baselines required.","Repeatability required.","Artefact awareness.","Bounded interpretation."]},
          b3:{h:"Safety boundary",p:"No procedural build instructions are provided. Only conceptual and measurable categories.",u:["No apparatus steps.","No hazardous detail.","No recipes.","No setpoints."]},
          b4:{h:"Outcome",p:"Readers see seriousness because failure is named and measurement is prioritized.",u:["Failures listed.","Signals listed.","Limits stated.","Next tests bounded."]}
        },
        informal:{title:"Plasma · Live",
          b1:{h:"Now",p:"A plasma stability primer.",u:["Modes.","Losses.","Signals.","Bounds."]},
          b2:{h:"Rule",p:"No measurement = no claim.",u:["Baselines.","Repeatability.","Artefacts.","Limits."]},
          b3:{h:"Safety",p:"No how-to build here.",u:["No steps.","No recipes.","No numbers.","No hazards."]},
          b4:{h:"Effect",p:"Serious and test-ready.",u:["Clear fails.","Clear signals.","Clear limits.","Clear next."]}
        }}
      ,
      post:{
        formal:{title:"Plasma · Roadmap",
          b1:{h:"Stability ladder",p:"Publish clearer stability/drift/failure markers at the signal level.",u:["Stability markers.","Drift markers.","Failure markers.","Noise markers."]},
          b2:{h:"Loss accounting",p:"Loss categories and their signal signatures become explicit, enabling honest comparisons.",u:["Loss types.","Signal signatures.","Bounding strategies.","Audit posture."]},
          b3:{h:"Replication-safe reporting",p:"Evidence templates expand, still without apparatus disclosure.",u:["Templates.","Condition logs.","Repeat checks.","Public-safe."]},
          b4:{h:"Outcome",p:"A plasma section that invites serious readers while staying safe and bounded.",u:["Inspiring.","Bounded.","Measurable.","Safe."]}
        },
        informal:{title:"Plasma · Roadmap",
          b1:{h:"Markers",p:"Stable vs drift vs fail.",u:["Stable.","Drift.","Fail.","Noise."]},
          b2:{h:"Loss map",p:"Loss types + signatures.",u:["Types.","Signals.","Bounds.","Checks."]},
          b3:{h:"Templates",p:"Better proof reports.",u:["Logs.","Formats.","Repeatable.","Safe."]},
          b4:{h:"Result",p:"Serious plasma surface.",u:["Measured.","Bounded.","Safe.","Compelling."]}
        }}
    },

    fusion:{
      origin:{
        formal:{title:"Fusion · Concept",
          b1:{h:"Fusion as criteria",p:"Fusion is treated as meeting criteria under constraint: confinement, energy density/temperature, time, and controlled loss.",u:["Criteria explicit.","Loss explicit.","Time explicit.","Measurement required."]},
          b2:{h:"Confinement framing",p:"Confinement is described by what it must accomplish (hold conditions, suppress loss) rather than any single device claim.",u:["Hold conditions.","Suppress loss.","Resist instabilities.","Be measurable."]},
          b3:{h:"Why we stay bounded",p:"We present a criteria map and evidence map without disclosing implementation.",u:["Criteria map.","Signal map.","Failure map.","No recipe."]},
          b4:{h:"Public-safe statement",p:"We can say what would count as success and what would count as failure without publishing how to build it.",u:["Success conditions.","Failure conditions.","Alternative explanations.","No blueprint."]}
        },
        informal:{title:"Fusion · Concept",
          b1:{h:"Fusion = criteria",p:"A checklist, not a slogan.",u:["Criteria.","Signals.","Fails.","Bounds."]},
          b2:{h:"Confinement",p:"Hold conditions long enough.",u:["Hold.","Stabilize.","Measure.","Repeat."]},
          b3:{h:"Bounded",p:"We share maps, not recipes.",u:["Criteria map.","Signal map.","No blueprint.","No setpoints."]},
          b4:{h:"How to judge",p:"Look for falsifiers.",u:["Success conditions.","Failure conditions.","Alternatives.","Limits."]}
        }}
      ,
      now:{
        formal:{title:"Fusion · Live",
          b1:{h:"Live surface",p:"Fusion is presented as a staged criteria surface: definitions, constraints, and measurable ‘what would count’ markers.",u:["Criteria language.","Constraint language.","Signal language.","Failure language."]},
          b2:{h:"No promises",p:"Roadmap language is separated from live posture. This prevents accidental overclaiming.",u:["Live vs roadmap separated.","No mixed claims.","No hidden leaps.","No hype."]},
          b3:{h:"Safety boundary",p:"No build instructions or hazardous guidance. Public content remains measurement-level.",u:["No procedural steps.","No apparatus specifics.","No recipes.","No hazard detail."]},
          b4:{h:"Outcome",p:"A reader sees seriousness because we define failure and measurement, not just ambition.",u:["Failure included.","Measurement included.","Limits included.","Next bounded."]}
        },
        informal:{title:"Fusion · Live",
          b1:{h:"Now",p:"Fusion criteria surface.",u:["Criteria.","Signals.","Constraints.","Fails."]},
          b2:{h:"No promises",p:"Live vs roadmap stays separate.",u:["Separated.","Bounded.","Honest.","Stable."]},
          b3:{h:"Safety",p:"No how-to build here.",u:["No steps.","No recipes.","No specs.","No hazards."]},
          b4:{h:"Effect",p:"Serious because it’s measurable.",u:["Signals.","Fails.","Limits.","Next."]}
        }}
      ,
      post:{
        formal:{title:"Fusion · Roadmap",
          b1:{h:"Criteria tightening",p:"Sharper criteria definitions and clearer boundaries between interesting plasma and fusion-relevant plasma.",u:["Stronger definitions.","Boundary clarity.","Signal thresholds (bounded).","Failure conditions."]},
          b2:{h:"Layered validation",p:"Milestones organized as falsifiable steps, not timelines.",u:["Stepwise proof.","Falsifiers.","Kill conditions.","Alternative explanations."]},
          b3:{h:"Neutral public posture",p:"Depth increases while tone stays neutral and bounded.",u:["Neutral language.","Bounded claims.","Same contract.","No drift."]},
          b4:{h:"Outcome",p:"Compelling because it is structured and test-ready, not because it is loud.",u:["Disciplined.","Testable.","Public-safe.","Coherent."]}
        },
        informal:{title:"Fusion · Roadmap",
          b1:{h:"Tighter criteria",p:"Clear boundary lines.",u:["Definitions.","Signals.","Fails.","Bounds."]},
          b2:{h:"Stepwise proof",p:"No timelines, just test steps.",u:["Steps.","Falsifiers.","Kill conditions.","Alternatives."]},
          b3:{h:"Still neutral",p:"More depth without hype.",u:["Neutral.","Bounded.","Stable.","Clear."]},
          b4:{h:"Result",p:"Compelling by discipline.",u:["Test-ready.","Safe.","Coherent.","Real."]}
        }}
    },

    validation:{
      origin:{
        formal:{title:"Validation · Concept",
          b1:{h:"Validation principle",p:"Validation is measurement + falsification. If a claim cannot be tested, it remains a concept.",u:["Define claim.","Define measure.","Define falsifier.","Define limit."]},
          b2:{h:"Signal taxonomy",p:"Signals are grouped by meaning: stability, loss, confinement proxies, and noise controls.",u:["Stability signals.","Loss signals.","Proxy signals.","Noise controls."]},
          b3:{h:"Failure-first honesty",p:"We list failure modes to prevent narrative inflation.",u:["Instability growth.","Loss dominance.","Artefacts.","Non-repeatability."]},
          b4:{h:"Public-safe boundary",p:"We publish proof rules without publishing build recipes.",u:["Rules public.","Blueprint private.","Evidence bundles.","No device reveal."]}
        },
        informal:{title:"Validation · Concept",
          b1:{h:"Validation = rules",p:"Measure and falsify.",u:["Measure.","Test.","Falsify.","Repeat."]},
          b2:{h:"Signals",p:"Signals by meaning.",u:["Stability.","Loss.","Proxies.","Noise."]},
          b3:{h:"Failures",p:"Name failures up front.",u:["Instability.","Loss.","Artefacts.","Not repeatable."]},
          b4:{h:"Boundary",p:"Rules yes, recipes no.",u:["Rules yes.","Recipes no.","Evidence yes.","Blueprint no."]}
        }}
      ,
      now:{
        formal:{title:"Validation · Live",
          b1:{h:"Live scaffold",p:"A public-safe validation scaffold: clear claims, clear evidence conditions, clear disproof conditions.",u:["Claims bounded.","Evidence conditions.","Disproof conditions.","Limits stated."]},
          b2:{h:"Reader evaluation",p:"Readers can evaluate coherence by checking whether claims match signals and whether falsifiers are meaningful.",u:["Signal alignment.","Bound checks.","Falsifier meaning.","Consistency."]},
          b3:{h:"No persuasion posture",p:"We do not ask for belief; we publish bounded test language.",u:["No belief asks.","No mystique.","No recipes.","No hazards."]},
          b4:{h:"Outcome",p:"Trust is earned by stable definitions and stable validation logic over time.",u:["Stable words.","Stable tests.","Stable bounds.","Repeatability."]}
        },
        informal:{title:"Validation · Live",
          b1:{h:"Now",p:"Proof scaffold is clear.",u:["Claims.","Evidence.","Disproof.","Limits."]},
          b2:{h:"You can judge",p:"Check signals and falsifiers.",u:["Signals.","Bounds.","Fails.","Consistency."]},
          b3:{h:"No persuasion",p:"No ‘just trust’ language.",u:["No belief asks.","No mystique.","No recipes.","No hazards."]},
          b4:{h:"Result",p:"Trust grows by consistency.",u:["Stable.","Repeatable.","Bounded.","Honest."]}
        }}
      ,
      post:{
        formal:{title:"Validation · Roadmap",
          b1:{h:"Evidence bundles",p:"Templates for what a ‘good report’ contains: conditions, signals, noise controls, and repeatability.",u:["Templates.","Condition logs.","Noise controls.","Repeat checks."]},
          b2:{h:"Adversarial stress tests",p:"Ways to distinguish signal from artefact without needing apparatus disclosure.",u:["Artefact checks.","Cross-checks.","Alternative explanations.","Falsifier focus."]},
          b3:{h:"Registry posture",p:"Status becomes lookupable with reason codes and history, without hype.",u:["Status.","Reasons.","History.","Revocation rules."]},
          b4:{h:"Outcome",p:"A validation surface that is compelling because it is disciplined, not because it is secretive.",u:["Disciplined.","Public-safe.","Test-ready.","Coherent."]}
        },
        informal:{title:"Validation · Roadmap",
          b1:{h:"Templates",p:"Proof report templates.",u:["Templates.","Logs.","Noise.","Repeat."]},
          b2:{h:"Stress tests",p:"Signal vs artefact checks.",u:["Checks.","Cross-checks.","Alternatives.","Fails."]},
          b3:{h:"Registry",p:"Lookupable status.",u:["Status.","Reasons.","History.","Rules."]},
          b4:{h:"Result",p:"Compelling by discipline.",u:["Disciplined.","Safe.","Testable.","Clear."]}
        }}
      }
    }
  };

  var ZH = {
    chain:{
      origin:{
        formal:{title:"链路 · 概念",
          b1:{h:"链路定义",p:"把转换链当工程流程：捕获→调制→等离子→稳定→聚变标准。公开文本保持结构化与可测试。",u:["阶段明确。","接口可见。","损耗承认。","无魔法步骤。"]},
          b2:{h:"前沿纪律",p:"前沿=约束+信号+证伪，不是口号。读者能看见成功/失败定义。",u:["约束列出。","信号列出。","证伪列出。","边界声明。"]},
          b3:{h:"公开内容",p:"公开‘测什么’与‘如何证伪’，不公开‘怎么造’配方。",u:["信号公开。","证伪公开。","安全边界。","无建造步骤。"]},
          b4:{h:"不公开内容",p:"不公开原理图、不公开参数配方、不公开专有几何、不公开危险操作步骤。",u:["无原理图。","无设定点。","无独特几何。","无操作配方。"]}
        },
        informal:{title:"链路 · 概念",
          b1:{h:"链路",p:"捕获→调制→等离子→稳定→标准。",u:["阶段清楚。","检查清楚。","不魔法。","不噱头。"]},
          b2:{h:"前沿=可测",p:"约束+信号+证伪。",u:["可测。","有界。","可证伪。","诚实。"]},
          b3:{h:"我们公开",p:"测量与证伪规则。",u:["信号是。","证伪是。","规则是。","配方否。"]},
          b4:{h:"我们不公开",p:"蓝图与危险步骤。",u:["无原理图。","无设定点。","无建造步骤。","无危险。"]}
        }}
      ,
      now:{
        formal:{title:"链路 · 上线",
          b1:{h:"上线姿态",p:"作为公开安全参考面：术语稳、阶段稳、边界稳，遵守同一网站契约。",u:["契约统一。","单语模式。","透镜真改内容。","返回确定。"]},
          b2:{h:"阶段图（公开）",p:"按角色描述阶段：每阶段要完成什么、可能失败什么，不泄露实现细节。",u:["阶段角色。","失败模式。","损耗承认。","安全边界。"]},
          b3:{h:"读法",p:"用概念/上线/路线图区分定义、现况、下一步，不移动含义。",u:["概念=定义。","上线=现况。","路线图=深度扩展。","含义不变。"]},
          b4:{h:"披露边界",p:"公开证明规则，不公开建造配方。",u:["测量是。","失败是。","蓝图否。","配方否。"]}
        },
        informal:{title:"链路 · 上线",
          b1:{h:"现在",p:"稳定的参考面。",u:["一致。","可读。","有界。","安全。"]},
          b2:{h:"内容",p:"阶段角色+失败模式。",u:["角色。","失败。","损耗。","约束。"]},
          b3:{h:"用透镜",p:"概念/上线/路线图分离。",u:["定义。","状态。","下一步。","不漂移。"]},
          b4:{h:"边界",p:"信号与失败公开，配方不公开。",u:["信号是。","失败是。","配方否。","蓝图否。"]}
        }}
      ,
      post:{
        formal:{title:"链路 · 路线图",
          b1:{h:"加深度",p:"更深阶段页（仍公开安全）：更清晰定义、更完整约束、更强失败条件。",u:["更多定义。","更多约束。","更多信号。","更多证伪。"]},
          b2:{h:"测量图谱",p:"按阶段给出信号图谱：稳定/损耗/伪象控制/可重复检查。",u:["稳定信号。","损耗信号。","伪象控制。","可重复检查。"]},
          b3:{h:"证据包",p:"报告模板展示条件与结果，但不泄露装置内部。",u:["条件记录。","证据格式。","有界解释。","公开安全。"]},
          b4:{h:"结果",p:"有纪律的前沿叙事：可测、可证伪、有界、公开安全。",u:["纪律性。","不靠噱头。","可测试。","安全。"]}
        },
        informal:{title:"链路 · 路线图",
          b1:{h:"更深",p:"每阶段更清楚（仍安全）。",u:["更清晰。","更深入。","有界。","安全。"]},
          b2:{h:"信号地图",p:"按阶段列信号。",u:["稳定。","损耗。","噪声。","检查。"]},
          b3:{h:"证明格式",p:"证据包，不是蓝图。",u:["日志。","模板。","边界。","安全。"]},
          b4:{h:"结果",p:"前沿能源讲得清楚。",u:["严肃。","可测。","有界。","安全。"]}
        }}
    },

    plasma:{
      origin:{
        formal:{title:"等离子 · 概念",
          b1:{h:"等离子含义",p:"等离子是可控状态空间：稳定与损耗控制决定结果。",u:["电离不够。","边界重要。","不稳定存在。","诊断必须。"]},
          b2:{h:"稳定定义",p:"稳定=扰动下行为有界：可重复、损耗可控、无失控模式。",u:["行为有界。","响应可重复。","损耗记账。","抑制失控。"]},
          b3:{h:"公开控制框架",p:"公开讲约束+响应+测量，不讲专有执行机制。",u:["约束优先。","响应优先。","测量优先。","无配方。"]},
          b4:{h:"读者如何判断",p:"看主张是否配对信号与失败条件，是否承认噪声与限制。",u:["信号配对。","失败配对。","噪声承认。","无硬吹。"]}
        },
        informal:{title:"等离子 · 概念",
          b1:{h:"桥态",p:"重点是稳定与损耗。",u:["稳定。","损耗。","模式。","测量。"]},
          b2:{h:"稳定",p:"有界、可重复。",u:["可重复。","可控。","可测。","不失控。"]},
          b3:{h:"怎么讲",p:"讲约束与信号，不讲秘密。",u:["约束。","信号。","失败。","边界。"]},
          b4:{h:"怎么判",p:"找证伪与限制。",u:["信号。","失败。","噪声。","限制。"]}
        }}
      ,
      now:{
        formal:{title:"等离子 · 上线",
          b1:{h:"上线重点",p:"稳定入门作为产品面：模式、损耗、信号分类，保证语言有界。",u:["模式目录。","损耗目录。","信号分类。","有界姿态。"]},
          b2:{h:"测量纪律",p:"基线与可重复是最低要求。公开文本保持测量层。",u:["基线要求。","重复要求。","伪象意识。","有界解释。"]},
          b3:{h:"安全边界",p:"不提供建造步骤，只提供概念与可测类别。",u:["无步骤。","无配方。","无数值。","无危险。"]},
          b4:{h:"效果",p:"读者感到严肃，因为失败与测量被优先呈现。",u:["失败列出。","信号列出。","限制声明。","下一步有界。"]}
        },
        informal:{title:"等离子 · 上线",
          b1:{h:"现在",p:"稳定入门。",u:["模式。","损耗。","信号。","边界。"]},
          b2:{h:"规则",p:"不可测就不主张。",u:["基线。","重复。","伪象。","限制。"]},
          b3:{h:"安全",p:"这里不教怎么造。",u:["无步骤。","无配方。","无参数。","无危险。"]},
          b4:{h:"结果",p:"严肃且可测试。",u:["失败。","信号。","限制。","下一步。"]}
        }}
      ,
      post:{
        formal:{title:"等离子 · 路线图",
          b1:{h:"稳定阶梯",p:"发布稳定/漂移/失败标记（信号层）。",u:["稳定标记。","漂移标记。","失败标记。","噪声标记。"]},
          b2:{h:"损耗记账",p:"损耗分类与信号特征更明确，便于诚实比较。",u:["损耗类型。","信号特征。","有界策略。","审计姿态。"]},
          b3:{h:"复现安全报告",p:"证据模板扩展，但仍不泄露装置。",u:["模板。","条件日志。","重复检查。","公开安全。"]},
          b4:{h:"结果",p:"邀请严肃读者，同时保持安全与有界。",u:["启发。","有界。","可测。","安全。"]}
        },
        informal:{title:"等离子 · 路线图",
          b1:{h:"标记",p:"稳定/漂移/失败。",u:["稳定。","漂移。","失败。","噪声。"]},
          b2:{h:"损耗地图",p:"损耗类型+信号。",u:["类型。","信号。","边界。","检查。"]},
          b3:{h:"模板",p:"更好的证明报告。",u:["日志。","格式。","可重复。","安全。"]},
          b4:{h:"结果",p:"严肃的等离子面。",u:["可测。","有界。","安全。","吸引。"]}
        }}
    },

    fusion:{
      origin:{
        formal:{title:"聚变 · 概念",
          b1:{h:"聚变=标准",p:"聚变被视为满足标准：约束、能量密度/温度、时间与损耗控制。",u:["标准明确。","损耗明确。","时间明确。","测量必须。"]},
          b2:{h:"约束框架",p:"公开层面描述约束要完成什么，而不是宣称某个装置‘神奇’。",u:["保持条件。","抑制损耗。","抵抗不稳定。","可测。"]},
          b3:{h:"有界叙述",p:"我们提供标准/信号/失败地图，不提供实现配方。",u:["标准地图。","信号地图。","失败地图。","无配方。"]},
          b4:{h:"公开安全",p:"可公开成功/失败条件与证伪逻辑，不公开蓝图。",u:["成功条件。","失败条件。","替代解释。","无蓝图。"]}
        },
        informal:{title:"聚变 · 概念",
          b1:{h:"聚变=清单",p:"不是口号，是标准。",u:["标准。","信号。","失败。","边界。"]},
          b2:{h:"约束",p:"保持条件够久。",u:["保持。","稳定。","测量。","重复。"]},
          b3:{h:"有界",p:"公开地图，不公开配方。",u:["标准图。","信号图。","无蓝图。","无设定。"]},
          b4:{h:"怎么判",p:"看证伪。",u:["成功。","失败。","替代解释。","限制。"]}
        }}
      ,
      now:{
        formal:{title:"聚变 · 上线",
          b1:{h:"上线面",p:"以分阶段标准面呈现：定义、约束、信号、失败语言。",u:["标准语言。","约束语言。","信号语言。","失败语言。"]},
          b2:{h:"不许诺",p:"上线与路线图分离，避免无意过度主张。",u:["分离。","不混说。","不暗跳。","不噱头。"]},
          b3:{h:"安全边界",p:"不提供装置细节与危险操作，公开层保持测量层。",u:["无步骤。","无装置细节。","无配方。","无危险。"]},
          b4:{h:"效果",p:"严肃性来自失败与测量被优先呈现。",u:["失败包含。","测量包含。","限制包含。","下一步有界。"]}
        },
        informal:{title:"聚变 · 上线",
          b1:{h:"现在",p:"聚变标准面。",u:["标准。","信号。","约束。","失败。"]},
          b2:{h:"不许诺",p:"上线/路线图分离。",u:["分离。","有界。","诚实。","稳定。"]},
          b3:{h:"安全",p:"不教怎么造。",u:["无步骤。","无配方。","无规格。","无危险。"]},
          b4:{h:"结果",p:"可测才可信。",u:["信号。","失败。","限制。","下一步。"]}
        }}
      ,
      post:{
        formal:{title:"聚变 · 路线图",
          b1:{h:"标准收紧",p:"更清晰区分‘有趣等离子’与‘聚变相关等离子’。",u:["更强定义。","边界清楚。","阈值（有界）。","失败条件。"]},
          b2:{h:"分层验证",p:"按可证伪步骤组织里程碑，而不是按时间许诺。",u:["逐步证据。","证伪条件。","退出条件。","替代解释。"]},
          b3:{h:"中立姿态",p:"深度提高但语气保持中立与有界。",u:["中立语言。","有界主张。","同契约。","不漂移。"]},
          b4:{h:"结果",p:"吸引力来自结构与可测试，而非夸张。",u:["有纪律。","可测试。","公开安全。","一致。"]}
        },
        informal:{title:"聚变 · 路线图",
          b1:{h:"更紧标准",p:"边界更清楚。",u:["定义。","信号。","失败。","边界。"]},
          b2:{h:"逐步证明",p:"不许诺时间，只给测试步。",u:["步骤。","证伪。","退出。","替代解释。"]},
          b3:{h:"仍中立",p:"更深但不噱头。",u:["中立。","有界。","稳定。","清楚。"]},
          b4:{h:"结果",p:"靠纪律吸引。",u:["可测。","可证伪。","安全。","一致。"]}
        }}
    },

    validation:{
      origin:{
        formal:{title:"验证 · 概念",
          b1:{h:"验证原则",p:"验证=测量+证伪。不可测的主张只能停留在概念层。",u:["定义主张。","定义测量。","定义证伪。","定义限制。"]},
          b2:{h:"信号分类",p:"按含义分组：稳定、损耗、约束代理、噪声控制。",u:["稳定信号。","损耗信号。","代理信号。","噪声控制。"]},
          b3:{h:"失败优先",p:"先把失败讲清楚，防止叙事膨胀。",u:["不稳定增长。","损耗主导。","伪象。","不可重复。"]},
          b4:{h:"公开安全边界",p:"公开证明规则，不公开建造配方。",u:["规则公开。","蓝图私密。","证据包。","无装置泄露。"]}
        },
        informal:{title:"验证 · 概念",
          b1:{h:"验证=规则",p:"测量与证伪。",u:["测量。","测试。","证伪。","重复。"]},
          b2:{h:"信号",p:"按含义分类。",u:["稳定。","损耗。","代理。","噪声。"]},
          b3:{h:"失败",p:"先列失败。",u:["不稳定。","损耗。","伪象。","不重复。"]},
          b4:{h:"边界",p:"规则是，配方否。",u:["规则是。","配方否。","证据是。","蓝图否。"]}
        }}
      ,
      now:{
        formal:{title:"验证 · 上线",
          b1:{h:"上线脚手架",p:"公开安全验证面：主张清晰、证据条件清晰、反证条件清晰。",u:["主张有界。","证据条件。","反证条件。","限制声明。"]},
          b2:{h:"读者如何评估",p:"看主张是否匹配信号，证伪是否有效，定义是否一致。",u:["信号对齐。","边界检查。","证伪有效。","一致性。"]},
          b3:{h:"不搞说服",p:"不要求相信，只给有界测试语言。",u:["不求信。","不神秘。","无配方。","无危险。"]},
          b4:{h:"结果",p:"长期一致的定义与验证逻辑建立信任。",u:["稳定术语。","稳定测试。","稳定边界。","可重复。"]}
        },
        informal:{title:"验证 · 上线",
          b1:{h:"现在",p:"证明规则清楚。",u:["主张。","证据。","反证。","限制。"]},
          b2:{h:"你能判断",p:"检查信号与证伪。",u:["信号。","边界。","失败。","一致。"]},
          b3:{h:"不说服",p:"不搞‘信我’。",u:["不求信。","不神秘。","无配方。","无危险。"]},
          b4:{h:"结果",p:"一致性带来信任。",u:["稳定。","可重复。","有界。","诚实。"]}
        }}
      ,
      post:{
        formal:{title:"验证 · 路线图",
          b1:{h:"证据包",p:"证明报告模板：条件、信号、噪声控制、可重复。",u:["模板。","条件日志。","噪声控制。","重复检查。"]},
          b2:{h:"对抗测试",p:"区分信号与伪象的方法（不需要泄露装置）。",u:["伪象检查。","交叉验证。","替代解释。","证伪优先。"]},
          b3:{h:"注册表姿态",p:"状态可查询：状态、原因码、历史、撤销规则。",u:["状态。","原因。","历史。","规则。"]},
          b4:{h:"结果",p:"靠纪律吸引，而不是靠神秘。",u:["有纪律。","公开安全。","可测试。","一致。"]}
        },
        informal:{title:"验证 · 路线图",
          b1:{h:"模板",p:"证明报告模板。",u:["模板。","日志。","噪声。","重复。"]},
          b2:{h:"压力测试",p:"信号 vs 伪象。",u:["检查。","交叉。","替代解释。","失败。"]},
          b3:{h:"注册表",p:"可查询状态。",u:["状态。","原因。","历史。","规则。"]},
          b4:{h:"结果",p:"靠纪律吸引。",u:["纪律。","安全。","可证伪。","清楚。"]}
        }}
      }
    }
  };

  var CONTENT = (lang==="zh") ? ZH : EN;

  // ===== Render =====
  function setLensLabels(){
    styleChip.textContent = ui.stylePrefix + (style==="formal" ? ui.lens.formal : ui.lens.informal);
    chipConcept.textContent = ui.lens.concept;
    chipLive.textContent = ui.lens.live;
    chipRoadmap.textContent = ui.lens.roadmap;

    chipConcept.classList.toggle("active", time==="origin");
    chipLive.classList.toggle("active", time==="now");
    chipRoadmap.classList.toggle("active", time==="post");
  }

  var activeKey = null;

  function setActiveDiamond(key){
    document.getElementById("dChain").classList.toggle("active", key==="chain");
    document.getElementById("dPlasma").classList.toggle("active", key==="plasma");
    document.getElementById("dFusion").classList.toggle("active", key==="fusion");
    document.getElementById("dValidation").classList.toggle("active", key==="validation");
  }

  function render(){
    persist();
    setLinks();
    setLensLabels();
    if(!activeKey) return;

    var view = CONTENT[activeKey][time][style];
    mTitle.textContent = view.title;

    fill(h1,p1,u1,view.b1);
    fill(h2,p2,u2,view.b2);
    fill(h3,p3,u3,view.b3);
    fill(h4,p4,u4,view.b4);
  }

  function open(key){
    activeKey = key;
    setActiveDiamond(key);
    render();
    bd.classList.add("show");
    modal.classList.add("show");
  }

  function close(){
    bd.classList.remove("show");
    modal.classList.remove("show");
    activeKey = null;
    setActiveDiamond("__none__");
  }

  // ===== EVENTS (THIS IS THE FIX) =====
  document.getElementById("dChain").addEventListener("click", function(){ open("chain"); });
  document.getElementById("dPlasma").addEventListener("click", function(){ open("plasma"); });
  document.getElementById("dFusion").addEventListener("click", function(){ open("fusion"); });
  document.getElementById("dValidation").addEventListener("click", function(){ open("validation"); });

  ["dChain","dPlasma","dFusion","dValidation"].forEach(function(id){
    var el=document.getElementById(id);
    el.addEventListener("keydown", function(e){
      if(e.key==="Enter" || e.key===" "){ e.preventDefault(); el.click(); }
    });
  });

  styleChip.addEventListener("click", function(){
    style = (style==="formal") ? "informal" : "formal";
    render();
  });
  chipConcept.addEventListener("click", function(){ time="origin"; render(); });
  chipLive.addEventListener("click", function(){ time="now"; render(); });
  chipRoadmap.addEventListener("click", function(){ time="post"; render(); });

  bd.addEventListener("click", close);
  mClose.addEventListener("click", close);
  document.getElementById("mReturn").addEventListener("click", close);

  // Initial labels
  setLensLabels();
})();
</script>

</body>
</html>
```0
