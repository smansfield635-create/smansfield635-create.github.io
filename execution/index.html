<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Execution Space · Geodiametrics</title>

  <!-- Prefer shared CSS if present -->
  <link rel="stylesheet" href="/assets/ui.css" />

  <style>
    /* Fallback styling if /assets/ui.css fails to load */
    :root{
      --bg1:#0b1224; --bg2:#0a1630;
      --fg:#e9eefc; --muted:rgba(233,238,252,.72);
      --card:rgba(18,28,55,.55);
      --stroke:rgba(233,238,252,.14);
      --shadow:0 22px 60px rgba(0,0,0,.55);
      --r:22px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      color:var(--fg);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      background:
        radial-gradient(1100px 800px at 20% 10%, rgba(58,120,255,.25), transparent 60%),
        radial-gradient(900px 700px at 80% 20%, rgba(0,224,255,.14), transparent 60%),
        radial-gradient(1100px 800px at 50% 120%, rgba(117,0,255,.12), transparent 55%),
        linear-gradient(180deg,var(--bg1),var(--bg2));
      padding:18px 14px 40px;
    }
    .wrap{max-width:820px;margin:0 auto}
    .card{
      background:var(--card);
      border:1px solid var(--stroke);
      border-radius:var(--r);
      box-shadow:var(--shadow);
      padding:18px;
      margin:14px 0;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .title{font-size:44px;line-height:1.05;margin:2px 0 8px;font-weight:800;letter-spacing:.2px}
    .sub{color:var(--muted);font-size:18px;line-height:1.35;margin:0}
    .pillRow{display:flex;gap:12px;flex-wrap:wrap;margin-top:14px}
    .pill{
      flex:1 1 160px;
      min-width:160px;
      padding:14px 16px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.06);
      color:var(--fg);
      font-weight:700;
      text-align:center;
      user-select:none;
      cursor:pointer;
    }
    .pill[aria-pressed="true"]{
      background:linear-gradient(90deg, rgba(58,120,255,.55), rgba(0,224,255,.35));
      border-color:rgba(233,238,252,.22);
    }
    details{border-radius:18px;border:1px solid var(--stroke);background:rgba(255,255,255,.04);padding:14px 14px;margin-top:12px}
    summary{cursor:pointer;font-weight:800;color:var(--fg)}
    .muted{color:var(--muted)}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}
    .grid2{display:grid;grid-template-columns:1fr;gap:12px}
    @media (min-width:760px){ .grid2{grid-template-columns:1fr 1fr} }
    .nav{display:grid;grid-template-columns:1fr;gap:10px;margin-top:12px}
    @media (min-width:560px){ .nav{grid-template-columns:1fr 1fr} }
    a.bubble{
      display:flex;align-items:center;justify-content:center;
      padding:14px 16px;border-radius:999px;border:1px solid var(--stroke);
      background:rgba(255,255,255,.05); color:var(--fg);
      text-decoration:none;font-weight:800;
    }
    a.bubble:hover{background:rgba(255,255,255,.08)}
    .footer{opacity:.65;text-align:center;margin-top:14px}
  </style>
</head>

<body>
  <main class="wrap">
    <section class="card">
      <div class="title">Execution Space</div>
      <p class="sub">A bounded, addressable state space with constraint-verified transitions.</p>
    </section>

    <!-- Lens toggles (WORKING, no external JS required) -->
    <section class="card">
      <div class="pillRow" role="group" aria-label="Lens">
        <button class="pill" type="button" data-lens-btn="human" aria-pressed="true">Human</button>
        <button class="pill" type="button" data-lens-btn="scientific" aria-pressed="false">Software-correct</button>
      </div>
      <p class="muted" style="margin:12px 2px 0">Same meaning. Different language.</p>
    </section>

    <section class="card" data-lens="human">
      <details open>
        <summary>What this is</summary>
        <p class="muted">
          Execution Space is the “map” of what your system can do next.
          It keeps choices finite so you can stay coherent, verify reality, and avoid drift.
        </p>
        <p class="muted">
          “64” is not a performance claim. It is a design bound on how many states we allow ourselves to address at once.
        </p>
      </details>

      <details>
        <summary>The 4 primitives</summary>
        <ul>
          <li><b>S — Selection</b>: what counts / what enters.</li>
          <li><b>R — Resolution</b>: what is allowed / constraints.</li>
          <li><b>C — Commitment</b>: what becomes real / locked in.</li>
          <li><b>N — Continuation</b>: what persists / loops and learns.</li>
        </ul>
      </details>

      <details>
        <summary>Explore the bounded state space (64)</summary>
        <p class="muted">
          Pick a depth. This generates possible sequences. It does not force a path.
          The letters show one possible chain of states (S/R/C/N).
        </p>
        <div class="pillRow" style="margin-top:10px">
          <button class="pill" type="button" data-depth="0">Null</button>
          <button class="pill" type="button" data-depth="1">Depth 1</button>
          <button class="pill" type="button" data-depth="2">Depth 2</button>
          <button class="pill" type="button" data-depth="3">Depth 3</button>
        </div>
        <pre class="card mono" id="stateOut" style="margin-top:12px;white-space:pre-wrap">S
R
C
N</pre>
      </details>
    </section>

    <section class="card" data-lens="scientific" style="display:none">
      <details open>
        <summary>What this is (software-correct)</summary>
        <p class="muted">
          Geodiametrics defines a <b>bounded execution state space</b> with deterministic, constraint-verified transitions.
          This is not a microchip. It is a coherence-first execution framework.
        </p>
        <p class="muted">
          “64” is a design bound on addressable states for interpretability and coherence — not a performance metric.
        </p>
      </details>

      <details>
        <summary>The 4 primitives</summary>
        <ul>
          <li><b>S</b> = Selection</li>
          <li><b>R</b> = Resolution</li>
          <li><b>C</b> = Commitment</li>
          <li><b>N</b> = Continuation</li>
        </ul>
      </details>

      <details>
        <summary>Explore the bounded state space (64)</summary>
        <p class="muted">
          Depth d enumerates sequences of length d over the alphabet {S,R,C,N}. Total sequences at depth d: 4^d.
          “64” is the design cap on addressable states in this surface.
        </p>
        <div class="pillRow" style="margin-top:10px">
          <button class="pill" type="button" data-depth="0">Null</button>
          <button class="pill" type="button" data-depth="1">Depth 1</button>
          <button class="pill" type="button" data-depth="2">Depth 2</button>
          <button class="pill" type="button" data-depth="3">Depth 3</button>
        </div>
        <pre class="card mono" id="stateOut2" style="margin-top:12px;white-space:pre-wrap">S
R
C
N</pre>
      </details>
    </section>

    <!-- Navigation bubbles -->
    <section class="card">
      <div class="nav">
        <a class="bubble" href="/home/">Home</a>
        <a class="bubble" href="/landing/">Landing</a>
        <a class="bubble" href="/engine/">Engine</a>
        <a class="bubble" href="/laws/">Laws</a>
        <a class="bubble" href="/principles/">Principles</a>
        <a class="bubble" href="/geodynamics/">Geodynamics</a>
        <a class="bubble" href="/control/">Control</a>
        <a class="bubble" href="/reference/">Reference</a>
      </div>
      <div class="footer">© Geodiametrics</div>
    </section>
  </main>

  <script>
    // Lens toggle (fixes your “dead button” issue by not relying on external JS)
    const btns = document.querySelectorAll('[data-lens-btn]');
    const panels = Array.from(document.querySelectorAll('[data-lens]'));
    function setLens(lens){
      btns.forEach(b => b.setAttribute('aria-pressed', b.dataset.lensBtn === lens ? 'true':'false'));
      panels.forEach(p => p.style.display = (p.dataset.lens === lens) ? '' : 'none');
    }
    btns.forEach(b => b.addEventListener('click', () => setLens(b.dataset.lensBtn)));

    // State-space generator (human + scientific share the same output)
    const alphabet = ['S','R','C','N'];
    function gen(depth){
      if(depth === 0) return alphabet.join('\\n');
      let out = [];
      function rec(prefix, d){
        if(d === 0){ out.push(prefix.join(' → ')); return; }
        for(const a of alphabet){ prefix.push(a); rec(prefix, d-1); prefix.pop(); }
      }
      rec([], depth);
      // Keep bounded: show first 64 lines max
      return out.slice(0, 64).join('\\n');
    }
    function bindDepth(outEl){
      document.querySelectorAll('[data-depth]').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const d = Number(btn.dataset.depth || 0);
          outEl.textContent = gen(d);
        });
      });
    }
    const o1 = document.getElementById('stateOut');
    const o2 = document.getElementById('stateOut2');
    if(o1) bindDepth(o1);
    if(o2) bindDepth(o2);
  </script>

  <!-- Optional shared JS if you have it -->
  <script src="/assets/engine.js"></script>
</body>
</html>
