<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>HOME · Geodiametrics</title>

<link rel="stylesheet" href="/assets/ui.css"/>
<link rel="stylesheet" href="/assets/branch.css"/>
<script defer src="/assets/instrument.js"></script>

<style>

/* ===== BACKGROUND ===== */

body{
  margin:0;
  min-height:100vh;
  background:
    radial-gradient(circle at 50% 40%, rgba(255,215,120,.05), transparent 60%),
    repeating-linear-gradient(45deg, rgba(255,255,255,.03) 0 1px, transparent 1px 90px),
    linear-gradient(180deg, #a80000 0%, #7b0000 60%, #5a0000 100%);
  overflow-x:hidden;
}

/* ===== TOP CONTROLS ===== */

.top-left,.top-right{
  position:fixed;
  top:18px;
  z-index:90;
  display:flex;
  gap:12px;
}

.top-left{left:18px;}
.top-right{right:18px;flex-direction:column;align-items:flex-end;}

.pillbar{
  display:flex;
  gap:10px;
}

/* ===== GEM DIAMONDS ===== */

:root{ --R: 120px; }

.center-stage{
  position:fixed;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  width:min(520px,90vw);
  height:min(520px,90vw);
  z-index:40;
}

/* OBISIDIAN OPAL GEM */

.d-diamond{
  width:155px;
  height:155px;
  position:absolute;
  left:50%;
  top:50%;
  transform-origin:center;
  border-radius:22px;
  cursor:pointer;

  background:
    radial-gradient(circle at 35% 25%, rgba(255,255,255,.15), transparent 55%),
    radial-gradient(circle at 70% 80%, rgba(0,80,255,.18), transparent 60%),
    linear-gradient(160deg, #0a0f18 0%, #05070c 40%, #0b1424 100%);

  box-shadow:
    0 25px 70px rgba(0,0,0,.8),
    inset 0 2px 0 rgba(255,255,255,.2),
    inset 0 -25px 35px rgba(0,0,0,.6);

  border:1px solid rgba(255,255,255,.08);

  transition: all 260ms ease;
}

/* FRACTAL SHIMMER */

.d-diamond::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  background:
    repeating-conic-gradient(
      from 0deg,
      rgba(255,255,255,.04) 0deg 5deg,
      transparent 5deg 15deg
    );
  mix-blend-mode:overlay;
  opacity:.3;
  pointer-events:none;
}

.d-diamond:hover{
  transform:translate(-50%,-50%) rotate(45deg) scale(1.04);
  box-shadow:
    0 30px 90px rgba(0,0,0,.9),
    0 0 18px rgba(212,175,55,.3),
    inset 0 2px 0 rgba(255,255,255,.3);
}

.d-diamond.active{
  box-shadow:
    0 30px 90px rgba(0,0,0,.9),
    0 0 30px rgba(212,175,55,.55),
    inset 0 2px 0 rgba(255,255,255,.3);
}

/* TEXT INSIDE */

.d-inner{
  width:100%;
  height:100%;
  transform:rotate(-45deg);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  gap:6px;
  pointer-events:none;
}

.d-title{
  font-weight:900;
  letter-spacing:.5px;
  font-size:17px;
  color:#f4f4f4;
}

.d-text{
  font-size:13px;
  opacity:.85;
  max-width:15em;
  line-height:1.4;
}

/* PLACEMENT */

.d-n{ transform:translate(-50%,-50%) translate(0, calc(var(--R) * -1)) rotate(45deg); }
.d-e{ transform:translate(-50%,-50%) translate(var(--R),0) rotate(45deg); }
.d-s{ transform:translate(-50%,-50%) translate(0,var(--R)) rotate(45deg); }
.d-w{ transform:translate(-50%,-50%) translate(calc(var(--R) * -1),0) rotate(45deg); }

/* CENTER CORE */

.d-core{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  width:60px;
  height:60px;
  border-radius:18px;
  background:linear-gradient(145deg,#111,#000);
  display:grid;
  place-items:center;
  box-shadow:0 0 20px rgba(212,175,55,.25);
  font-weight:900;
}

/* BOTTOM DOCK */

.bottom-dock{
  position:fixed;
  left:50%;
  bottom:18px;
  transform:translateX(-50%);
  display:flex;
  gap:12px;
  padding:10px 16px;
  border-radius:999px;
  background:rgba(0,0,0,.25);
  backdrop-filter:blur(8px);
  z-index:90;
}

/* BULLETIN */

.backdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.65);
  backdrop-filter:blur(6px);
  display:none;
  z-index:110;
}
.backdrop.show{display:block;}

.bulletin{
  position:fixed;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  width:min(620px,92vw);
  background:linear-gradient(160deg,#0c1118,#070a0f);
  border-radius:20px;
  padding:20px;
  box-shadow:0 40px 120px rgba(0,0,0,.9);
  display:none;
  z-index:120;
}
.bulletin.show{display:block;}

.bulletin-head{
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.bulletin-body{
  margin-top:14px;
  line-height:1.5;
  opacity:.9;
  text-align:center;
}

.bulletin-actions{
  display:flex;
  justify-content:center;
  gap:12px;
  margin-top:16px;
}

</style>
</head>

<body>

<div class="top-left">
  <a class="crp-btn" href="/door/">EXIT</a>
  <a class="crp-btn" href="/">LANGUAGE</a>
</div>

<div class="top-right">
  <div class="pillbar">
    <button id="styleToggle" class="crp-chip">STYLE: FORMAL</button>
  </div>
  <div class="pillbar">
    <button class="crp-chip tbtn2" data-time="origin">ORIGIN</button>
    <button class="crp-chip tbtn2" data-time="now">NOW</button>
    <button class="crp-chip tbtn2" data-time="trajectory">POST</button>
  </div>
</div>

<div class="center-stage">

  <div id="north" class="d-diamond d-n">
    <div class="d-inner">
      <div class="d-title">NORTH</div>
      <div class="d-text" id="northText"></div>
    </div>
  </div>

  <div id="east" class="d-diamond d-e">
    <div class="d-inner">
      <div class="d-title">EAST</div>
      <div class="d-text" id="eastText"></div>
    </div>
  </div>

  <div id="south" class="d-diamond d-s">
    <div class="d-inner">
      <div class="d-title">SOUTH</div>
      <div class="d-text" id="southText"></div>
    </div>
  </div>

  <div id="west" class="d-diamond d-w">
    <div class="d-inner">
      <div class="d-title">WEST</div>
      <div class="d-text" id="westText"></div>
    </div>
  </div>

  <div class="d-core">◆</div>
</div>

<nav class="bottom-dock">
  <a class="crp-btn" href="/links/">LINKS</a>
  <a class="crp-btn crp-btn-primary" href="/home/">HOME</a>
  <a class="crp-btn" href="/products/">PRODUCTS</a>
  <a class="crp-btn" href="/laws/">LAWS</a>
  <a class="crp-btn" href="/gauges/">GAUGES</a>
</nav>

<div id="bd" class="backdrop"></div>

<div id="bulletin" class="bulletin">
  <div class="bulletin-head">
    <strong id="bulTitle">NORTH</strong>
    <button id="bulClose">✕</button>
  </div>
  <div id="bulBody" class="bulletin-body"></div>
  <div class="bulletin-actions">
    <button class="crp-btn" id="bulReturn">RETURN</button>
    <a class="crp-btn" href="/links/">JUMP LINKS</a>
    <a class="crp-btn" href="/products/">JUMP PRODUCTS</a>
  </div>
</div>

<script>
const content={
  north:{formal:{origin:"North defines invariant structure.",now:"North stabilizes position.",trajectory:"North preserves long-term coherence."},
         informal:{origin:"North is your anchor.",now:"North keeps you steady."}},
  east:{formal:{origin:"East maps execution pathways.",now:"East expresses flow.",trajectory:"East scales forward."},
        informal:{origin:"East is how you move.",now:"East is doing."}},
  south:{formal:{origin:"South defines pressure.",now:"South applies constraint.",trajectory:"South compounds momentum."},
         informal:{origin:"South is where force happens.",now:"South pushes."}},
  west:{formal:{origin:"West governs containment.",now:"West enforces edge.",trajectory:"West protects integrity."},
        informal:{origin:"West keeps things tight.",now:"West guards the edge."}}
};

let style="formal";
let time="now";
let active=null;

function render(){
  northText.textContent=content.north[style][time]||"";
  eastText.textContent=content.east[style][time]||"";
  southText.textContent=content.south[style][time]||"";
  westText.textContent=content.west[style][time]||"";
}

styleToggle.onclick=()=>{
  style=(style==="formal")?"informal":"formal";
  styleToggle.textContent="STYLE: "+style.toUpperCase();
  render();
};

document.querySelectorAll(".tbtn2").forEach(btn=>{
  btn.onclick=()=>{
    const t=btn.dataset.time;
    if(t==="trajectory"&&style==="informal")style="formal";
    time=t;
    render();
  };
});

function open(dir){
  active=dir;
  bulTitle.textContent=dir.toUpperCase();
  bulBody.textContent=content[dir][style][time]||"";
  bd.classList.add("show");
  bulletin.classList.add("show");
  document.getElementById(dir).classList.add("active");
}

function close(){
  bd.classList.remove("show");
  bulletin.classList.remove("show");
  if(active)document.getElementById(active).classList.remove("active");
}

bd.onclick=close;
bulClose.onclick=close;
bulReturn.onclick=close;

["north","east","south","west"].forEach(id=>{
  document.getElementById(id).onclick=()=>open(id);
});

render();
</script>

</body>
</html>
