<!-- TNT — /explore/waste/index.html
     EXPLORE · WASTE (FRONTIER ORIENTATION SURFACE) · TRILINGUAL (EN/中文/ES)
     STYLE:
       - Monument density
       - Single-open accordion
       - No lenses (orientation layer)
       - No modal traps
       - State carry (lang/style/time/depth pass-through)
     ROUTES:
       - BACK → /explore/
       - DOOR → /door/
       - EXIT → /index.html
       - DOCK: HOME / PRODUCTS / LAWS / GAUGES
-->

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Explore · Waste</title>

<link rel="stylesheet" href="/assets/ui.css"/>
<link rel="stylesheet" href="/assets/branch.css"/>
<script defer src="/assets/instruments.js"></script>

<style>
a{color:inherit;text-decoration:none}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;color:#fff}
body::before,body::after{pointer-events:none!important}

:root{
  --dockH:92px;
  --inkA:rgba(10,18,30,.94);
  --inkB:rgba(5,9,14,.98);

  --opalA:rgba(210,190,255,.14);
  --opalB:rgba(120,70,255,.10);

  /* waste = red/orange signal (frontier) */
  --sigA:rgba(255,90,90,.16);
  --sigB:rgba(255,170,60,.10);

  --stroke:rgba(255,255,255,.12);
  --mut:rgba(255,255,255,.80);
  --txt:rgba(255,255,255,.92);
}

.top{
  position:fixed;left:16px;right:16px;top:16px;
  z-index:240;display:flex;justify-content:space-between;
  pointer-events:none;
}
.top .left,.top .right{display:flex;gap:10px;white-space:nowrap;pointer-events:auto}

.page{
  width:min(1200px,94vw);
  margin:0 auto;
  padding:86px 0 calc(var(--dockH)+18px);
  display:flex;flex-direction:column;gap:14px;
}

.hero{
  border:1px solid var(--stroke);
  border-radius:28px;
  padding:22px;
  background:
    radial-gradient(circle at 22% 18%, var(--opalA), transparent 62%),
    radial-gradient(circle at 80% 30%, var(--opalB), transparent 66%),
    radial-gradient(circle at 22% 90%, var(--sigA), transparent 58%),
    radial-gradient(circle at 78% 92%, var(--sigB), transparent 62%),
    linear-gradient(160deg,var(--inkA),var(--inkB));
  box-shadow:0 44px 160px rgba(0,0,0,.68);
}

.k{margin:0 0 10px;font-size:12px;letter-spacing:6px;text-transform:uppercase;opacity:.72}
.h1{margin:0 0 14px;font-size:40px;font-weight:950;line-height:1.08}
.lede{margin:0;font-size:18px;line-height:1.7;color:var(--txt)}
.rule{margin-top:14px;border:1px solid var(--stroke);border-radius:18px;padding:12px 14px;background:rgba(0,0,0,.16);font-size:13.5px;color:var(--mut)}

.band{padding:12px 14px;border-radius:18px;border:1px solid var(--stroke);background:rgba(0,0,0,.14);font-weight:950}

.accordion{display:flex;flex-direction:column;gap:12px}
.panel{border:1px solid var(--stroke);border-radius:24px;background:linear-gradient(145deg, rgba(17,22,28,.90), rgba(10,14,20,.96));overflow:hidden}
.pHead{padding:18px;display:flex;justify-content:space-between;cursor:pointer}
.pTitle{font-size:20px;font-weight:950}
.pSub{margin-top:8px;font-size:14px;opacity:.82}
.pChev{font-size:18px;opacity:.75}
.pBody{display:none;padding:18px;border-top:1px solid rgba(255,255,255,.08)}
.panel.open .pBody{display:block}

.p{margin:0;font-size:16px;line-height:1.75;color:rgba(255,255,255,.88)}
.p + .p{margin-top:12px}
.ul{margin:12px 0 0 18px;font-size:15px}
.ul li{margin:8px 0}

.actions{margin-top:16px;display:flex;gap:12px;flex-wrap:wrap;justify-content:flex-end}

.dock{
  position:fixed;left:50%;
  bottom:max(10px, env(safe-area-inset-bottom));
  transform:translateX(-50%);
  z-index:220;width:min(1000px,94vw);
  padding:10px;border-radius:24px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(0,0,0,.28);
  display:grid;grid-template-columns:repeat(4,1fr);gap:10px
}
.dock .btn{width:100%;padding:12px;border-radius:999px}

@media(max-width:520px){:root{--dockH:104px}.dock{grid-template-columns:repeat(3,1fr)}}
</style>
</head>

<body>

<div class="top">
  <div class="left">
    <a class="btn" id="btnBack" href="/explore/">BACK</a>
    <a class="btn" id="btnDoor" href="/door/">DOOR</a>
    <a class="btn" id="btnExit" href="/index.html">EXIT</a>
  </div>
  <div class="right">
    <button class="btn" id="btnEN">EN</button>
    <button class="btn" id="btnZH">中文</button>
    <button class="btn" id="btnES">ES</button>
  </div>
</div>

<div class="page">

  <div class="hero">
    <p class="k" id="hk">EXPLORE · WASTE</p>
    <h1 class="h1" id="ht">WHAT IF “TRASH” IS A ROUTING FAILURE?</h1>
    <p class="lede" id="hs"></p>
    <div class="rule" id="rule"></div>
  </div>

  <div class="band" id="band"></div>

  <div class="accordion">

    <div class="panel">
      <div class="pHead" role="button" tabindex="0">
        <div>
          <div class="pTitle" id="t1"></div>
          <div class="pSub" id="s1"></div>
        </div>
        <div class="pChev">▸</div>
      </div>
      <div class="pBody">
        <p class="p" id="b1a"></p>
        <p class="p" id="b1b"></p>
        <ul class="ul" id="b1ul"></ul>
        <div class="actions">
          <a class="btn" id="goVision" href="/explore/frontier/vision/">OPEN VISION</a>
          <a class="btn" id="goProducts" href="/products/">OPEN PRODUCTS</a>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="pHead" role="button" tabindex="0">
        <div>
          <div class="pTitle" id="t2"></div>
          <div class="pSub" id="s2"></div>
        </div>
        <div class="pChev">▸</div>
      </div>
      <div class="pBody">
        <p class="p" id="b2a"></p>
        <p class="p" id="b2b"></p>
        <ul class="ul" id="b2ul"></ul>
        <div class="actions">
          <a class="btn" id="goShimmer" href="/explore/frontier/vision/urban-resource-os/">OPEN URBAN RESOURCE OS</a>
          <a class="btn" id="goLaws" href="/laws/">OPEN LAWS</a>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="pHead" role="button" tabindex="0">
        <div>
          <div class="pTitle" id="t3"></div>
          <div class="pSub" id="s3"></div>
        </div>
        <div class="pChev">▸</div>
      </div>
      <div class="pBody">
        <p class="p" id="b3a"></p>
        <p class="p" id="b3b"></p>
        <ul class="ul" id="b3ul"></ul>
        <div class="actions">
          <a class="btn" id="goGauges" href="/gauges/">OPEN GAUGES</a>
          <a class="btn" id="goDotGrid" href="/products/dot-grid/">OPEN DOT.GRID</a>
        </div>
      </div>
    </div>

  </div>

</div>

<nav class="dock">
  <a class="btn" id="dockHome" href="/home/">HOME</a>
  <a class="btn" id="dockProducts" href="/products/">PRODUCTS</a>
  <a class="btn" id="dockLaws" href="/laws/">LAWS</a>
  <a class="btn" id="dockGauges" href="/gauges/">GAUGES</a>
</nav>

<script>
(function(){

  // state carry (full params), but this page only renders language
  var qs=new URLSearchParams(location.search);
  var lang  = qs.get("lang")  || localStorage.getItem("gd_lang")  || "en";
  var style = qs.get("style") || localStorage.getItem("gd_style") || "informal";
  var time  = qs.get("time")  || localStorage.getItem("gd_time")  || "now";
  var depth = qs.get("depth") || localStorage.getItem("gd_depth") || "explore";

  if(lang!=="en" && lang!=="zh" && lang!=="es") lang="en";
  if(style!=="formal" && style!=="informal") style="informal";
  if(time==="trajectory") time="post";
  if(time!=="origin" && time!=="now" && time!=="post") time="now";
  if(depth!=="explore" && depth!=="learn") depth="explore";

  try{
    localStorage.setItem("gd_lang",lang);
    localStorage.setItem("gd_style",style);
    localStorage.setItem("gd_time",time);
    localStorage.setItem("gd_depth",depth);
  }catch(e){}

  document.documentElement.lang=(lang==="zh")?"zh":(lang==="es")?"es":"en";

  function q(){
    return "?lang="+encodeURIComponent(lang)+
           "&style="+encodeURIComponent(style)+
           "&time="+encodeURIComponent(time)+
           "&depth="+encodeURIComponent(depth);
  }

  function wire(id,path){var el=document.getElementById(id);if(el)el.href=path+q();}
  wire("btnBack","/explore/");
  wire("btnDoor","/door/");
  wire("btnExit","/index.html");

  wire("dockHome","/home/");
  wire("dockProducts","/products/");
  wire("dockLaws","/laws/");
  wire("dockGauges","/gauges/");

  wire("goVision","/explore/frontier/vision/");
  wire("goProducts","/products/");
  wire("goShimmer","/explore/frontier/vision/urban-resource-os/");
  wire("goLaws","/laws/");
  wire("goGauges","/gauges/");
  wire("goDotGrid","/products/dot-grid/");

  // language buttons (reload same path)
  function setLang(next){
    if(next!=="en" && next!=="zh" && next!=="es") next="en";
    lang=next;
    try{ localStorage.setItem("gd_lang",lang); }catch(e){}
    window.location.href = window.location.pathname + q();
  }
  document.getElementById("btnEN").addEventListener("click", function(){ setLang("en"); });
  document.getElementById("btnZH").addEventListener("click", function(){ setLang("zh"); });
  document.getElementById("btnES").addEventListener("click", function(){ setLang("es"); });

  var COPY={
    en:{
      hk:"EXPLORE · WASTE",
      ht:"WHAT IF “TRASH” IS A ROUTING FAILURE?",
      hs:"Landfills, burn piles, and ‘dispose’ systems are entropy-maximizing defaults. They destroy material value, leak carbon, and erase evidence. This lane treats waste as a molecular inventory problem: classify, split, route, convert, retain.",
      rule:"Boundary: Orientation surface. Waste posture is defined here. Claims and enforcement belong to Laws; measurement belongs to Gauges.",
      band:"WASTE SYSTEM MAP",
      t1:"The problem (why disposal keeps failing)",
      s1:"When everything becomes ‘mixed,’ value gets destroyed.",
      b1a:"Heterogeneous waste streams get forced into one of two paths: bury it or burn it. Both paths erase material value and make accountability harder.",
      b1b:"The real failure is routing: once streams are mixed, you’ve already lost most of the recovery options. The system needs intelligence at intake, not heroics at the end.",
      b1ul:["Mixed streams → lost value.","Combustion = entropy-maximizing default.","Carbon loss + emissions complexity.","No receipts → no accountability."],
      t2:"The solution shape (what ‘SHIMMER’ is really doing)",
      s2:"Treat the city like a refinery: split streams, then optimize routes.",
      b2a:"SHIMMER is a routing architecture: intake intelligence → segmentation → routing matrix → conversion modules → outputs (energy, materials, retained carbon).",
      b2b:"It’s not a single technology. It’s a system that chooses the right pathway per stream under thermodynamic and market constraints—without pretending to break physics.",
      b2ul:["Classification at intake (real-time).","Segmentation (magnets, density, polymer ID).","Routing matrix (optimize Ω).","Multi-output conversion (not one pipe)."],
      t3:"What you can measure (so the story stays bounded)",
      s3:"A system you can’t measure will drift under scale.",
      b3a:"You can measure diversion, yield, and correlation: what inputs produced what outputs, under what scope, with what variance.",
      b3b:"Dot.Grid exposes correlation and shared-dependency risk. Gauges show trends. Laws define what you’re allowed to claim from those trends.",
      b3ul:["Mass/energy conservation in every module.","Windowed yield tracking (no cherry-pick).","Reason-coded changes (new epoch on rule shift).","Containment-first when variance spikes."]
    },
    zh:{
      hk:"探索 · 废弃物",
      ht:"如果“垃圾”是路由失败呢？",
      hs:"填埋、露天焚烧和“处理掉”是熵最大化默认值：毁掉材料价值、泄露碳、抹掉证据。本通道把废弃物当作分子库存问题：分类、分段、路由、转化、保留。",
      rule:"边界：导览层。这里定义废弃物姿态。主张与执法归法则；测量归量规。",
      band:"废弃物系统地图",
      t1:"问题（为什么处置总失败）",
      s1:"一旦全部变“混合”，价值就被毁掉。",
      b1a:"异质废弃物流被迫走两条路：埋或烧。两者都会抹掉材料价值，并让责任追溯更难。",
      b1b:"真正失败点是路由：流一旦混合，回收选项就大量消失。系统需要入口智能，而不是末端英雄主义。",
      b1ul:["混合→价值损失。","燃烧=熵最大化默认。","碳损失+排放复杂。","无收据→无问责。"],
      t2:"解决形状（SHIMMER 真正在做什么）",
      s2:"把城市当精炼厂：先分流，再优化路线。",
      b2a:"SHIMMER 是路由架构：入口智能→分段→路由矩阵→转化模块→输出（能源、材料、碳保留）。",
      b2b:"它不是单一技术，而是系统：在热力学与市场约束下为每种流选择正确路径，不假装突破物理。",
      b2ul:["入口实时分类。","分段（磁选/密度/聚合物识别）。","路由矩阵（优化 Ω）。","多输出转化（不是单管道）。"],
      t3:"可测内容（让故事有界）",
      s3:"不可测的系统会在规模下漂移。",
      b3a:"可测：分流率、产率、相关性——什么输入产生了什么输出，在什么范围、什么方差下。",
      b3b:"Dot.Grid 暴露相关与共享依赖风险；量规显示趋势；法则限定趋势可被主张的含义。",
      b3ul:["每模块守恒核算。","窗口化产率追踪。","规则变更新纪元。","方差暴涨先隔离。"]
    },
    es:{
      hk:"EXPLORAR · RESIDUOS",
      ht:"¿Y SI ‘BASURA’ ES UN FALLO DE RUTEO?",
      hs:"Vertederos y quema son defaults de entropía máxima: destruyen valor material, pierden carbono y borran evidencia. Este carril trata residuos como inventario molecular: clasificar, separar, rutear, convertir y retener.",
      rule:"Límite: superficie de orientación. Aquí se define postura. Afirmaciones y enforcement en Leyes; medición en Medidores.",
      band:"MAPA DE RESIDUOS",
      t1:"El problema (por qué falla ‘disponer’)",
      s1:"Cuando todo se mezcla, el valor se destruye.",
      b1a:"Residuos heterogéneos se fuerzan a enterrar o quemar. Ambos caminos borran valor y dificultan responsabilidad.",
      b1b:"El fallo real es ruteo: si mezclas streams, pierdes opciones de recuperación. Necesitas inteligencia al ingreso, no heroísmos al final.",
      b1ul:["Streams mezclados → valor perdido.","Combustión = default de entropía máxima.","Pérdida de carbono + complejidad.","Sin recibos → sin accountability."],
      t2:"La forma de la solución (qué hace SHIMMER)",
      s2:"La ciudad como refinería: separar y optimizar rutas.",
      b2a:"SHIMMER: inteligencia de ingreso → segmentación → matriz de ruteo → módulos de conversión → salidas (energía, materiales, carbono retenido).",
      b2b:"No es una tecnología única. Es un sistema que elige la ruta correcta por stream bajo límites termodinámicos y de mercado—sin fingir romper física.",
      b2ul:["Clasificación en tiempo real.","Segmentación (imanes, densidad, polímeros).","Matriz de ruteo (optimiza Ω).","Conversión multi-salida."],
      t3:"Lo medible (para acotar la historia)",
      s3:"Si no se mide, deriva al escalar.",
      b3a:"Se mide desvío, rendimiento y correlación: qué entradas produjeron qué salidas, bajo qué alcance, con qué varianza.",
      b3b:"Dot.Grid expone correlación y riesgo compartido. Medidores muestra tendencias. Leyes define lo que puedes afirmar.",
      b3ul:["Conservación en cada módulo.","Rendimiento por ventana.","Nueva época si cambia regla.","Contención primero si sube varianza."]
    }
  };

  function P(){return (lang==="zh")?COPY.zh:(lang==="es")?COPY.es:COPY.en;}
  var Pk=P();

  function set(id,v){var el=document.getElementById(id);if(el)el.textContent=v;}
  function fillUL(id,arr){var ul=document.getElementById(id);ul.innerHTML="";arr.forEach(function(x){var li=document.createElement("li");li.textContent=x;ul.appendChild(li);});}

  set("hk",Pk.hk); set("ht",Pk.ht); set("hs",Pk.hs);
  set("rule",Pk.rule); set("band",Pk.band);

  set("t1",Pk.t1); set("s1",Pk.s1); set("b1a",Pk.b1a); set("b1b",Pk.b1b); fillUL("b1ul",Pk.b1ul);
  set("t2",Pk.t2); set("s2",Pk.s2); set("b2a",Pk.b2a); set("b2b",Pk.b2b); fillUL("b2ul",Pk.b2ul);
  set("t3",Pk.t3); set("s3",Pk.s3); set("b3a",Pk.b3a); set("b3b",Pk.b3b); fillUL("b3ul",Pk.b3ul);

  // buttons (language-only)
  if(lang==="zh"){
    set("btnBack","返回"); set("btnDoor","门"); set("btnExit","退出");
    set("dockHome","主页"); set("dockProducts","产品"); set("dockLaws","法则"); set("dockGauges","量规");
    set("goVision","打开愿景"); set("goProducts","打开产品");
    set("goShimmer","打开 城市资源OS"); set("goLaws","打开法则");
    set("goGauges","打开量规"); set("goDotGrid","打开 DOT.GRID");
  }else if(lang==="es"){
    set("btnBack","VOLVER"); set("btnDoor","PUERTA"); set("btnExit","SALIR");
    set("dockHome","INICIO"); set("dockProducts","PRODUCTOS"); set("dockLaws","LEYES"); set("dockGauges","MEDIDORES");
    set("goVision","ABRIR VISIÓN"); set("goProducts","ABRIR PRODUCTOS");
    set("goShimmer","ABRIR URBAN RESOURCE OS"); set("goLaws","ABRIR LEYES");
    set("goGauges","ABRIR MEDIDORES"); set("goDotGrid","ABRIR DOT.GRID");
  }

  // single-open accordion
  var panels=[].slice.call(document.querySelectorAll(".panel"));
  function closeAll(){
    panels.forEach(function(p){
      p.classList.remove("open");
      var c=p.querySelector(".pChev"); if(c) c.textContent="▸";
    });
  }
  panels.forEach(function(p, idx){
    var head=p.querySelector(".pHead");
    var chev=p.querySelector(".pChev");
    function act(){
      var willOpen=!p.classList.contains("open");
      closeAll();
      if(willOpen){ p.classList.add("open"); chev.textContent="▾"; }
    }
    head.addEventListener("click", act);
    head.addEventListener("keydown", function(e){ if(e.key==="Enter"||e.key===" "){ e.preventDefault(); act(); }});
    if(idx===0){ p.classList.add("open"); chev.textContent="▾"; }
  });

})();
</script>

</body>
</html>
