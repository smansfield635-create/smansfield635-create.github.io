<!-- TNT: /index.html (FULL FILE REPLACEMENT)
     Purpose: Single entry fork with ZERO redundancy.
     Rule: User chooses ONE language + ONE mode once, then enters /door/ hub.
-->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Geodiametrics · Entry</title>
  <link rel="stylesheet" href="/assets/ui.css?v=2000"/>
  <link rel="stylesheet" href="/assets/branch.css?v=2000"/>
</head>

<body class="theme-red">
  <div class="shooting-stars"></div>

  <div class="page entry-page">
    <div class="h">
      <h1>Geodiametrics</h1>
      <p>Choose what you understand. No setup.</p>
    </div>

    <div class="entry-grid">

      <!-- EN / LEARN -->
      <a class="entry-card" href="/door/?lang=en&mode=learn" data-lang="en" data-mode="learn">
        <div class="entry-title">Learn</div>
        <div class="entry-sub">EN</div>
        <div class="entry-desc">Definitions · systems · methods</div>
      </a>

      <!-- EN / SHOP -->
      <a class="entry-card" href="/door/?lang=en&mode=shop" data-lang="en" data-mode="shop">
        <div class="entry-title">Shop</div>
        <div class="entry-sub">EN</div>
        <div class="entry-desc">Products · programs · services</div>
      </a>

      <!-- ZH / LEARN -->
      <a class="entry-card" href="/door/?lang=zh&mode=learn" data-lang="zh" data-mode="learn">
        <div class="entry-title">学习</div>
        <div class="entry-sub">中文</div>
        <div class="entry-desc">定义 · 系统 · 方法</div>
      </a>

      <!-- ZH / SHOP -->
      <a class="entry-card" href="/door/?lang=zh&mode=shop" data-lang="zh" data-mode="shop">
        <div class="entry-title">浏览</div>
        <div class="entry-sub">中文</div>
        <div class="entry-desc">产品 · 项目 · 服务</div>
      </a>

    </div>

    <footer>CANONICAL · STABLE · © GEODIAMETRICS</footer>
  </div>

  <script>
    // Persist selection ONCE, then door runs the hub.
    (function () {
      const cards = document.querySelectorAll(".entry-card");
      cards.forEach(a => {
        a.addEventListener("click", () => {
          try {
            localStorage.setItem("GD_LANG", a.getAttribute("data-lang") || "en");
            localStorage.setItem("GD_MODE", a.getAttribute("data-mode") || "learn");
          } catch (e) {}
        }, { passive:true });
      });
    })();
  </script>
</body>
</html>
