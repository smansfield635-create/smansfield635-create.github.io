<!-- TNT — /explore/index.html
     EXPLORE · EXPANSION MAP
     ROLE:
       - Foundational expansion layer
       - No product collapse
       - No modal traps
       - No lens switching (orientation layer)
       - Trilingual (EN / 中文 / ES)
       - Monument typography
       - Single-open accordion
       - State carry (lang/style/time/depth)
     LOCKS:
       - ui.css owns background
       - branch.css owns geometry
       - instruments.js canonical state
-->

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Explore · Expansion Map</title>

<link rel="stylesheet" href="/assets/ui.css"/>
<link rel="stylesheet" href="/assets/branch.css"/>
<script defer src="/assets/instruments.js"></script>

<style>
a{color:inherit;text-decoration:none}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;color:#fff}
body::before,body::after{pointer-events:none!important}

:root{
  --dockH:90px;
  --inkA:rgba(12,22,38,.92);
  --inkB:rgba(6,10,16,.96);
  --stroke:rgba(255,255,255,.12);
  --mut:rgba(255,255,255,.85);
  --mut2:rgba(255,255,255,.72);
  --gold:rgba(212,175,55,.45);
}

.page{
  width:min(1200px,94vw);
  margin:0 auto;
  padding:90px 0 calc(var(--dockH) + 24px);
  display:flex;
  flex-direction:column;
  gap:18px;
}

.top-left{
  position:fixed;left:16px;top:16px;z-index:240;
  display:flex;gap:10px;
}
.top-right{
  position:fixed;right:16px;top:16px;z-index:240;
  display:flex;gap:10px;
}

.header{
  border:1px solid var(--stroke);
  border-radius:28px;
  padding:28px 30px;
  background:
    radial-gradient(circle at 20% 20%, rgba(212,175,55,.08), transparent 70%),
    radial-gradient(circle at 80% 60%, rgba(255,60,60,.06), transparent 70%),
    rgba(0,0,0,.18);
  box-shadow:0 40px 140px rgba(0,0,0,.65);
}

.k{
  font-size:12px;
  letter-spacing:6px;
  text-transform:uppercase;
  opacity:.6;
  margin:0 0 14px;
}

.t{
  font-size:40px;
  font-weight:900;
  letter-spacing:.6px;
  margin:0 0 18px;
}

.s{
  font-size:18px;
  line-height:1.7;
  color:var(--mut);
  margin:0;
  max-width:1000px;
}

.accordion{
  display:flex;
  flex-direction:column;
  gap:14px;
}

.block{
  border:1px solid var(--stroke);
  border-radius:26px;
  background:linear-gradient(145deg, var(--inkA), var(--inkB));
  overflow:hidden;
}

.head{
  padding:22px 26px;
  cursor:pointer;
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
}

.title{
  font-size:22px;
  font-weight:800;
  letter-spacing:.3px;
}

.chev{
  font-size:20px;
  opacity:.6;
}

.body{
  display:none;
  padding:24px 28px 30px;
  border-top:1px solid rgba(255,255,255,.08);
}

.block.open .body{display:block}

.p{
  font-size:17px;
  line-height:1.75;
  color:var(--mut2);
  margin:0 0 18px;
}

.jump{
  display:inline-block;
  margin-top:10px;
  padding:10px 18px;
  border-radius:999px;
  border:1px solid var(--gold);
  font-weight:700;
}

.dock{
  position:fixed;
  left:50%;
  bottom:max(10px, env(safe-area-inset-bottom));
  transform:translateX(-50%);
  z-index:220;
  width:min(1000px,94vw);
  padding:12px;
  border-radius:24px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.22);
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
}
.dock .btn{width:100%;border-radius:999px;padding:10px 0}

</style>
</head>

<body>

<div class="top-left">
  <a class="btn" id="btnHome" href="/home/">HOME</a>
  <a class="btn" id="btnProducts" href="/products/">PRODUCTS</a>
</div>

<div class="top-right">
  <button class="btn" id="btnEN">EN</button>
  <button class="btn" id="btnZH">中文</button>
  <button class="btn" id="btnES">ES</button>
</div>

<div class="page">

  <div class="header">
    <p class="k" id="k">EXPLORE</p>
    <h1 class="t" id="t">The Expansion Layer</h1>
    <p class="s" id="s">
      Every structure eventually reaches its boundary.
      Explore is where we push past it — deliberately,
      measurably, and without losing architectural coherence.
    </p>
  </div>

  <div class="accordion" id="accordion"></div>

</div>

<nav class="dock">
  <a class="btn" id="dockIndex" href="/index.html">INDEX</a>
  <a class="btn" id="dockLaws" href="/laws/">LAWS</a>
  <a class="btn" id="dockGauges" href="/gauges/">GAUGES</a>
  <a class="btn" id="dockDoor" href="/door/">DOOR</a>
</nav>

<script>
(function(){

var qs=new URLSearchParams(location.search);
var lang=qs.get("lang")||localStorage.getItem("gd_lang")||"en";
if(!["en","zh","es"].includes(lang)) lang="en";
localStorage.setItem("gd_lang",lang);

function q(){
 return "?lang="+encodeURIComponent(lang);
}

function wire(id,path){
 var el=document.getElementById(id);
 if(el) el.href=path+q();
}

wire("btnHome","/home/");
wire("btnProducts","/products/");
wire("dockIndex","/index.html");
wire("dockLaws","/laws/");
wire("dockGauges","/gauges/");
wire("dockDoor","/door/");

document.getElementById("btnEN").onclick=function(){location.href=location.pathname+"?lang=en";};
document.getElementById("btnZH").onclick=function(){location.href=location.pathname+"?lang=zh";};
document.getElementById("btnES").onclick=function(){location.href=location.pathname+"?lang=es";};

var COPY={
 en:{
  head:"The Expansion Layer",
  desc:"Every structure eventually reaches its boundary. Explore is where we push past it — deliberately, measurably, and without losing architectural coherence.",
  blocks:[
   {t:"Frontier Systems",p:"Water, Waste, Energy, Habitat, Urban OS. These are not concepts — they are structured deployment visions built on measurable substrate logic.",link:"/explore/frontier/"},
   {t:"Economic & Risk Architecture",p:"Finance, Insurance, Compliance, Contracts, Regulatory Mapping. Expansion requires stable economic alignment.",link:"/explore/economic/"},
   {t:"Infrastructure Substitution",p:"Industrial replacement systems that operate within constraint law and deployment gating.",link:"/explore/infrastructure/"},
   {t:"Applied Coherence Models",p:"Where lattice structure meets real-world systems. Measurable, bounded, scalable.",link:"/explore/models/"}
  ]
 },
 zh:{
  head:"扩展层",
  desc:"每个结构都会触及边界。Explore 是我们有意识、可测量地突破边界的地方，同时保持架构一致性。",
  blocks:[
   {t:"前沿系统",p:"水、废弃物、能源、栖息地、城市操作系统。这不是概念，而是基于可测逻辑的部署愿景。",link:"/explore/frontier/"},
   {t:"经济与风险架构",p:"金融、保险、合规、合同、监管映射。扩展必须与经济结构一致。",link:"/explore/economic/"},
   {t:"基础设施替代",p:"在约束法则下运行的工业替代系统。",link:"/explore/infrastructure/"},
   {t:"应用一致性模型",p:"晶格结构与现实系统结合。可测量、可扩展。",link:"/explore/models/"}
  ]
 },
 es:{
  head:"Capa de Expansión",
  desc:"Toda estructura alcanza su límite. Explore es donde lo empujamos — de forma deliberada y medible, sin perder coherencia arquitectónica.",
  blocks:[
   {t:"Sistemas Frontier",p:"Agua, Residuos, Energía, Hábitat, Sistema Urbano. No son conceptos; son visiones desplegables estructuradas.",link:"/explore/frontier/"},
   {t:"Arquitectura Económica y de Riesgo",p:"Finanzas, Seguros, Cumplimiento, Contratos, Regulación. Escalar requiere alineación económica estable.",link:"/explore/economic/"},
   {t:"Sustitución de Infraestructura",p:"Sistemas industriales de reemplazo bajo leyes de restricción.",link:"/explore/infrastructure/"},
   {t:"Modelos Aplicados de Coherencia",p:"Donde la estructura de red se encuentra con sistemas reales. Medible y escalable.",link:"/explore/models/"}
  ]
 }
};

var C=COPY[lang];
document.getElementById("t").textContent=C.head;
document.getElementById("s").textContent=C.desc;

var acc=document.getElementById("accordion");

C.blocks.forEach(function(b,i){
 var block=document.createElement("div");
 block.className="block";
 var head=document.createElement("div");
 head.className="head";
 head.innerHTML='<div class="title">'+b.t+'</div><div class="chev">▸</div>';
 var body=document.createElement("div");
 body.className="body";
 body.innerHTML='<p class="p">'+b.p+'</p><a class="jump" href="'+b.link+q()+'">ENTER</a>';

 head.onclick=function(){
  var openNow=!block.classList.contains("open");
  document.querySelectorAll(".block").forEach(function(x){x.classList.remove("open");});
  block.classList.toggle("open",openNow);
 };

 block.appendChild(head);
 block.appendChild(body);
 acc.appendChild(block);
});

})();
</script>

</body>
</html>
