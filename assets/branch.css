/* GEODIAMETRICS â€” BRANCH GEOMETRY (CANONICAL)
   FILE: /assets/branch.css
   OWNERSHIP:
   - GEOMETRY + POSITIONING ONLY
   - MUST NOT style html/body background (ui.css owns field)
   - MUST NOT redefine material palette (ui.css owns material)
*/

/* ---------- SAFETY: never touch field ---------- */
html, body { background: unset !important; }

/* ---------- COMMON STAGE WRAPPERS ---------- */
.stage,
.platform,
.diamond-stage{
  position:relative;
  width:min(620px, 92vw);
  height:min(620px, 92vw);
  margin:0 auto;
}

/* ---------- 4-DIAMOND COMPASS PLATFORM ---------- */
.platform{
  display:block;
}

/* This targets ONLY diamonds inside .platform to avoid collisions with page-local .diamond */
.platform > .diamond{
  position:absolute;
  left:50%;
  top:50%;
  width:170px;
  height:170px;
  transform:translate(-50%,-50%) rotate(45deg);
  border-radius:26px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
}

/* Inner label should read upright */
.platform > .diamond > span,
.platform > .diamond > div,
.platform > .diamond > span > span{
  transform:rotate(-45deg);
  text-align:center;
}

/* Cardinal positions */
.platform > .diamond.top{
  transform:translate(-50%,-50%) translate(0, calc(-1 * var(--platR, 190px))) rotate(45deg);
}
.platform > .diamond.right{
  transform:translate(-50%,-50%) translate(var(--platR, 190px), 0) rotate(45deg);
}
.platform > .diamond.bottom{
  transform:translate(-50%,-50%) translate(0, var(--platR, 190px)) rotate(45deg);
}
.platform > .diamond.left{
  transform:translate(-50%,-50%) translate(calc(-1 * var(--platR, 190px)), 0) rotate(45deg);
}

/* Optional nucleus (if used) */
.platform > .diamond.core{
  width:74px;
  height:74px;
  border-radius:22px;
  transform:translate(-50%,-50%);
}

/* ---------- DIAMOND GRID / LIST HELPERS ---------- */
.branch-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}
@media (max-width:720px){
  .branch-grid{ grid-template-columns:1fr; }
}

/* ---------- MOBILE SCALING ---------- */
@media (max-width:560px){
  .stage,.platform,.diamond-stage{
    width:min(560px, 94vw);
    height:min(560px, 94vw);
  }
  .platform > .diamond{
    width:158px;
    height:158px;
    border-radius:24px;
  }
  .platform{ --platR: 170px; }
}
@media (max-width:420px){
  .platform > .diamond{
    width:146px;
    height:146px;
    border-radius:22px;
  }
  .platform{ --platR: 158px; }
}
