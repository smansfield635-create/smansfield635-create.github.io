<!-- TNT — /home/index.html (HUB A · 13 CONSTRUCT STACK · COLORED DIAMOND MARKERS)
     MODE: STRUCTURE-UNDER-HOOD / TED-TALK vs SCIENCE via gd_style
     LANG: gd_lang=en|zh controls EN-only / 中文-only rendering (no language UI)
     KEYS (CANON): gd_lang / gd_style / gd_time only
     UI: 13 long horizontal bubbles stacked vertically; each has a left diamond color marker
     NOTE: Replace href "#" with real targets later (no guessing here).
-->

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>HUB · Cardinal Axis</title>

<link rel="stylesheet" href="/assets/ui.css"/>
<link rel="stylesheet" href="/assets/branch.css"/>

<style>
/* DO NOT TOUCH FIELD — ui.css owns html/body background */
body{margin:0;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
a{color:inherit;text-decoration:none}

/* Buttons (fallback-safe) */
.btn,.crp-btn{
  display:inline-flex;align-items:center;justify-content:center;
  padding:10px 14px;border-radius:14px;
  background:linear-gradient(145deg, rgba(12,22,38,.92), rgba(7,11,18,.95));
  color:#fff;border:1px solid rgba(255,255,255,.10);
  box-shadow:0 14px 36px rgba(0,0,0,.65);
  cursor:pointer;font-weight:900;letter-spacing:.2px;
  -webkit-tap-highlight-color:transparent;
}
.btn:hover,.crp-btn:hover{box-shadow:0 18px 50px rgba(0,0,0,.9),0 0 14px rgba(212,175,55,.20)}
.btn:active,.crp-btn:active{transform:translateY(1px)}

:root{
  --goldSoft:rgba(212,175,55,.35);
}

/* Layout */
.wrap{width:min(1040px,94vw);margin:0 auto;padding:14px 0 110px;display:flex;flex-direction:column;gap:14px}
.topbar{
  position:sticky;top:0;z-index:50;
  padding:12px 0;
  backdrop-filter:blur(8px);
}
.toprow{
  display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;
}
.brand{
  display:flex;flex-direction:column;gap:4px;
  padding:10px 14px;border-radius:999px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.16);
}
.brand .k{font-size:12px;letter-spacing:3px;text-transform:uppercase;opacity:.78;margin:0}
.brand .t{font-weight:950;font-size:18px;letter-spacing:.2px;margin:0}
.brand .s{font-size:12px;opacity:.78;margin:0}

.controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:flex-end}
.select{
  appearance:none;
  padding:10px 14px;border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.18);
  color:#fff;font-weight:900;letter-spacing:.2px;
}

/* Rows (long horizontal bubbles stacked vertically) */
.list{display:flex;flex-direction:column;gap:12px}
.row{
  --c:#93C5FD;
  border:1px solid rgba(255,255,255,.10);
  border-radius:22px;
  background:linear-gradient(145deg, rgba(12,22,38,.86), rgba(7,11,18,.92));
  box-shadow:0 16px 52px rgba(0,0,0,.60);
  overflow:hidden;
}
.row::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
}
.head{
  display:flex;align-items:flex-start;justify-content:space-between;gap:10px;
  padding:14px 16px;
}
.left{display:flex;align-items:flex-start;gap:12px;min-width:0}

/* Diamond marker */
.mark{
  width:14px;height:14px;
  margin-top:3px;
  transform:rotate(45deg);
  border-radius:4px;
  background:var(--c);
  box-shadow:0 0 0 1px rgba(255,255,255,.14), 0 0 18px rgba(0,0,0,.35);
  flex:0 0 auto;
  pointer-events:none; /* never intercept taps */
}

/* Title block */
.tblock{min-width:0}
.title{
  font-weight:950;letter-spacing:.2px;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.sub{
  margin-top:4px;
  font-size:12px;opacity:.72;line-height:1.35;
}

/* Body */
.body{
  padding:0 16px 16px;
  display:flex;flex-direction:column;gap:12px;
}
.pbub{
  padding:14px 16px;border-radius:18px;
  border:1px solid rgba(255,255,255,.10);
  background:
    radial-gradient(circle at 30% 30%, rgba(120,160,255,.06), transparent 55%),
    linear-gradient(145deg, rgba(17,22,28,.80), rgba(11,15,20,.88));
  box-shadow:0 12px 40px rgba(0,0,0,.55), inset 0 2px 0 rgba(255,255,255,.05);
  position:relative;
}
.pbub::before{
  content:"";
  position:absolute;inset:0;border-radius:18px;padding:1px;
  background:linear-gradient(120deg, transparent 0%, var(--goldSoft) 50%, transparent 100%);
  opacity:.45;
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
  pointer-events:none;
}
.pt{margin:0 0 8px;font-weight:950;letter-spacing:.2px;font-size:13px}
.pp{margin:0;color:rgba(255,255,255,.86);line-height:1.55;font-size:13px}

.jump{display:flex;justify-content:flex-end}

/* Dock */
.dock{
  position:fixed;left:50%;
  bottom:max(12px, env(safe-area-inset-bottom));
  transform:translateX(-50%);
  z-index:120;
  width:min(980px,94vw);
  display:flex;justify-content:center;
  gap:10px;flex-wrap:wrap;
  padding:10px 12px;border-radius:999px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.20);
  backdrop-filter:blur(8px);
}

@media (max-width:560px){
  .brand .t{font-size:16px}
  .controls{justify-content:flex-start}
}
</style>
</head>

<body>

<div class="topbar">
  <div class="wrap">
    <div class="toprow">
      <div class="brand" aria-hidden="true">
        <p class="k" id="bk">CARDINAL AXIS</p>
        <p class="t" id="bt">HUB · Index</p>
        <p class="s" id="bs">13 constructs · Concept/Live/Roadmap · Jump</p>
      </div>

      <div class="controls">
        <select class="select" id="lensSelect" aria-label="Lens">
          <option value="informal">Informal</option>
          <option value="formal">Formal</option>
        </select>
      </div>
    </div>
  </div>
</div>

<div class="wrap">
  <div class="list" id="list"></div>
</div>

<nav class="dock" aria-label="Bottom navigation">
  <a class="btn" id="dockHub" href="/home/">HUB</a>
  <a class="btn" id="dockExplore" href="/explore/">EXPLORE</a>
  <a class="btn" id="dockProducts" href="/products/">PRODUCTS</a>
  <a class="btn" id="dockLaws" href="/laws/">LAWS</a>
  <a class="btn" id="dockGauges" href="/gauges/">GAUGES</a>
</nav>

<script>
(function(){
  // ===== CANON KEYS ONLY =====
  var qs = new URLSearchParams(location.search);
  var gd_lang  = qs.get("gd_lang")  || localStorage.getItem("gd_lang")  || "en";
  var gd_style = qs.get("gd_style") || localStorage.getItem("gd_style") || "informal";
  var gd_time  = qs.get("gd_time")  || localStorage.getItem("gd_time")  || "now";

  if(gd_lang!=="en" && gd_lang!=="zh") gd_lang="en";
  if(gd_style!=="formal" && gd_style!=="informal") gd_style="informal";
  if(gd_time==="trajectory") gd_time="post";
  if(gd_time!=="origin" && gd_time!=="now" && gd_time!=="post") gd_time="now";

  try{
    localStorage.setItem("gd_lang", gd_lang);
    localStorage.setItem("gd_style", gd_style);
    localStorage.setItem("gd_time", gd_time);
  }catch(e){}

  document.documentElement.lang = (gd_lang==="zh") ? "zh" : "en";

  function q(){
    var p=new URLSearchParams();
    p.set("gd_lang", gd_lang);
    p.set("gd_style", gd_style);
    p.set("gd_time", gd_time);
    return "?"+p.toString();
  }

  // Wire dock (state preserved)
  document.getElementById("dockHub").href="/home/"+q();
  document.getElementById("dockExplore").href="/explore/"+q();
  document.getElementById("dockProducts").href="/products/"+q();
  document.getElementById("dockLaws").href="/laws/"+q();
  document.getElementById("dockGauges").href="/gauges/"+q();

  // Lens control (only UI control on this page)
  var lensSelect=document.getElementById("lensSelect");
  lensSelect.value = gd_style;

  lensSelect.addEventListener("change", function(){
    gd_style = lensSelect.value;
    try{ localStorage.setItem("gd_style", gd_style); }catch(e){}
    location.search = q();
  });

  // Color ring (12) + CORE color (13th)
  var COLORS = {
    N:"#1F3A8A",
    NNE:"#2C3EAF",
    ENE:"#4B3FBF",
    E:"#0EA5E9",
    ESE:"#14B8A6",
    SSE:"#22C55E",
    S:"#F59E0B",
    SSW:"#EA580C",
    WSW:"#DC2626",
    W:"#7F1D1D",
    WNW:"#9333EA",
    NNW:"#334155",
    CORE:"#D4AF37"
  };

  function T(enF,enI,zhF,zhI){
    return (gd_lang==="zh") ? ((gd_style==="formal")?zhF:zhI) : ((gd_style==="formal")?enF:enI);
  }

  // 13 constructs (placeholders; stable structure; replace copy later)
  // Each has: key, title, sub, concept, live, roadmap, href
  var ITEMS = [
    {k:"CORE", title:T("CORE · Integrative Baseline","CORE · Baseline","核心 · 统合基线","核心 · 基线"), sub:T("Integration point that keeps everything comparable.","The center that keeps it sane.","统合点：让一切可比较。","中心：让系统不乱。"),
      c:T("CORE defines the invariant hinge that stabilizes traversal and admissibility.","CORE keeps the whole thing coherent.","核心定义稳定遍历与可采信的铰链。","核心让系统保持一致。"),
      n:T("Live behavior routes disputes into structure instead of escalation.","Live: return to center, then move.","现况：争议被路由回结构，而不是升级冲突。","现况：先回中心再走。"),
      r:T("Roadmap adds capability only by completing the geometry—never exceeding it.","Roadmap: grow within the cage.","路线图：只通过补全结构增长——绝不越界。","路线图：在边界内增长。"),
      href:"#"
    },

    {k:"N", title:T("N · DEFINITIONS","N · DEFINITIONS","北 · 定义","北 · 定义"), sub:T("Meaning before measurement.","Lock meaning first.","测量之前先定含义。","先钉含义。"),
      c:T("Definitions pin semantics so claims remain admissible under declared scope.","Lock meanings so nothing drifts.","定义钉住语义，使主张在声明范围内可采信。","把词钉死，后面就不漂。"),
      n:T("Live: shared terms remain stable across pages; disputes route to definitions.","Live: no semantic arguments—route.","现况：术语跨页面一致；争议回到定义。","现况：不吵语义，直接跳转。"),
      r:T("Roadmap: expand registry without mutating geometry.","Roadmap: grow dictionary, keep compass.","路线图：扩展注册表但不改变几何。","路线图：词典变大，罗盘不变。"),
      href:"#"
    },

    {k:"E", title:T("E · PRODUCTS","E · PRODUCTS","东 · 产品","东 · 产品"), sub:T("Execution surfaces under constraint.","Tools with boundaries.","在约束内的执行面。","有边界的工具。"),
      c:T("Products are bounded adoption ramps that preserve navigation contracts.","Tools that keep the rules.","产品是有界采纳匝道，必须保持导航契约。","工具也要守规矩。"),
      n:T("Live: claims route to verification surfaces, not persuasion.","Live: proof has an address.","现况：主张跳转核查面，而不是靠说服。","现况：证据有地址。"),
      r:T("Roadmap: scale by replication, not redesign.","Roadmap: clone structure.","路线图：复制扩张，不重造。","路线图：复制结构。"),
      href:"#"
    },

    {k:"S", title:T("S · CONSTRAINTS","S · CONSTRAINTS","南 · 约束","南 · 约束"), sub:T("Admissibility gates prevent drift.","Gates before expansion.","闸门防漂移。","先闸门再扩张。"),
      c:T("Constraints refuse claims without scope, receipts, and falsifiers.","No proof, no claim.","约束拒绝无范围/无收据/无证伪条件的主张。","没证据就别说。"),
      n:T("Live: gate enforcement blocks shortcuts and inflation.","Live: no shortcuts.","现况：闸门执行阻止抄近道与膨胀。","现况：不走捷径。"),
      r:T("Roadmap: tighten only with evidence; never loosen by story.","Roadmap: evidence tightens.","路线图：只用证据收紧，不靠叙事放松。","路线图：证据能收紧。"),
      href:"#"
    },

    {k:"W", title:T("W · CONTAINMENT","W · CONTAINMENT","西 · 隔离","西 · 隔离"), sub:T("Isolation prevents cascade.","Keep damage local.","隔离防级联。","把损伤局部化。"),
      c:T("Containment segments failure so local breaks don’t become global collapse.","Contain fast.","隔离把失败分段，防止全局崩塌。","先隔离别扩散。"),
      n:T("Live: return paths stay available; evidence chains stay linkable.","Live: always an exit.","现况：返回路径始终存在；证据链可引用。","现况：永远有出口。"),
      r:T("Roadmap: add containment gauges as scale increases.","Roadmap: measure spillover.","路线图：规模增长时增加隔离量规。","路线图：测外溢。"),
      href:"#"
    },

    // 8 transitional faces (legend-level constructs, still valid as constructs)
    {k:"NNE", title:T("NNE · Blend","NNE · Blend","NNE · 过渡","NNE · 过渡"), sub:T("Definitions → Products blend.","Meaning becoming tool.","定义→产品混合。","含义走向工具。"),
      c:T("Concept: bridge semantics into executable form without drift.","Concept: bridge meaning to tool.","概念：把语义桥接为可执行形式且不漂移。","概念：含义变工具。"),
      n:T("Live: transitional definitions remain bounded and cite the spine.","Live: cite the spine.","现况：过渡定义保持有界并引用脊柱。","现况：引用脊柱。"),
      r:T("Roadmap: refine projection without creating new geometry.","Roadmap: refine without new faces.","路线图：细化投影但不新增几何。","路线图：细化不加面。"),
      href:"#"
    },
    {k:"ENE", title:T("ENE · Transition","ENE · Transition","ENE · 转换","ENE · 转换"), sub:T("Definitions → Products transition.","From contract to surface.","定义→产品转换。","从契约到执行面。"),
      c:T("Concept: convert declared meaning into stable execution surfaces.","Concept: convert meaning to surface.","概念：把声明含义转为稳定执行面。","概念：含义变执行面。"),
      n:T("Live: execution inherits limits from definitions.","Live: boundaries travel.","现况：执行继承定义边界。","现况：边界跟着走。"),
      r:T("Roadmap: keep deployment comparable across instances.","Roadmap: comparable scaling.","路线图：保持跨实例可比较部署。","路线图：可比扩张。"),
      href:"#"
    },
    {k:"ESE", title:T("ESE · Blend","ESE · Blend","ESE · 过渡","ESE · 过渡"), sub:T("Products → Constraints blend.","Power meets gate.","产品→约束混合。","能力遇到闸门。"),
      c:T("Concept: execution must meet admissibility gates.","Concept: power meets rules.","概念：执行必须满足可采信闸门。","概念：能力遇规则。"),
      n:T("Live: products route to gates before scale.","Live: gate before scale.","现况：产品扩张前先过闸门。","现况：先闸门。"),
      r:T("Roadmap: publish readiness checklists, not hype.","Roadmap: checklist culture.","路线图：公开清单，不搞噱头。","路线图：清单文化。"),
      href:"#"
    },
    {k:"SSE", title:T("SSE · Transition","SSE · Transition","SSE · 转换","SSE · 转换"), sub:T("Products → Constraints transition.","Deployment under pressure.","产品→约束转换。","压力下部署。"),
      c:T("Concept: ‘when’ equals prerequisites, not dates.","Concept: readiness first.","概念：“何时”=先决条件。","概念：先就绪。"),
      n:T("Live: gates prevent narrative inflation during pressure.","Live: pressure reveals truth.","现况：压力下闸门阻止膨胀。","现况：压力见真章。"),
      r:T("Roadmap: tighten gates with evidence accumulation.","Roadmap: evidence tightens.","路线图：证据积累收紧闸门。","路线图：证据收紧。"),
      href:"#"
    },
    {k:"SSW", title:T("SSW · Blend","SSW · Blend","SSW · 过渡","SSW · 过渡"), sub:T("Constraints → Containment blend.","Gate meets isolation.","约束→隔离混合。","闸门遇隔离。"),
      c:T("Concept: refusal and containment cooperate.","Concept: no + isolate.","概念：拒绝与隔离协同。","概念：拒绝+隔离。"),
      n:T("Live: safe ‘no’ plus clean back paths.","Live: safe exits.","现况：安全拒绝+干净返回。","现况：安全出口。"),
      r:T("Roadmap: reduce cascade risk as scale increases.","Roadmap: anti-cascade.","路线图：规模化降低级联风险。","路线图：抗级联。"),
      href:"#"
    },
    {k:"WSW", title:T("WSW · Transition","WSW · Transition","WSW · 转换","WSW · 转换"), sub:T("Constraints → Containment transition.","Failure vector controlled.","约束→隔离转换。","控制失败向量。"),
      c:T("Concept: segment failures so they don’t amplify.","Concept: contain fast.","概念：分段失败防放大。","概念：快速隔离。"),
      n:T("Live: evidence chains keep integrity enforceable.","Live: receipts bind reality.","现况：证据链让完整性可执行。","现况：收据绑定现实。"),
      r:T("Roadmap: audit posture strengthens without exposing recipes.","Roadmap: audit safely.","路线图：强化审计姿态但不泄密。","路线图：安全审计。"),
      href:"#"
    },
    {k:"WNW", title:T("WNW · Blend","WNW · Blend","WNW · 过渡","WNW · 过渡"), sub:T("Containment → Definitions blend.","Return to meaning.","隔离→定义混合。","回到含义。"),
      c:T("Concept: containment feeds back into clearer definitions.","Concept: tighten language.","概念：隔离反馈更清晰定义。","概念：收紧语言。"),
      n:T("Live: audits drive definition corrections via versioning.","Live: versioned corrections.","现况：审计通过版本化推动定义修正。","现况：版本化修正。"),
      r:T("Roadmap: shorten returns as registry grows.","Roadmap: faster re-anchor.","路线图：注册表增长让返回更短。","路线图：更快再锚定。"),
      href:"#"
    },
    {k:"NNW", title:T("NNW · Transition","NNW · Transition","NNW · 转换","NNW · 转换"), sub:T("Containment → Definitions transition.","Reset without drift.","隔离→定义转换。","不漂移的重置。"),
      c:T("Concept: return paths restore coherence under pressure.","Concept: reset clean.","概念：返回路径在压力下恢复一致性。","概念：干净重置。"),
      n:T("Live: re-entry preserves state and avoids semantic swaps.","Live: no silent swaps.","现况：重入保持状态并防静默偷换。","现况：不悄悄换。"),
      r:T("Roadmap: add lookup points to reduce confusion under scale.","Roadmap: more lookup.","路线图：增加查表点减少规模化困惑。","路线图：更多查表。"),
      href:"#"
    }
  ];

  // Header i18n (render-only)
  function setText(id, txt){ var el=document.getElementById(id); if(el) el.textContent=txt; }
  if(gd_lang==="zh"){
    setText("bk","基轴体系");
    setText("bt","枢纽 · 索引");
    setText("bs","13个构件 · 概念/现况/路线图 · 跳转");
    lensSelect.options[0].text="非正式";
    lensSelect.options[1].text="正式";
  }else{
    setText("bk","CARDINAL AXIS");
    setText("bt","HUB · Index");
    setText("bs","13 constructs · Concept/Live/Roadmap · Jump");
    lensSelect.options[0].text="Informal";
    lensSelect.options[1].text="Formal";
  }

  // Render list
  var list=document.getElementById("list");

  function makeRow(item){
    var row=document.createElement("div");
    row.className="row";
    row.style.setProperty("--c", COLORS[item.k] || "#93C5FD");

    var head=document.createElement("div");
    head.className="head";

    var left=document.createElement("div");
    left.className="left";

    var mark=document.createElement("div");
    mark.className="mark";

    var tblock=document.createElement("div");
    tblock.className="tblock";

    var title=document.createElement("div");
    title.className="title";
    title.textContent=item.title;

    var sub=document.createElement("div");
    sub.className="sub";
    sub.textContent=item.sub;

    tblock.appendChild(title);
    tblock.appendChild(sub);

    left.appendChild(mark);
    left.appendChild(tblock);

    head.appendChild(left);

    var body=document.createElement("div");
    body.className="body";

    function para(label, text){
      var b=document.createElement("div");
      b.className="pbub";
      var pt=document.createElement("p");
      pt.className="pt";
      pt.textContent=label;
      var pp=document.createElement("p");
      pp.className="pp";
      pp.textContent=text;
      b.appendChild(pt);
      b.appendChild(pp);
      return b;
    }

    var Lc = (gd_lang==="zh") ? "概念" : "Concept";
    var Ln = (gd_lang==="zh") ? "现况" : "Live";
    var Lr = (gd_lang==="zh") ? "路线图" : "Roadmap";
    body.appendChild(para(Lc, item.c));
    body.appendChild(para(Ln, item.n));
    body.appendChild(para(Lr, item.r));

    var jump=document.createElement("div");
    jump.className="jump";
    var a=document.createElement("a");
    a.className="btn";
    a.textContent = (gd_lang==="zh") ? "跳转" : "JUMP";
    a.href = item.href + (item.href.indexOf("?")>=0 ? "" : q());
    if(item.href==="#") a.href="#";
    jump.appendChild(a);
    body.appendChild(jump);

    row.appendChild(head);
    row.appendChild(body);
    return row;
  }

  function render(){
    list.innerHTML="";
    ITEMS.forEach(function(it){ list.appendChild(makeRow(it)); });
  }

  render();

})();
</script>

</body>
</html>
