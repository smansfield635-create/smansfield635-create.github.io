<!-- TNT — /gauges/index.html
     GAUGES · INSTRUMENTATION SPINE
     STRUCTURE:
       - 7 Canonical Instruments
       - Trilingual Lens: EN / 中文 / ES
       - Four Analytical Lenses:
            INFORMAL
            FORMAL
            ENGINEERING
            PLATFORM
       - Single-open accordion
       - Canon state carry (gd_lang / gd_style / gd_time / gd_depth)
       - No overlays, no modals
-->

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>GAUGES · Instrumentation</title>

<link rel="stylesheet" href="/assets/ui.css"/>
<link rel="stylesheet" href="/assets/branch.css"/>
<script defer src="/assets/instruments.js"></script>

<style>
a{color:inherit;text-decoration:none}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;color:#fff}
body::before,body::after{pointer-events:none!important}

:root{
  --dockH:92px;
  --stroke:rgba(255,255,255,.10);
  --inkA:rgba(12,22,38,.92);
  --inkB:rgba(6,10,16,.96);
  --opalA:rgba(210,190,255,.16);
  --opalB:rgba(120,70,255,.10);
  --redGlow:rgba(255,70,70,.18);
  --mut:rgba(255,255,255,.88);
}

.page{
  width:min(1100px,94vw);
  margin:0 auto;
  padding:90px 0 calc(var(--dockH) + 18px);
  display:flex;
  flex-direction:column;
  gap:16px;
}

/* HEADER */
.header{
  border:1px solid var(--stroke);
  border-radius:22px;
  background:
    radial-gradient(circle at 20% 20%, var(--opalA), transparent 60%),
    radial-gradient(circle at 80% 30%, var(--opalB), transparent 65%),
    rgba(0,0,0,.16);
  padding:22px;
  box-shadow:0 30px 100px rgba(0,0,0,.6);
}

.t{
  font-weight:950;
  font-size:32px;
  letter-spacing:.8px;
  margin:0 0 12px;
}

.s{
  font-size:16px;
  line-height:1.7;
  opacity:.92;
  margin:0;
}

/* LENS SELECTORS */
.selector{
  margin-top:16px;
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:space-between;
}

.pill{
  padding:10px 16px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.22);
  cursor:pointer;
  font-weight:900;
}

.pill.active{
  border-color:rgba(255,80,80,.55);
  box-shadow:0 0 18px var(--redGlow);
}

/* ACCORDION */
.list{display:flex;flex-direction:column;gap:14px}

.row{
  border:1px solid var(--stroke);
  border-radius:22px;
  background:linear-gradient(145deg,var(--inkA),var(--inkB));
  overflow:hidden;
}

.head{
  padding:18px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  cursor:pointer;
}

.title{
  font-weight:950;
  font-size:18px;
}

.body{
  display:none;
  padding:20px;
  border-top:1px solid var(--stroke);
}

.row.open .body{display:block}

.content{
  font-size:16px;
  line-height:1.75;
  color:var(--mut);
}

/* DOCK */
.dock{
  position:fixed;left:50%;
  bottom:max(10px, env(safe-area-inset-bottom));
  transform:translateX(-50%);
  width:min(980px,94vw);
  padding:10px;
  border-radius:22px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.22);
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
}
.dock .btn{width:100%;padding:10px;border-radius:999px}

</style>
</head>

<body>

<div class="page">

  <div class="header">
    <h1 class="t" id="hdrTitle">INSTRUMENTATION SPINE</h1>
    <p class="s" id="hdrSub">
      If instability exists, it has a pattern.
      These instruments expose that pattern before it becomes collapse.
    </p>

    <div class="selector">
      <div>
        <button class="pill active" id="langEN">EN</button>
        <button class="pill" id="langZH">中文</button>
        <button class="pill" id="langES">ES</button>
      </div>
      <div>
        <button class="pill active" id="lensInformal">INFORMAL</button>
        <button class="pill" id="lensFormal">FORMAL</button>
        <button class="pill" id="lensEngineering">ENGINEERING</button>
        <button class="pill" id="lensPlatform">PLATFORM</button>
      </div>
    </div>
  </div>

  <div class="list" id="list"></div>

</div>

<nav class="dock">
  <a class="btn" href="/index.html">INDEX</a>
  <a class="btn" href="/explore/">EXPLORE</a>
  <a class="btn" href="/products/">PRODUCTS</a>
  <a class="btn" href="/laws/">LAWS</a>
</nav>

<script>
(function(){

let lang="en";
let lens="informal";

const INSTRUMENTS=[
"SCI · Scalar Coherence Index",
"Collapse Detection Engine",
"Windowed Stability Analyzer",
"256-State Sweep",
"Correlation Exposure Monitor",
"Weak-Point Heatmap",
"Registry Verification Surface"
];

function content(name){

  const TEXT={
    informal:{
      en:"This instrument shows you where pressure builds and where structure begins to bend.",
      zh:"该仪器揭示压力积累的位置以及结构开始弯曲的点。",
      es:"Este instrumento revela dónde se acumula presión y dónde la estructura comienza a ceder."
    },
    formal:{
      en:"Provides bounded, observer-invariant measurement under declared scope with reproducible outputs.",
      zh:"在声明范围内提供有界、观察者不变的可重复测量输出。",
      es:"Proporciona medición acotada e invariante bajo alcance declarado con resultados reproducibles."
    },
    engineering:{
      en:"Implements deterministic constraint evaluation, vector scoring, and collapse boundary detection.",
      zh:"实现确定性约束评估、向量评分与崩溃边界检测。",
      es:"Implementa evaluación determinista de restricciones, puntuación vectorial y detección de límites de colapso."
    },
    platform:{
      en:"Deployable monitoring surface for institutional oversight, underwriting, and governance integration.",
      zh:"可部署的监测界面，用于机构监督、承保与治理集成。",
      es:"Superficie desplegable de monitoreo para supervisión institucional, suscripción y gobernanza."
    }
  };

  return TEXT[lens][lang];
}

function render(){

  const list=document.getElementById("list");
  list.innerHTML="";

  INSTRUMENTS.forEach((name,i)=>{

    const row=document.createElement("div");
    row.className="row";

    const head=document.createElement("div");
    head.className="head";
    head.innerHTML='<div class="title">'+name+'</div><div>▸</div>';

    const body=document.createElement("div");
    body.className="body";
    body.innerHTML='<div class="content">'+content(name)+'</div>';

    head.onclick=()=>{
      document.querySelectorAll(".row").forEach(r=>r.classList.remove("open"));
      row.classList.toggle("open");
    };

    row.appendChild(head);
    row.appendChild(body);
    list.appendChild(row);
  });

}

function activate(btnGroup,id,value,type){
  document.querySelectorAll(btnGroup).forEach(b=>b.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  if(type==="lang") lang=value;
  if(type==="lens") lens=value;
  render();
}

/* Language */
document.getElementById("langEN").onclick=()=>activate(".selector button","langEN","en","lang");
document.getElementById("langZH").onclick=()=>activate(".selector button","langZH","zh","lang");
document.getElementById("langES").onclick=()=>activate(".selector button","langES","es","lang");

/* Lens */
document.getElementById("lensInformal").onclick=()=>activate(".selector button","lensInformal","informal","lens");
document.getElementById("lensFormal").onclick=()=>activate(".selector button","lensFormal","formal","lens");
document.getElementById("lensEngineering").onclick=()=>activate(".selector button","lensEngineering","engineering","lens");
document.getElementById("lensPlatform").onclick=()=>activate(".selector button","lensPlatform","platform","lens");

render();

})();
</script>

</body>
</html>
