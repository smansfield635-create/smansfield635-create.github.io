<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>HOME · Geodiametrics</title>

  <link rel="stylesheet" href="/assets/ui.css?v=9800"/>
  <link rel="stylesheet" href="/assets/branch.css?v=9800"/>
</head>

<body>

<div class="page">
  <div class="wrap">

    <!-- BACK TO LANGUAGE -->
    <div style="position:absolute;left:16px;top:16px">
      <a href="/" class="pill btn">◀ Language</a>
    </div>

    <div class="hero" style="text-align:center">
      <h1>HOME</h1>
      <p>Compass Face · Vector Understanding</p>
    </div>

    <!-- LENS CONTROLS -->

    <div style="display:flex;flex-direction:column;align-items:center;gap:14px;margin-top:24px">

      <!-- FORMAL / INFORMAL -->
      <button id="modeToggle" class="pill btn">FORMAL</button>

      <!-- TIME -->
      <div style="display:flex;gap:10px">
        <button class="pill btn timeBtn" data-time="origin">ORIGIN</button>
        <button class="pill btn timeBtn" data-time="now">NOW</button>
        <button class="pill btn timeBtn" data-time="trajectory">TRAJECTORY</button>
      </div>

    </div>

    <!-- COMPASS CROSS -->

    <div id="compass" style="position:relative;margin-top:60px;height:60vh;max-height:600px">

      <!-- NORTH -->
      <div class="direction north">
        <h3>NORTH</h3>
        <p id="northText"></p>
      </div>

      <!-- EAST -->
      <div class="direction east">
        <h3>EAST</h3>
        <p id="eastText"></p>
      </div>

      <!-- SOUTH -->
      <div class="direction south">
        <h3>SOUTH</h3>
        <p id="southText"></p>
      </div>

      <!-- WEST -->
      <div class="direction west">
        <h3>WEST</h3>
        <p id="westText"></p>
      </div>

    </div>

  </div>
</div>

<script>
let mode = "formal"
let time = "origin"

const content = {
  north: {
    formal: {
      origin: "North defines invariant structure.",
      now: "North stabilizes current position.",
      trajectory: "North preserves long-term coherence."
    },
    informal: {
      origin: "North is your anchor.",
      now: "North keeps you steady.",
      trajectory: ""
    }
  },
  east: {
    formal: {
      origin: "East maps execution pathways.",
      now: "East expresses operational flow.",
      trajectory: "East scales systems forward."
    },
    informal: {
      origin: "East is how you move.",
      now: "East is doing.",
      trajectory: ""
    }
  },
  south: {
    formal: {
      origin: "South defines convergence pressure.",
      now: "South applies constraint.",
      trajectory: "South refines impact over time."
    },
    informal: {
      origin: "South is where force happens.",
      now: "South pushes.",
      trajectory: ""
    }
  },
  west: {
    formal: {
      origin: "West governs containment.",
      now: "West enforces boundaries.",
      trajectory: "West protects systemic integrity."
    },
    informal: {
      origin: "West keeps things tight.",
      now: "West guards the edge.",
      trajectory: ""
    }
  }
}

function render() {
  document.getElementById("northText").innerText = content.north[mode][time] || ""
  document.getElementById("eastText").innerText = content.east[mode][time] || ""
  document.getElementById("southText").innerText = content.south[mode][time] || ""
  document.getElementById("westText").innerText = content.west[mode][time] || ""

  // Hide trajectory if informal
  const trajectoryBtn = document.querySelector('[data-time="trajectory"]')
  if(mode === "informal"){
    trajectoryBtn.style.display = "none"
    if(time === "trajectory") time = "origin"
  } else {
    trajectoryBtn.style.display = "inline-block"
  }
}

document.getElementById("modeToggle").addEventListener("click", () => {
  mode = mode === "formal" ? "informal" : "formal"
  document.getElementById("modeToggle").innerText = mode.toUpperCase()
  render()
})

document.querySelectorAll(".timeBtn").forEach(btn => {
  btn.addEventListener("click", () => {
    time = btn.dataset.time
    render()
  })
})

render()
</script>

<style>
/* CROSS LAYOUT */

.direction{
  position:absolute;
  width:45%;
  max-width:300px;
  padding:18px;
  border-radius:18px;
  backdrop-filter:blur(6px);
  background:rgba(255,255,255,0.05);
  text-align:center;
}

.north{top:0;left:50%;transform:translateX(-50%);}
.south{bottom:0;left:50%;transform:translateX(-50%);}
.east{top:50%;right:0;transform:translateY(-50%);}
.west{top:50%;left:0;transform:translateY(-50%);}

/* MOBILE ADAPT */
@media(max-width:768px){
  #compass{
    display:flex;
    flex-direction:column;
    gap:20px;
    height:auto;
  }
  .direction{
    position:relative;
    width:100%;
    max-width:none;
    transform:none !important;
  }
}
</style>

</body>
</html>
